{"version":3,"file":"app.js","sources":["../../viewer_ui/src/app.ts"],"sourcesContent":["/* Viewer UI source (TypeScript).\n *\n * Built to: opencode_mem/viewer_static/app.js (served at /assets/app.js)\n */\n\n/* global marked, lucide */\n\nconst refreshStatus = document.getElementById('refreshStatus');\nconst statsGrid = document.getElementById('statsGrid');\nconst metaLine = document.getElementById('metaLine');\nconst feedList = document.getElementById('feedList');\nconst feedMeta = document.getElementById('feedMeta');\nconst feedTypeToggle = document.getElementById('feedTypeToggle');\nconst sessionGrid = document.getElementById('sessionGrid');\nconst sessionMeta = document.getElementById('sessionMeta');\nconst settingsButton = document.getElementById('settingsButton');\nconst settingsBackdrop = document.getElementById('settingsBackdrop');\nconst settingsModal = document.getElementById('settingsModal');\nconst settingsClose = document.getElementById('settingsClose');\nconst settingsSave = document.getElementById('settingsSave');\nconst settingsStatus = document.getElementById('settingsStatus');\nconst settingsPath = document.getElementById('settingsPath');\nconst settingsEffective = document.getElementById('settingsEffective');\nconst settingsOverrides = document.getElementById('settingsOverrides');\nconst observerProviderInput = document.getElementById(\n  'observerProvider',\n) as HTMLSelectElement | null;\nconst observerModelInput = document.getElementById(\n  'observerModel',\n) as HTMLInputElement | null;\nconst observerMaxCharsInput = document.getElementById(\n  'observerMaxChars',\n) as HTMLInputElement | null;\nconst observerMaxCharsHint = document.getElementById('observerMaxCharsHint');\nconst packObservationLimitInput = document.getElementById(\n  'packObservationLimit',\n) as HTMLInputElement | null;\nconst packSessionLimitInput = document.getElementById(\n  'packSessionLimit',\n) as HTMLInputElement | null;\nconst syncEnabledInput = document.getElementById(\n  'syncEnabled',\n) as HTMLInputElement | null;\nconst syncHostInput = document.getElementById(\n  'syncHost',\n) as HTMLInputElement | null;\nconst syncPortInput = document.getElementById(\n  'syncPort',\n) as HTMLInputElement | null;\nconst syncIntervalInput = document.getElementById(\n  'syncInterval',\n) as HTMLInputElement | null;\nconst syncMdnsInput = document.getElementById(\n  'syncMdns',\n) as HTMLInputElement | null;\nconst projectFilter = document.getElementById(\n  'projectFilter',\n) as HTMLSelectElement | null;\nconst themeToggle = document.getElementById(\n  'themeToggle',\n) as HTMLButtonElement | null;\nconst syncMeta = document.getElementById('syncMeta');\nconst syncHealthGrid = document.getElementById('syncHealthGrid');\nconst syncStatusGrid = document.getElementById('syncStatusGrid');\nconst syncDiagnostics = document.getElementById('syncDiagnostics');\nconst syncPeers = document.getElementById('syncPeers');\nconst syncAttempts = document.getElementById('syncAttempts');\nconst syncNowButton = document.getElementById(\n  'syncNowButton',\n) as HTMLButtonElement | null;\nconst syncDetailsToggle = document.getElementById(\n  'syncDetailsToggle',\n) as HTMLButtonElement | null;\nconst syncPairingToggle = document.getElementById(\n  'syncPairingToggle',\n) as HTMLButtonElement | null;\nconst syncRedact = document.getElementById(\n  'syncRedact',\n) as HTMLInputElement | null;\nconst pairingPayload = document.getElementById('pairingPayload');\nconst pairingCopy = document.getElementById(\n  'pairingCopy',\n) as HTMLButtonElement | null;\nconst pairingHint = document.getElementById('pairingHint');\nconst syncPairing = document.getElementById('syncPairing');\n\nlet configDefaults: Record<string, any> = {};\nlet configPath = '';\nlet currentProject = '';\nconst itemViewState = new Map();\nconst FEED_FILTER_KEY = 'opencode-mem-feed-filter';\nconst FEED_FILTERS = ['all', 'observations', 'summaries'];\n\nconst SYNC_DIAGNOSTICS_KEY = 'opencode-mem-sync-diagnostics';\nconst SYNC_PAIRING_KEY = 'opencode-mem-sync-pairing';\nconst SYNC_REDACT_KEY = 'opencode-mem-sync-redact';\nlet feedTypeFilter = 'all';\nlet pairingPayloadRaw: any = null;\nlet pairingCommandRaw = '';\nlet lastSyncStatus: any = null;\nlet lastSyncPeers: any[] = [];\nlet lastSyncAttempts: any[] = [];\nlet syncPairingOpen = false;\n\nlet refreshInFlight = false;\nlet refreshQueued = false;\nlet refreshTimer: ReturnType<typeof setInterval> | null = null;\nlet lastFeedSignature = '';\n\nfunction isSettingsOpen() {\n  return Boolean(settingsModal && !settingsModal.hasAttribute('hidden'));\n}\n\nfunction stopPolling() {\n  if (refreshTimer) {\n    clearInterval(refreshTimer);\n    refreshTimer = null;\n  }\n}\n\nfunction startPolling() {\n  if (refreshTimer) return;\n  refreshTimer = setInterval(() => {\n    refresh();\n  }, 5000);\n}\n\ndocument.addEventListener('visibilitychange', () => {\n  if (document.visibilityState === 'hidden') {\n    stopPolling();\n    return;\n  }\n  if (!isSettingsOpen()) {\n    startPolling();\n    refresh();\n  }\n});\n\n// Theme management\nfunction getTheme() {\n  const saved = localStorage.getItem('opencode-mem-theme');\n  if (saved) return saved;\n  return window.matchMedia('(prefers-color-scheme: dark)').matches\n    ? 'dark'\n    : 'light';\n}\n\nfunction setTheme(theme: string) {\n  document.documentElement.setAttribute('data-theme', theme);\n  localStorage.setItem('opencode-mem-theme', theme);\n  if (themeToggle) {\n    themeToggle.innerHTML =\n      theme === 'dark'\n        ? '<i data-lucide=\"sun\"></i>'\n        : '<i data-lucide=\"moon\"></i>';\n    themeToggle.title =\n      theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode';\n  }\n  if (typeof (globalThis as any).lucide !== 'undefined')\n    (globalThis as any).lucide.createIcons();\n}\n\nfunction toggleTheme() {\n  const current = getTheme();\n  setTheme(current === 'dark' ? 'light' : 'dark');\n}\n\n// Initialize theme\nsetTheme(getTheme());\nthemeToggle?.addEventListener('click', toggleTheme);\n\nsetSyncDiagnosticsOpen(isSyncDiagnosticsOpen());\ntry {\n  syncPairingOpen = localStorage.getItem(SYNC_PAIRING_KEY) === '1';\n} catch {\n  syncPairingOpen = false;\n}\nsetSyncPairingOpen(syncPairingOpen);\nsetSyncRedactionEnabled(isSyncRedactionEnabled());\n\nsyncDetailsToggle?.addEventListener('click', () => {\n  const next = !isSyncDiagnosticsOpen();\n  setSyncDiagnosticsOpen(next);\n  refresh();\n});\n\nsyncPairingToggle?.addEventListener('click', () => {\n  const next = !isSyncPairingOpen();\n  setSyncPairingOpen(next);\n  if (next) {\n    if (pairingPayload) pairingPayload.textContent = 'Loading…';\n    if (pairingHint) pairingHint.textContent = 'Fetching pairing command…';\n  }\n  refresh();\n});\n\nsyncRedact?.addEventListener('change', () => {\n  setSyncRedactionEnabled(Boolean(syncRedact.checked));\n  renderSyncStatus(lastSyncStatus);\n  renderSyncPeers(lastSyncPeers);\n  renderSyncAttempts(lastSyncAttempts);\n  renderPairing(pairingPayloadRaw);\n});\n\nfeedTypeFilter = getFeedTypeFilter();\nupdateFeedTypeToggle();\nfeedTypeToggle?.addEventListener('click', (event) => {\n  const target = (event as any).target?.closest?.('button');\n  if (!target) return;\n  const value = target.dataset.filter || 'all';\n  setFeedTypeFilter(value);\n});\n\nfunction formatDate(value: any) {\n  if (!value) return 'n/a';\n  const date = new Date(value);\n  return Number.isNaN(date.getTime()) ? String(value) : date.toLocaleString();\n}\n\nfunction normalize(text: any) {\n  return String(text || '')\n    .replace(/\\s+/g, ' ')\n    .trim()\n    .toLowerCase();\n}\n\nfunction parseJsonArray(value: any) {\n  if (!value) return [];\n  if (Array.isArray(value)) return value;\n  if (typeof value === 'string') {\n    try {\n      const parsed = JSON.parse(value);\n      return Array.isArray(parsed) ? parsed : [];\n    } catch {\n      return [];\n    }\n  }\n  return [];\n}\n\nfunction getFeedTypeFilter() {\n  const saved = localStorage.getItem(FEED_FILTER_KEY) || 'all';\n  return FEED_FILTERS.includes(saved) ? saved : 'all';\n}\n\nfunction isSyncDiagnosticsOpen() {\n  return localStorage.getItem(SYNC_DIAGNOSTICS_KEY) === '1';\n}\n\nfunction setSyncDiagnosticsOpen(open: boolean) {\n  if (syncDiagnostics) {\n    (syncDiagnostics as any).hidden = !open;\n  }\n  if (syncDetailsToggle) {\n    syncDetailsToggle.textContent = open ? 'Hide diagnostics' : 'Diagnostics';\n  }\n  localStorage.setItem(SYNC_DIAGNOSTICS_KEY, open ? '1' : '0');\n}\n\nfunction isSyncPairingOpen() {\n  return syncPairingOpen;\n}\n\nfunction setSyncPairingOpen(open: boolean) {\n  syncPairingOpen = open;\n  if (syncPairing) {\n    (syncPairing as any).hidden = !open;\n  }\n  if (syncPairingToggle) {\n    syncPairingToggle.textContent = open ? 'Close' : 'Pair';\n  }\n  try {\n    localStorage.setItem(SYNC_PAIRING_KEY, open ? '1' : '0');\n  } catch {\n    // Ignore persistence errors.\n  }\n}\n\nfunction isSyncRedactionEnabled() {\n  const raw = localStorage.getItem(SYNC_REDACT_KEY);\n  return raw !== '0';\n}\n\nfunction setSyncRedactionEnabled(enabled: boolean) {\n  localStorage.setItem(SYNC_REDACT_KEY, enabled ? '1' : '0');\n  if (syncRedact) {\n    syncRedact.checked = enabled;\n  }\n}\n\nfunction setFeedTypeFilter(value: string) {\n  feedTypeFilter = FEED_FILTERS.includes(value) ? value : 'all';\n  localStorage.setItem(FEED_FILTER_KEY, feedTypeFilter);\n  updateFeedTypeToggle();\n  refresh();\n}\n\nfunction updateFeedTypeToggle() {\n  if (!feedTypeToggle) return;\n  const buttons = Array.from(feedTypeToggle.querySelectorAll('.toggle-button'));\n  buttons.forEach((button) => {\n    const value = (button as any).dataset?.filter || 'all';\n    button.classList.toggle('active', value === feedTypeFilter);\n  });\n}\n\nfunction filterFeedItems(items: any[]) {\n  if (feedTypeFilter === 'observations') {\n    return items.filter(\n      (item) => String(item.kind || '').toLowerCase() !== 'session_summary',\n    );\n  }\n  if (feedTypeFilter === 'summaries') {\n    return items.filter(\n      (item) => String(item.kind || '').toLowerCase() === 'session_summary',\n    );\n  }\n  return items;\n}\n\nfunction formatFeedFilterLabel() {\n  if (feedTypeFilter === 'observations') return ' · observations';\n  if (feedTypeFilter === 'summaries') return ' · session summaries';\n  return '';\n}\n\nfunction extractFactsFromBody(text: any) {\n  if (!text) return [];\n  const lines = String(text)\n    .split('\\n')\n    .map((line) => line.trim())\n    .filter(Boolean);\n  const bulletLines = lines.filter(\n    (line) => /^[-*\\u2022]\\s+/.test(line) || /^\\d+\\./.test(line),\n  );\n  if (!bulletLines.length) return [];\n  return bulletLines.map((line) =>\n    line.replace(/^[-*\\u2022]\\s+/, '').replace(/^\\d+\\.\\s+/, ''),\n  );\n}\n\nfunction isLowSignalObservation(item: any) {\n  const title = normalize(item.title);\n  const body = normalize(item.body_text);\n  if (!title && !body) return true;\n\n  const combined = body || title;\n  if (combined.length < 10) return true;\n  if (title && body && title === body && combined.length < 40) return true;\n\n  const leadGlyph = title.charAt(0);\n  const isPrompty = leadGlyph === '\\u2514' || leadGlyph === '\\u203a';\n  if (isPrompty && combined.length < 40) return true;\n\n  if (title.startsWith('list ') && combined.length < 20) return true;\n  if (combined === 'ls' || combined === 'list ls') return true;\n\n  return false;\n}\n\nfunction createElement(tag: string, className?: string | null, text?: any) {\n  const el = document.createElement(tag);\n  if (className) {\n    (el as any).className = className;\n  }\n  if (text !== undefined && text !== null) {\n    el.textContent = String(text);\n  }\n  return el;\n}\n\nfunction formatTagLabel(tag: any) {\n  if (!tag) return '';\n  const trimmed = String(tag).trim();\n  const colonIndex = trimmed.indexOf(':');\n  if (colonIndex === -1) return trimmed;\n  return trimmed.slice(0, colonIndex).trim();\n}\n\nfunction createTagChip(tag: any) {\n  const display = formatTagLabel(tag);\n  if (!display) return null;\n  const chip = createElement('span', 'tag-chip', display);\n  (chip as any).title = String(tag);\n  return chip;\n}\n\nfunction mergeMetadata(metadata: any) {\n  if (!metadata || typeof metadata !== 'object') {\n    return {};\n  }\n  const importMetadata = (metadata as any).import_metadata;\n  if (importMetadata && typeof importMetadata === 'object') {\n    return { ...(importMetadata as any), ...(metadata as any) };\n  }\n  return metadata;\n}\n\nfunction formatFileList(files: any[], limit = 2) {\n  if (!files.length) return '';\n  const trimmed = files.map((file) => String(file).trim()).filter(Boolean);\n  const slice = trimmed.slice(0, limit);\n  const suffix = trimmed.length > limit ? ` +${trimmed.length - limit}` : '';\n  return `${slice.join(', ')}${suffix}`.trim();\n}\n\nfunction renderStats(\n  stats: any,\n  usagePayload: any,\n  project: string,\n  rawEvents: any,\n) {\n  const db = stats.database || {};\n  const totalsGlobal =\n    usagePayload?.totals_global ||\n    usagePayload?.totals ||\n    stats.usage?.totals ||\n    {};\n  const totalsFiltered = usagePayload?.totals_filtered || null;\n  const isFiltered = !!(project && totalsFiltered);\n  const usage = isFiltered ? totalsFiltered : totalsGlobal;\n\n  const raw = rawEvents && typeof rawEvents === 'object' ? rawEvents : {};\n  const rawSessions = Number(raw.sessions || 0);\n  const rawPending = Number(raw.pending || 0);\n\n  const globalLineWork = isFiltered\n    ? `\\nGlobal: ${Number(totalsGlobal.work_investment_tokens || 0).toLocaleString()} invested`\n    : '';\n  const globalLineRead = isFiltered\n    ? `\\nGlobal: ${Number(totalsGlobal.tokens_read || 0).toLocaleString()} read`\n    : '';\n  const globalLineSaved = isFiltered\n    ? `\\nGlobal: ${Number(totalsGlobal.tokens_saved || 0).toLocaleString()} saved`\n    : '';\n\n  const items = [\n    { label: 'Sessions', value: db.sessions || 0, icon: 'database' },\n    { label: 'Memories', value: db.memory_items || 0, icon: 'brain' },\n    {\n      label: 'Active memories',\n      value: db.active_memory_items || 0,\n      icon: 'check-circle',\n    },\n    { label: 'Artifacts', value: db.artifacts || 0, icon: 'package' },\n    {\n      label: 'Raw sessions',\n      value: rawSessions,\n      tooltip:\n        'OpenCode sessions with pending raw events waiting to be flushed',\n      icon: 'inbox',\n    },\n    {\n      label: 'Raw events pending',\n      value: rawPending,\n      tooltip: 'Total pending raw events waiting to be flushed',\n      icon: 'activity',\n    },\n    {\n      label: isFiltered ? 'Work investment (project)' : 'Work investment',\n      value: Number(usage.work_investment_tokens || 0),\n      tooltip:\n        'Token cost of unique discovery groups (avoids double-counting when one response yields multiple memories)' +\n        globalLineWork,\n      icon: 'pencil',\n    },\n    {\n      label: isFiltered ? 'Read cost (project)' : 'Read cost',\n      value: Number(usage.tokens_read || 0),\n      tooltip:\n        'Tokens to read memories when injected into context' + globalLineRead,\n      icon: 'book-open',\n    },\n    {\n      label: isFiltered ? 'Savings (project)' : 'Savings',\n      value: Number(usage.tokens_saved || 0),\n      tooltip:\n        'Tokens saved by reusing compressed memories instead of raw context' +\n        globalLineSaved,\n      icon: 'trending-up',\n    },\n  ];\n\n  if (statsGrid) {\n    statsGrid.textContent = '';\n    items.forEach((item) => {\n      const stat = createElement('div', 'stat');\n      if ((item as any).tooltip) {\n        (stat as any).title = (item as any).tooltip;\n        (stat as any).style.cursor = 'help';\n      }\n      const icon = document.createElement('i');\n      icon.setAttribute('data-lucide', (item as any).icon);\n      (icon as any).className = 'stat-icon';\n      const content = createElement('div', 'stat-content');\n      const value = createElement(\n        'div',\n        'value',\n        Number((item as any).value || 0).toLocaleString(),\n      );\n      const label = createElement('div', 'label', (item as any).label);\n      content.append(value, label);\n      stat.append(icon, content);\n      statsGrid.appendChild(stat);\n    });\n  }\n  if (typeof (globalThis as any).lucide !== 'undefined')\n    (globalThis as any).lucide.createIcons();\n  const projectSuffix = project ? ` · project: ${project}` : '';\n  if (metaLine) {\n    metaLine.textContent = `DB: ${db.path || 'unknown'} · ${Math.round(\n      (db.size_bytes || 0) / 1024,\n    )} KB${projectSuffix}`;\n  }\n}\n\nfunction formatTimestamp(value: any) {\n  if (!value) return 'never';\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) return String(value);\n  return date.toLocaleString();\n}\n\nfunction redactAddress(address: any) {\n  const raw = String(address || '');\n  if (!raw) return '';\n  let scheme = '';\n  let remainder = raw;\n  const schemeMatch = raw.match(/^(\\w+):\\/\\/([^/]+)(.*)$/);\n  if (schemeMatch) {\n    scheme = schemeMatch[1];\n    remainder = schemeMatch[2] + schemeMatch[3];\n  }\n  const redacted = remainder.replace(/\\d+/g, '#');\n  return scheme ? `${scheme}://${redacted}` : redacted;\n}\n\nfunction renderSyncStatus(status: any) {\n  if (!syncStatusGrid) return;\n  syncStatusGrid.textContent = '';\n  if (!status) return;\n\n  const peers = status.peers || {};\n  const pingPayload = status.ping || {};\n  const syncPayload = status.sync || {};\n  const lastSync = status.last_sync_at || status.last_sync_at_utc || null;\n  const lastPing = pingPayload.last_ping_at || status.last_ping_at || null;\n  const syncError = status.last_sync_error || '';\n  const pingError = status.last_ping_error || '';\n  const pending = Number(status.pending || 0);\n\n  const items = [\n    { label: 'Pending events', value: pending },\n    { label: 'Last sync', value: formatTimestamp(lastSync) },\n    { label: 'Last ping', value: formatTimestamp(lastPing) },\n    { label: 'Peers', value: Object.keys(peers).length },\n  ];\n  items.forEach((item) => {\n    const block = createElement('div', 'stat');\n    const value = createElement('div', 'value', item.value);\n    const label = createElement('div', 'label', item.label);\n    const content = createElement('div', 'stat-content');\n    content.append(value, label);\n    block.append(content);\n    syncStatusGrid.appendChild(block);\n  });\n\n  if (syncError || pingError) {\n    const block = createElement('div', 'stat');\n    const value = createElement('div', 'value', 'Errors');\n    const label = createElement(\n      'div',\n      'label',\n      [syncError, pingError].filter(Boolean).join(' · '),\n    );\n    const content = createElement('div', 'stat-content');\n    content.append(value, label);\n    block.append(content);\n    syncStatusGrid.appendChild(block);\n  }\n\n  if (syncPayload && syncPayload.seconds_since_last) {\n    const block = createElement('div', 'stat');\n    const value = createElement(\n      'div',\n      'value',\n      `${syncPayload.seconds_since_last}s`,\n    );\n    const label = createElement('div', 'label', 'Since last sync');\n    const content = createElement('div', 'stat-content');\n    content.append(value, label);\n    block.append(content);\n    syncStatusGrid.appendChild(block);\n  }\n\n  if (pingPayload && pingPayload.seconds_since_last) {\n    const block = createElement('div', 'stat');\n    const value = createElement(\n      'div',\n      'value',\n      `${pingPayload.seconds_since_last}s`,\n    );\n    const label = createElement('div', 'label', 'Since last ping');\n    const content = createElement('div', 'stat-content');\n    content.append(value, label);\n    block.append(content);\n    syncStatusGrid.appendChild(block);\n  }\n}\n\nfunction renderSyncPeers(peers: any[]) {\n  if (!syncPeers) return;\n  syncPeers.textContent = '';\n  if (!Array.isArray(peers) || !peers.length) return;\n\n  peers.forEach((peer) => {\n    const card = createElement('div', 'peer-card');\n    const title = createElement('div', 'peer-title');\n    const peerId = peer.peer_device_id ? String(peer.peer_device_id) : '';\n    const displayName = peer.name || (peerId ? peerId.slice(0, 8) : 'unknown');\n    const name = createElement('strong', null, displayName);\n    if (peerId) (name as any).title = peerId;\n    const actions = createElement('div', 'peer-actions');\n\n    const status = peer.status || {};\n    const syncStatus = status.sync_status || '';\n    const pingStatus = status.ping_status || '';\n    const online = syncStatus === 'ok' || pingStatus === 'ok';\n    const statusBadge = createElement(\n      'span',\n      'badge',\n      online ? 'Online' : 'Offline',\n    );\n    (statusBadge as any).style.background = online\n      ? 'rgba(31, 111, 92, 0.12)'\n      : 'rgba(230, 126, 77, 0.15)';\n    (statusBadge as any).style.color = online\n      ? 'var(--accent)'\n      : 'var(--accent-2)';\n    name.append(' ', statusBadge);\n\n    const peerAddresses = Array.isArray(peer.addresses)\n      ? Array.from(new Set(peer.addresses.filter(Boolean)))\n      : [];\n    const addressLine = peerAddresses.length\n      ? peerAddresses\n          .map((address) =>\n            isSyncRedactionEnabled() ? redactAddress(address) : address,\n          )\n          .join(' · ')\n      : 'No addresses';\n    const addressLabel = createElement('div', 'peer-addresses', addressLine);\n\n    const lastSyncAt = status.last_sync_at || status.last_sync_at_utc || '';\n    const lastPingAt = status.last_ping_at || status.last_ping_at_utc || '';\n    const metaLine = [\n      lastSyncAt ? `Sync: ${formatTimestamp(lastSyncAt)}` : 'Sync: never',\n      lastPingAt ? `Ping: ${formatTimestamp(lastPingAt)}` : 'Ping: never',\n    ].join(' · ');\n    const meta = createElement('div', 'peer-meta', metaLine);\n\n    if (peerAddresses.length) {\n      peerAddresses.forEach((address: string) => {\n        const button = createElement(\n          'button',\n          null,\n          'Sync now',\n        ) as HTMLButtonElement;\n        button.addEventListener('click', () => syncNow(address));\n        actions.appendChild(button);\n      });\n    }\n\n    title.append(name, actions);\n    card.append(title, addressLabel, meta);\n    syncPeers.appendChild(card);\n  });\n}\n\nfunction renderSyncAttempts(attempts: any[]) {\n  if (!syncAttempts) return;\n  syncAttempts.textContent = '';\n  if (!Array.isArray(attempts) || !attempts.length) return;\n\n  attempts.forEach((attempt) => {\n    const line = createElement('div', 'diag-line');\n    const left = createElement('div', 'left');\n    const right = createElement('div', 'right');\n\n    const attemptStatus = attempt.status || 'unknown';\n    const status = createElement('div', null, attemptStatus);\n    const address = attempt.address ? String(attempt.address) : '';\n    const redacted = isSyncRedactionEnabled()\n      ? redactAddress(address)\n      : address;\n    const addressLabel = createElement('div', 'small', redacted || 'n/a');\n    left.append(status, addressLabel);\n\n    const time = attempt.started_at || attempt.started_at_utc || '';\n    right.textContent = time ? formatTimestamp(time) : '';\n\n    line.append(left, right);\n    syncAttempts.appendChild(line);\n  });\n}\n\nfunction renderSyncHealth(syncHealth: any) {\n  if (!syncHealthGrid) return;\n  syncHealthGrid.textContent = '';\n  const health = syncHealth || {};\n  const title = createElement('div', 'stat');\n  const value = createElement('div', 'value', health.status || 'unknown');\n  const label = createElement('div', 'label', 'Sync status');\n  const content = createElement('div', 'stat-content');\n  content.append(value, label);\n  title.append(content);\n  syncHealthGrid.append(title);\n  if (health.details) {\n    const detail = createElement('div', 'stat');\n    const detailValue = createElement('div', 'value', health.details);\n    const detailLabel = createElement('div', 'label', 'Details');\n    const detailContent = createElement('div', 'stat-content');\n    detailContent.append(detailValue, detailLabel);\n    detail.append(detailContent);\n    syncHealthGrid.append(detail);\n  }\n}\n\nfunction renderPairing(payload: any) {\n  if (!pairingPayload) return;\n  if (!payload) {\n    pairingPayload.textContent = 'No pairing payload available';\n    if (pairingHint)\n      pairingHint.textContent =\n        'Pairing will appear after at least one sync scan.';\n    return;\n  }\n\n  const command = payload.command || '';\n  pairingPayload.textContent = command || 'Pairing not available';\n  pairingCommandRaw = command || '';\n  if (pairingHint) {\n    pairingHint.textContent =\n      payload.hint || 'Copy/paste this on the other device to pair.';\n  }\n}\n\nasync function copyPairingCommand() {\n  const command = pairingCommandRaw || pairingPayload?.textContent || '';\n  if (!command) return;\n  try {\n    await navigator.clipboard.writeText(command);\n    if (pairingCopy) pairingCopy.textContent = 'Copied';\n    setTimeout(() => {\n      if (pairingCopy) pairingCopy.textContent = 'Copy pairing command';\n    }, 1200);\n  } catch {\n    if (pairingCopy) pairingCopy.textContent = 'Copy failed';\n  }\n}\n\npairingCopy?.addEventListener('click', copyPairingCommand);\n\nfunction itemSignature(item: any) {\n  return String(\n    item.id ??\n      item.memory_id ??\n      item.observation_id ??\n      item.session_id ??\n      item.created_at_utc ??\n      item.created_at ??\n      '',\n  );\n}\n\ntype ItemViewMode = 'summary' | 'facts' | 'narrative';\n\nfunction itemKey(item: any) {\n  return `${String(item.kind || '').toLowerCase()}:${itemSignature(item)}`;\n}\n\nfunction toTitleLabel(value: string) {\n  return value\n    .replace(/_/g, ' ')\n    .split(' ')\n    .map((part) => (part ? part[0].toUpperCase() + part.slice(1) : part))\n    .join(' ')\n    .trim();\n}\n\nfunction getSummaryObject(item: any): Record<string, any> | null {\n  const candidate = item?.summary;\n  if (candidate && typeof candidate === 'object' && !Array.isArray(candidate)) {\n    return candidate;\n  }\n  const nested = item?.summary?.summary;\n  if (nested && typeof nested === 'object' && !Array.isArray(nested)) {\n    return nested;\n  }\n  return null;\n}\n\nfunction getNarrativeText(item: any) {\n  const html = item?.body_html;\n  const text = item?.body_text;\n  return String(html || text || '').trim();\n}\n\nfunction getFactsList(item: any) {\n  const text = String(item?.body_text || '');\n  return extractFactsFromBody(text);\n}\n\nfunction renderSummaryObject(summary: Record<string, any>): HTMLElement | null {\n  const preferred = [\n    'request',\n    'outcome',\n    'plan',\n    'completed',\n    'learned',\n    'investigated',\n    'next',\n    'next_steps',\n    'notes',\n  ];\n  const keys = Object.keys(summary || {});\n  const remaining = keys\n    .filter((key) => !preferred.includes(key))\n    .sort((a, b) => a.localeCompare(b));\n  const ordered = [...preferred.filter((key) => keys.includes(key)), ...remaining];\n\n  const container = createElement('div', 'feed-body facts') as HTMLDivElement;\n  let wrote = false;\n  ordered.forEach((key) => {\n    const raw = (summary as any)[key];\n    const content = String(raw || '').trim();\n    if (!content) return;\n    wrote = true;\n    const row = createElement('div', 'summary-section') as HTMLDivElement;\n    const label = createElement('div', 'summary-section-label', toTitleLabel(key));\n    const value = createElement('div', 'summary-section-content', content);\n    row.append(label, value);\n    container.appendChild(row);\n  });\n  return wrote ? container : null;\n}\n\nfunction renderFacts(facts: string[]): HTMLElement | null {\n  const trimmed = facts.map((fact) => String(fact || '').trim()).filter(Boolean);\n  if (!trimmed.length) return null;\n  const container = createElement('div', 'feed-body') as HTMLDivElement;\n  const list = document.createElement('ul');\n  trimmed.forEach((fact) => {\n    const li = document.createElement('li');\n    li.textContent = fact;\n    list.appendChild(li);\n  });\n  container.appendChild(list);\n  return container;\n}\n\nfunction renderNarrative(narrative: string): HTMLElement | null {\n  const content = String(narrative || '').trim();\n  if (!content) return null;\n  const body = createElement('div', 'feed-body') as HTMLDivElement;\n  body.innerHTML = (globalThis as any).marked.parse(content);\n  return body;\n}\n\nfunction getViewModes(item: any): Array<{ id: ItemViewMode; label: string }> {\n  const modes: Array<{ id: ItemViewMode; label: string }> = [];\n  const summary = getSummaryObject(item);\n  const summaryEl = summary ? renderSummaryObject(summary) : null;\n  if (summaryEl) {\n    modes.push({ id: 'summary', label: 'Summary' });\n  }\n  if (renderFacts(getFactsList(item))) {\n    modes.push({ id: 'facts', label: 'Facts' });\n  }\n  if (renderNarrative(getNarrativeText(item))) {\n    modes.push({ id: 'narrative', label: 'Narrative' });\n  }\n  return modes;\n}\n\nfunction getInitialViewMode(\n  modes: Array<{ id: ItemViewMode; label: string }>,\n): ItemViewMode {\n  if (modes.some((mode) => mode.id === 'summary')) return 'summary';\n  if (modes.some((mode) => mode.id === 'facts')) return 'facts';\n  return 'narrative';\n}\n\nfunction renderItemBody(item: any, mode: ItemViewMode): HTMLElement | null {\n  if (mode === 'summary') {\n    const summary = getSummaryObject(item);\n    return summary ? renderSummaryObject(summary) : null;\n  }\n  if (mode === 'facts') {\n    return renderFacts(getFactsList(item));\n  }\n  return renderNarrative(getNarrativeText(item));\n}\n\nfunction renderItemViewToggle(\n  modes: Array<{ id: ItemViewMode; label: string }>,\n  active: ItemViewMode,\n  onSelect: (mode: ItemViewMode) => void,\n): HTMLElement | null {\n  if (modes.length <= 1) return null;\n  const toggle = createElement('div', 'feed-toggle') as HTMLDivElement;\n  modes.forEach((mode) => {\n    const button = createElement(\n      'button',\n      'toggle-button',\n      mode.label,\n    ) as HTMLButtonElement;\n    button.dataset.filter = mode.id;\n    button.classList.toggle('active', mode.id === active);\n    button.addEventListener('click', () => onSelect(mode.id));\n    toggle.appendChild(button);\n  });\n  return toggle;\n}\n\nfunction computeFeedSignature(items: any[]) {\n  const parts = items.map(\n    (item) =>\n      `${itemSignature(item)}:${item.kind || ''}:${item.created_at_utc || item.created_at || ''}`,\n  );\n  return `${feedTypeFilter}|${currentProject}|${parts.join('|')}`;\n}\n\nfunction renderFeed(items: any[]) {\n  if (!feedList) return;\n  feedList.textContent = '';\n  if (!Array.isArray(items) || !items.length) {\n    const empty = createElement('div', 'small', 'No memories yet.');\n    feedList.appendChild(empty);\n    return;\n  }\n  items.forEach((item) => {\n    const card = createElement(\n      'div',\n      `feed-item ${String(item.kind || '').toLowerCase()}`.trim(),\n    );\n    (card as any).dataset.key = itemKey(item);\n    const header = createElement('div', 'feed-card-header');\n    const titleWrap = createElement('div', 'feed-header');\n    const title = createElement(\n      'div',\n      'feed-title title',\n      item.title || '(untitled)',\n    );\n    const kind = createElement(\n      'span',\n      `kind-pill ${String(item.kind || '').toLowerCase()}`.trim(),\n      item.kind || '',\n    );\n    titleWrap.append(title, kind);\n\n    const rightWrap = document.createElement('div');\n    rightWrap.style.display = 'flex';\n    rightWrap.style.alignItems = 'center';\n    rightWrap.style.gap = '10px';\n    rightWrap.style.flexShrink = '0';\n\n    const createdAt = formatDate(item.created_at || item.created_at_utc);\n    const age = createElement('div', 'small', createdAt);\n\n    const modes = getViewModes(item);\n    const key = itemKey(item);\n    const saved = itemViewState.get(key) as ItemViewMode | undefined;\n    const activeMode = saved || getInitialViewMode(modes);\n    itemViewState.set(key, activeMode);\n\n    let bodyNode: HTMLElement =\n      renderItemBody(item, activeMode) || createElement('div', 'feed-body');\n\n    const toggle = renderItemViewToggle(modes, activeMode, (mode) => {\n      itemViewState.set(key, mode);\n      const nextBody = renderItemBody(item, mode) || createElement('div', 'feed-body');\n      card.replaceChild(nextBody, bodyNode);\n      bodyNode = nextBody;\n\n      if (toggle) {\n        const buttons = Array.from(toggle.querySelectorAll('.toggle-button'));\n        buttons.forEach((button) => {\n          const value = (button as HTMLButtonElement).dataset.filter as ItemViewMode;\n          button.classList.toggle('active', value === mode);\n        });\n      }\n    });\n\n    if (toggle) {\n      rightWrap.appendChild(toggle);\n    }\n    rightWrap.appendChild(age);\n\n    header.append(titleWrap, rightWrap);\n\n    const meta = createElement('div', 'feed-meta');\n    const tags = parseJsonArray(item.tags || []);\n    const files = parseJsonArray(item.files || []);\n    const project = item.project || '';\n    const tagContent = tags.length\n      ? ` · ${tags.map((tag) => formatTagLabel(tag)).join(', ')}`\n      : '';\n    const fileContent = files.length ? ` · ${formatFileList(files)}` : '';\n    const projectContent = project ? `Project: ${project}` : 'Project: n/a';\n    meta.textContent = `${projectContent}${tagContent}${fileContent}`;\n\n    const footer = createElement('div', 'feed-footer');\n    const footerLeft = createElement('div', 'feed-footer-left');\n    const filesWrap = createElement('div', 'feed-files');\n    const tagsWrap = createElement('div', 'feed-tags');\n\n    files.forEach((file: any) => {\n      const chip = createElement('span', 'feed-file', file);\n      filesWrap.appendChild(chip);\n    });\n\n    tags.forEach((tag: any) => {\n      const chip = createTagChip(tag);\n      if (chip) tagsWrap.appendChild(chip);\n    });\n\n    if (filesWrap.childElementCount) {\n      footerLeft.appendChild(filesWrap);\n    }\n    if (tagsWrap.childElementCount) {\n      footerLeft.appendChild(tagsWrap);\n    }\n    footer.appendChild(footerLeft);\n\n    card.append(header, meta, bodyNode, footer);\n    feedList.appendChild(card);\n  });\n  if (typeof (globalThis as any).lucide !== 'undefined')\n    (globalThis as any).lucide.createIcons();\n}\n\nfunction renderSessionSummary(summary: any) {\n  if (!sessionGrid || !sessionMeta) return;\n  sessionGrid.textContent = '';\n  if (!summary) {\n    sessionMeta.textContent = 'No injections yet';\n    return;\n  }\n\n  const total = Number(summary.total || 0);\n  sessionMeta.textContent = total\n    ? `${total} injections so far`\n    : 'No injections yet';\n\n  const items = [\n    { label: 'Memories', value: summary.memories || 0 },\n    { label: 'Artifacts', value: summary.artifacts || 0 },\n    { label: 'Prompts', value: summary.prompts || 0 },\n    { label: 'Observations', value: summary.observations || 0 },\n  ];\n  items.forEach((item) => {\n    const block = createElement('div', 'stat');\n    const value = createElement(\n      'div',\n      'value',\n      Number(item.value || 0).toLocaleString(),\n    );\n    const label = createElement('div', 'label', item.label);\n    const content = createElement('div', 'stat-content');\n    content.append(value, label);\n    block.append(content);\n    sessionGrid.appendChild(block);\n  });\n}\n\nfunction renderConfigModal(defaults: any, config: any) {\n  if (!defaults || !config) return;\n  configDefaults = defaults;\n  configPath = config.path || '';\n\n  const observerProvider = config.observer_provider || '';\n  const observerModel = config.observer_model || '';\n  const observerMaxChars = config.observer_max_chars || '';\n  const packObservationLimit = config.pack_observation_limit || '';\n  const packSessionLimit = config.pack_session_limit || '';\n  const syncEnabled = config.sync_enabled || false;\n  const syncHost = config.sync_host || '';\n  const syncPort = config.sync_port || '';\n  const syncInterval = config.sync_interval_seconds || '';\n  const syncMdns = config.sync_mdns || false;\n\n  if (observerProviderInput) observerProviderInput.value = observerProvider;\n  if (observerModelInput) observerModelInput.value = observerModel;\n  if (observerMaxCharsInput) observerMaxCharsInput.value = observerMaxChars;\n  if (packObservationLimitInput)\n    packObservationLimitInput.value = packObservationLimit;\n  if (packSessionLimitInput) packSessionLimitInput.value = packSessionLimit;\n  if (syncEnabledInput) syncEnabledInput.checked = Boolean(syncEnabled);\n  if (syncHostInput) syncHostInput.value = syncHost;\n  if (syncPortInput) syncPortInput.value = syncPort;\n  if (syncIntervalInput) syncIntervalInput.value = syncInterval;\n  if (syncMdnsInput) syncMdnsInput.checked = Boolean(syncMdns);\n\n  if (settingsPath)\n    settingsPath.textContent = configPath\n      ? `Config path: ${configPath}`\n      : 'Config path: n/a';\n  if (observerMaxCharsHint) {\n    const defaultValue = configDefaults?.observer_max_chars || '';\n    observerMaxCharsHint.textContent = defaultValue\n      ? `Default: ${defaultValue}`\n      : '';\n  }\n  if (settingsEffective) settingsEffective.textContent = config.effective ?? '';\n}\n\nfunction openSettings() {\n  stopPolling();\n  if (settingsBackdrop) (settingsBackdrop as any).hidden = false;\n  if (settingsModal) (settingsModal as any).hidden = false;\n}\n\nfunction closeSettings() {\n  if (settingsBackdrop) (settingsBackdrop as any).hidden = true;\n  if (settingsModal) (settingsModal as any).hidden = true;\n  startPolling();\n  refresh();\n}\n\nsettingsButton?.addEventListener('click', openSettings);\nsettingsClose?.addEventListener('click', closeSettings);\nsettingsBackdrop?.addEventListener('click', closeSettings);\n\nasync function syncNow(address: string) {\n  if (!syncNowButton) return;\n  syncNowButton.disabled = true;\n  syncNowButton.textContent = 'Syncing...';\n  try {\n    const payload = address ? { address } : {};\n    await fetch('/api/sync/run', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n    refresh();\n  } catch {\n    // Ignore errors.\n  } finally {\n    syncNowButton.disabled = false;\n    syncNowButton.textContent = 'Sync now';\n  }\n}\n\nsyncNowButton?.addEventListener('click', () => syncNow(''));\n\nfunction hideSettingsOverrideNotice(config: any) {\n  if (!settingsOverrides) return;\n  if (config?.has_env_overrides) {\n    (settingsOverrides as any).hidden = false;\n  } else {\n    (settingsOverrides as any).hidden = true;\n  }\n}\n\nasync function saveSettings() {\n  if (!settingsSave || !settingsStatus) return;\n  (settingsSave as any).disabled = true;\n  settingsStatus.textContent = 'Saving...';\n  try {\n    const payload = {\n      observer_provider: observerProviderInput?.value || '',\n      observer_model: observerModelInput?.value || '',\n      observer_max_chars: Number(observerMaxCharsInput?.value || 0) || '',\n      pack_observation_limit:\n        Number(packObservationLimitInput?.value || 0) || '',\n      pack_session_limit: Number(packSessionLimitInput?.value || 0) || '',\n      sync_enabled: syncEnabledInput?.checked || false,\n      sync_host: syncHostInput?.value || '',\n      sync_port: Number(syncPortInput?.value || 0) || '',\n      sync_interval_seconds: Number(syncIntervalInput?.value || 0) || '',\n      sync_mdns: syncMdnsInput?.checked || false,\n    };\n    const resp = await fetch('/api/config', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n    if (!resp.ok) {\n      const message = await resp.text();\n      throw new Error(message);\n    }\n    settingsStatus.textContent = 'Saved';\n    setTimeout(() => {\n      settingsStatus.textContent = 'Ready';\n    }, 1500);\n    refresh();\n  } catch {\n    settingsStatus.textContent = 'Save failed';\n  } finally {\n    (settingsSave as any).disabled = false;\n  }\n}\n\nsettingsSave?.addEventListener('click', saveSettings);\n\nasync function loadStats() {\n  try {\n    const [statsResp, usageResp, sessionsResp, rawEventsResp] =\n      await Promise.all([\n        fetch('/api/stats'),\n        fetch(`/api/usage?project=${encodeURIComponent(currentProject || '')}`),\n        fetch(\n          `/api/session?project=${encodeURIComponent(currentProject || '')}`,\n        ),\n        fetch(\n          `/api/raw-events?project=${encodeURIComponent(currentProject || '')}`,\n        ),\n      ]);\n\n    const statsPayload = await statsResp.json();\n    const usagePayload = usageResp.ok ? await usageResp.json() : {};\n    const sessionsPayload = sessionsResp.ok ? await sessionsResp.json() : {};\n    const rawEventsPayload = rawEventsResp.ok ? await rawEventsResp.json() : {};\n\n    const stats = statsPayload || {};\n    const sessions = sessionsPayload || {};\n    const rawEvents = rawEventsPayload || {};\n\n    renderStats(stats, usagePayload, currentProject, rawEvents);\n    renderSessionSummary(sessions);\n    renderSyncHealth(stats.sync_health || {});\n  } catch {\n    if (metaLine) metaLine.textContent = 'Stats unavailable';\n  }\n}\n\nasync function loadFeed() {\n  try {\n    const [observationsResp, summariesResp] = await Promise.all([\n      fetch(\n        `/api/memories?project=${encodeURIComponent(currentProject || '')}`,\n      ),\n      fetch(\n        `/api/summaries?project=${encodeURIComponent(currentProject || '')}`,\n      ),\n    ]);\n\n    const observations = await observationsResp.json();\n    const summaries = await summariesResp.json();\n\n    const summaryItems = summaries.items || [];\n    const observationItems = observations.items || [];\n    const filteredObservations = observationItems.filter(\n      (item: any) => !isLowSignalObservation(item),\n    );\n    const filteredCount = observationItems.length - filteredObservations.length;\n    const feedItems = [...summaryItems, ...filteredObservations].sort(\n      (a, b) => {\n        const left = new Date(a.created_at || 0).getTime();\n        const right = new Date(b.created_at || 0).getTime();\n        return right - left;\n      },\n    );\n    const visibleItems = filterFeedItems(feedItems);\n    const filterLabel = formatFeedFilterLabel();\n\n    const signature = computeFeedSignature(visibleItems);\n    const changed = signature !== lastFeedSignature;\n    lastFeedSignature = signature;\n\n    if (feedMeta) {\n      feedMeta.textContent = `${visibleItems.length} items${filterLabel}${\n        filteredCount ? ' · ' + filteredCount + ' observations filtered' : ''\n      }`;\n    }\n    if (changed) {\n      renderFeed(visibleItems);\n    }\n    if (refreshStatus) {\n      refreshStatus.innerHTML =\n        \"<span class='dot'></span>updated \" + new Date().toLocaleTimeString();\n    }\n  } catch {\n    if (refreshStatus) {\n      refreshStatus.innerHTML = \"<span class='dot'></span>refresh failed\";\n    }\n  }\n}\n\nasync function loadConfig() {\n  if (isSettingsOpen()) {\n    // Avoid blowing away in-progress edits while the modal is open.\n    return;\n  }\n  try {\n    const resp = await fetch('/api/config');\n    if (!resp.ok) return;\n    const payload = await resp.json();\n    renderConfigModal(payload.defaults || {}, payload.config || {});\n    hideSettingsOverrideNotice(payload.config || {});\n  } catch {\n    // Ignore config load errors.\n  }\n}\n\nasync function loadSyncStatus() {\n  try {\n    const diag = isSyncDiagnosticsOpen();\n    const diagParam = diag ? '?includeDiagnostics=1' : '';\n    const resp = await fetch(`/api/sync/status${diagParam}`);\n    if (!resp.ok) return;\n    const payload = await resp.json();\n    lastSyncStatus = payload.status || null;\n    lastSyncPeers = payload.peers || [];\n    lastSyncAttempts = payload.attempts || [];\n    renderSyncStatus(lastSyncStatus);\n    renderSyncPeers(lastSyncPeers);\n    renderSyncAttempts(lastSyncAttempts);\n    if (syncMeta) {\n      const last =\n        lastSyncStatus?.last_sync_at || lastSyncStatus?.last_sync_at_utc || '';\n      syncMeta.textContent = last\n        ? `Last sync: ${formatTimestamp(last)}`\n        : 'Sync ready';\n    }\n    renderSyncHealth({\n      status: lastSyncStatus?.daemon_state || 'unknown',\n      details: lastSyncStatus?.daemon_state === 'error' ? 'daemon error' : '',\n    });\n  } catch {\n    if (syncMeta) syncMeta.textContent = 'Sync unavailable';\n  }\n}\n\nasync function loadPairing() {\n  try {\n    const diag = isSyncDiagnosticsOpen();\n    const diagParam = diag ? '?includeDiagnostics=1' : '';\n    const resp = await fetch(`/api/sync/pairing${diagParam}`);\n    if (!resp.ok) return;\n    const payload = await resp.json();\n    pairingPayloadRaw = payload || null;\n    renderPairing(payload || null);\n  } catch {\n    renderPairing(null);\n  }\n}\n\nasync function loadProjects() {\n  try {\n    const resp = await fetch('/api/projects');\n    if (!resp.ok) return;\n    const payload = await resp.json();\n    const projects = payload.projects || [];\n    if (!projectFilter) return;\n    projectFilter.textContent = '';\n    const allOption = createElement(\n      'option',\n      null,\n      'All Projects',\n    ) as HTMLOptionElement;\n    allOption.value = '';\n    projectFilter.appendChild(allOption);\n    projects.forEach((project: string) => {\n      const option = createElement(\n        'option',\n        null,\n        project,\n      ) as HTMLOptionElement;\n      option.value = project;\n      projectFilter.appendChild(option);\n    });\n  } catch {\n    // Ignore project load errors.\n  }\n}\n\nprojectFilter?.addEventListener('change', () => {\n  currentProject = projectFilter.value || '';\n  refresh();\n});\n\nasync function refresh() {\n  if (refreshInFlight) {\n    refreshQueued = true;\n    return;\n  }\n  refreshInFlight = true;\n  try {\n    await Promise.all([\n      loadStats(),\n      loadFeed(),\n      loadConfig(),\n      loadSyncStatus(),\n    ]);\n\n    if (isSyncPairingOpen()) {\n      loadPairing();\n    } else {\n      pairingPayloadRaw = null;\n      pairingCommandRaw = '';\n      if (syncPairing) (syncPairing as any).hidden = true;\n    }\n  } finally {\n    refreshInFlight = false;\n    if (refreshQueued) {\n      refreshQueued = false;\n      refresh();\n    }\n  }\n}\n\nloadProjects();\nrefresh();\nstartPolling();\n"],"names":["metaLine"],"mappings":";;AAOA,QAAM,gBAAgB,SAAS,eAAe,eAAe;AAC7D,QAAM,YAAY,SAAS,eAAe,WAAW;AACrD,QAAM,WAAW,SAAS,eAAe,UAAU;AACnD,QAAM,WAAW,SAAS,eAAe,UAAU;AACnD,QAAM,WAAW,SAAS,eAAe,UAAU;AACnD,QAAM,iBAAiB,SAAS,eAAe,gBAAgB;AAC/D,QAAM,cAAc,SAAS,eAAe,aAAa;AACzD,QAAM,cAAc,SAAS,eAAe,aAAa;AACzD,QAAM,iBAAiB,SAAS,eAAe,gBAAgB;AAC/D,QAAM,mBAAmB,SAAS,eAAe,kBAAkB;AACnE,QAAM,gBAAgB,SAAS,eAAe,eAAe;AAC7D,QAAM,gBAAgB,SAAS,eAAe,eAAe;AAC7D,QAAM,eAAe,SAAS,eAAe,cAAc;AAC3D,QAAM,iBAAiB,SAAS,eAAe,gBAAgB;AAC/D,QAAM,eAAe,SAAS,eAAe,cAAc;AAC3D,QAAM,oBAAoB,SAAS,eAAe,mBAAmB;AACrE,QAAM,oBAAoB,SAAS,eAAe,mBAAmB;AACrE,QAAM,wBAAwB,SAAS;AAAA,IACrC;AAAA,EACF;AACA,QAAM,qBAAqB,SAAS;AAAA,IAClC;AAAA,EACF;AACA,QAAM,wBAAwB,SAAS;AAAA,IACrC;AAAA,EACF;AACA,QAAM,uBAAuB,SAAS,eAAe,sBAAsB;AAC3E,QAAM,4BAA4B,SAAS;AAAA,IACzC;AAAA,EACF;AACA,QAAM,wBAAwB,SAAS;AAAA,IACrC;AAAA,EACF;AACA,QAAM,mBAAmB,SAAS;AAAA,IAChC;AAAA,EACF;AACA,QAAM,gBAAgB,SAAS;AAAA,IAC7B;AAAA,EACF;AACA,QAAM,gBAAgB,SAAS;AAAA,IAC7B;AAAA,EACF;AACA,QAAM,oBAAoB,SAAS;AAAA,IACjC;AAAA,EACF;AACA,QAAM,gBAAgB,SAAS;AAAA,IAC7B;AAAA,EACF;AACA,QAAM,gBAAgB,SAAS;AAAA,IAC7B;AAAA,EACF;AACA,QAAM,cAAc,SAAS;AAAA,IAC3B;AAAA,EACF;AACA,QAAM,WAAW,SAAS,eAAe,UAAU;AACnD,QAAM,iBAAiB,SAAS,eAAe,gBAAgB;AAC/D,QAAM,iBAAiB,SAAS,eAAe,gBAAgB;AAC/D,QAAM,kBAAkB,SAAS,eAAe,iBAAiB;AACjE,QAAM,YAAY,SAAS,eAAe,WAAW;AACrD,QAAM,eAAe,SAAS,eAAe,cAAc;AAC3D,QAAM,gBAAgB,SAAS;AAAA,IAC7B;AAAA,EACF;AACA,QAAM,oBAAoB,SAAS;AAAA,IACjC;AAAA,EACF;AACA,QAAM,oBAAoB,SAAS;AAAA,IACjC;AAAA,EACF;AACA,QAAM,aAAa,SAAS;AAAA,IAC1B;AAAA,EACF;AACA,QAAM,iBAAiB,SAAS,eAAe,gBAAgB;AAC/D,QAAM,cAAc,SAAS;AAAA,IAC3B;AAAA,EACF;AACA,QAAM,cAAc,SAAS,eAAe,aAAa;AACzD,QAAM,cAAc,SAAS,eAAe,aAAa;AAEzD,MAAI,iBAAsC,CAAA;AAC1C,MAAI,aAAa;AACjB,MAAI,iBAAiB;AACrB,QAAM,oCAAoB,IAAA;AAC1B,QAAM,kBAAkB;AACxB,QAAM,eAAe,CAAC,OAAO,gBAAgB,WAAW;AAExD,QAAM,uBAAuB;AAC7B,QAAM,mBAAmB;AACzB,QAAM,kBAAkB;AACxB,MAAI,iBAAiB;AACrB,MAAI,oBAAyB;AAC7B,MAAI,oBAAoB;AACxB,MAAI,iBAAsB;AAC1B,MAAI,gBAAuB,CAAA;AAC3B,MAAI,mBAA0B,CAAA;AAC9B,MAAI,kBAAkB;AAEtB,MAAI,kBAAkB;AACtB,MAAI,gBAAgB;AACpB,MAAI,eAAsD;AAC1D,MAAI,oBAAoB;AAExB,WAAS,iBAAiB;AACxB,WAAO,QAAQ,iBAAiB,CAAC,cAAc,aAAa,QAAQ,CAAC;AAAA,EACvE;AAEA,WAAS,cAAc;AACrB,QAAI,cAAc;AAChB,oBAAc,YAAY;AAC1B,qBAAe;AAAA,IACjB;AAAA,EACF;AAEA,WAAS,eAAe;AACtB,QAAI,aAAc;AAClB,mBAAe,YAAY,MAAM;AAC/B,cAAA;AAAA,IACF,GAAG,GAAI;AAAA,EACT;AAEA,WAAS,iBAAiB,oBAAoB,MAAM;AAClD,QAAI,SAAS,oBAAoB,UAAU;AACzC,kBAAA;AACA;AAAA,IACF;AACA,QAAI,CAAC,kBAAkB;AACrB,mBAAA;AACA,cAAA;AAAA,IACF;AAAA,EACF,CAAC;AAGD,WAAS,WAAW;AAClB,UAAM,QAAQ,aAAa,QAAQ,oBAAoB;AACvD,QAAI,MAAO,QAAO;AAClB,WAAO,OAAO,WAAW,8BAA8B,EAAE,UACrD,SACA;AAAA,EACN;AAEA,WAAS,SAAS,OAAe;AAC/B,aAAS,gBAAgB,aAAa,cAAc,KAAK;AACzD,iBAAa,QAAQ,sBAAsB,KAAK;AAChD,QAAI,aAAa;AACf,kBAAY,YACV,UAAU,SACN,8BACA;AACN,kBAAY,QACV,UAAU,SAAS,yBAAyB;AAAA,IAChD;AACA,QAAI,OAAQ,WAAmB,WAAW;AACvC,iBAAmB,OAAO,YAAA;AAAA,EAC/B;AAEA,WAAS,cAAc;AACrB,UAAM,UAAU,SAAA;AAChB,aAAS,YAAY,SAAS,UAAU,MAAM;AAAA,EAChD;AAGA,WAAS,UAAU;AACnB,6CAAa,iBAAiB,SAAS;AAEvC,yBAAuB,uBAAuB;AAC9C,MAAI;AACF,sBAAkB,aAAa,QAAQ,gBAAgB,MAAM;AAAA,EAC/D,QAAQ;AACN,sBAAkB;AAAA,EACpB;AACA,qBAAmB,eAAe;AAClC,0BAAwB,wBAAwB;AAEhD,yDAAmB,iBAAiB,SAAS,MAAM;AACjD,UAAM,OAAO,CAAC,sBAAA;AACd,2BAAuB,IAAI;AAC3B,YAAA;AAAA,EACF;AAEA,yDAAmB,iBAAiB,SAAS,MAAM;AACjD,UAAM,OAAO,CAAC,kBAAA;AACd,uBAAmB,IAAI;AACvB,QAAI,MAAM;AACR,UAAI,+BAA+B,cAAc;AACjD,UAAI,yBAAyB,cAAc;AAAA,IAC7C;AACA,YAAA;AAAA,EACF;AAEA,2CAAY,iBAAiB,UAAU,MAAM;AAC3C,4BAAwB,QAAQ,WAAW,OAAO,CAAC;AACnD,qBAAiB,cAAc;AAC/B,oBAAgB,aAAa;AAC7B,uBAAmB,gBAAgB;AACnC,kBAAc,iBAAiB;AAAA,EACjC;AAEA,mBAAiB,kBAAA;AACjB,uBAAA;AACA,mDAAgB,iBAAiB,SAAS,CAAC,UAAU;;AACnD,UAAM,UAAU,iBAAc,WAAd,mBAAsB,YAAtB,4BAAgC;AAChD,QAAI,CAAC,OAAQ;AACb,UAAM,QAAQ,OAAO,QAAQ,UAAU;AACvC,sBAAkB,KAAK;AAAA,EACzB;AAEA,WAAS,WAAW,OAAY;AAC9B,QAAI,CAAC,MAAO,QAAO;AACnB,UAAM,OAAO,IAAI,KAAK,KAAK;AAC3B,WAAO,OAAO,MAAM,KAAK,QAAA,CAAS,IAAI,OAAO,KAAK,IAAI,KAAK,eAAA;AAAA,EAC7D;AAEA,WAAS,UAAU,MAAW;AAC5B,WAAO,OAAO,QAAQ,EAAE,EACrB,QAAQ,QAAQ,GAAG,EACnB,KAAA,EACA,YAAA;AAAA,EACL;AAEA,WAAS,eAAe,OAAY;AAClC,QAAI,CAAC,MAAO,QAAO,CAAA;AACnB,QAAI,MAAM,QAAQ,KAAK,EAAG,QAAO;AACjC,QAAI,OAAO,UAAU,UAAU;AAC7B,UAAI;AACF,cAAM,SAAS,KAAK,MAAM,KAAK;AAC/B,eAAO,MAAM,QAAQ,MAAM,IAAI,SAAS,CAAA;AAAA,MAC1C,QAAQ;AACN,eAAO,CAAA;AAAA,MACT;AAAA,IACF;AACA,WAAO,CAAA;AAAA,EACT;AAEA,WAAS,oBAAoB;AAC3B,UAAM,QAAQ,aAAa,QAAQ,eAAe,KAAK;AACvD,WAAO,aAAa,SAAS,KAAK,IAAI,QAAQ;AAAA,EAChD;AAEA,WAAS,wBAAwB;AAC/B,WAAO,aAAa,QAAQ,oBAAoB,MAAM;AAAA,EACxD;AAEA,WAAS,uBAAuB,MAAe;AAC7C,QAAI,iBAAiB;AAClB,sBAAwB,SAAS,CAAC;AAAA,IACrC;AACA,QAAI,mBAAmB;AACrB,wBAAkB,cAAc,OAAO,qBAAqB;AAAA,IAC9D;AACA,iBAAa,QAAQ,sBAAsB,OAAO,MAAM,GAAG;AAAA,EAC7D;AAEA,WAAS,oBAAoB;AAC3B,WAAO;AAAA,EACT;AAEA,WAAS,mBAAmB,MAAe;AACzC,sBAAkB;AAClB,QAAI,aAAa;AACd,kBAAoB,SAAS,CAAC;AAAA,IACjC;AACA,QAAI,mBAAmB;AACrB,wBAAkB,cAAc,OAAO,UAAU;AAAA,IACnD;AACA,QAAI;AACF,mBAAa,QAAQ,kBAAkB,OAAO,MAAM,GAAG;AAAA,IACzD,QAAQ;AAAA,IAER;AAAA,EACF;AAEA,WAAS,yBAAyB;AAChC,UAAM,MAAM,aAAa,QAAQ,eAAe;AAChD,WAAO,QAAQ;AAAA,EACjB;AAEA,WAAS,wBAAwB,SAAkB;AACjD,iBAAa,QAAQ,iBAAiB,UAAU,MAAM,GAAG;AACzD,QAAI,YAAY;AACd,iBAAW,UAAU;AAAA,IACvB;AAAA,EACF;AAEA,WAAS,kBAAkB,OAAe;AACxC,qBAAiB,aAAa,SAAS,KAAK,IAAI,QAAQ;AACxD,iBAAa,QAAQ,iBAAiB,cAAc;AACpD,yBAAA;AACA,YAAA;AAAA,EACF;AAEA,WAAS,uBAAuB;AAC9B,QAAI,CAAC,eAAgB;AACrB,UAAM,UAAU,MAAM,KAAK,eAAe,iBAAiB,gBAAgB,CAAC;AAC5E,YAAQ,QAAQ,CAAC,WAAW;;AAC1B,YAAM,UAAS,YAAe,YAAf,mBAAwB,WAAU;AACjD,aAAO,UAAU,OAAO,UAAU,UAAU,cAAc;AAAA,IAC5D,CAAC;AAAA,EACH;AAEA,WAAS,gBAAgB,OAAc;AACrC,QAAI,mBAAmB,gBAAgB;AACrC,aAAO,MAAM;AAAA,QACX,CAAC,SAAS,OAAO,KAAK,QAAQ,EAAE,EAAE,kBAAkB;AAAA,MAAA;AAAA,IAExD;AACA,QAAI,mBAAmB,aAAa;AAClC,aAAO,MAAM;AAAA,QACX,CAAC,SAAS,OAAO,KAAK,QAAQ,EAAE,EAAE,kBAAkB;AAAA,MAAA;AAAA,IAExD;AACA,WAAO;AAAA,EACT;AAEA,WAAS,wBAAwB;AAC/B,QAAI,mBAAmB,eAAgB,QAAO;AAC9C,QAAI,mBAAmB,YAAa,QAAO;AAC3C,WAAO;AAAA,EACT;AAEA,WAAS,qBAAqB,MAAW;AACvC,QAAI,CAAC,KAAM,QAAO,CAAA;AAClB,UAAM,QAAQ,OAAO,IAAI,EACtB,MAAM,IAAI,EACV,IAAI,CAAC,SAAS,KAAK,KAAA,CAAM,EACzB,OAAO,OAAO;AACjB,UAAM,cAAc,MAAM;AAAA,MACxB,CAAC,SAAS,iBAAiB,KAAK,IAAI,KAAK,SAAS,KAAK,IAAI;AAAA,IAAA;AAE7D,QAAI,CAAC,YAAY,OAAQ,QAAO,CAAA;AAChC,WAAO,YAAY;AAAA,MAAI,CAAC,SACtB,KAAK,QAAQ,kBAAkB,EAAE,EAAE,QAAQ,aAAa,EAAE;AAAA,IAAA;AAAA,EAE9D;AAEA,WAAS,uBAAuB,MAAW;AACzC,UAAM,QAAQ,UAAU,KAAK,KAAK;AAClC,UAAM,OAAO,UAAU,KAAK,SAAS;AACrC,QAAI,CAAC,SAAS,CAAC,KAAM,QAAO;AAE5B,UAAM,WAAW,QAAQ;AACzB,QAAI,SAAS,SAAS,GAAI,QAAO;AACjC,QAAI,SAAS,QAAQ,UAAU,QAAQ,SAAS,SAAS,GAAI,QAAO;AAEpE,UAAM,YAAY,MAAM,OAAO,CAAC;AAChC,UAAM,YAAY,cAAc,OAAY,cAAc;AAC1D,QAAI,aAAa,SAAS,SAAS,GAAI,QAAO;AAE9C,QAAI,MAAM,WAAW,OAAO,KAAK,SAAS,SAAS,GAAI,QAAO;AAC9D,QAAI,aAAa,QAAQ,aAAa,UAAW,QAAO;AAExD,WAAO;AAAA,EACT;AAEA,WAAS,cAAc,KAAa,WAA2B,MAAY;AACzE,UAAM,KAAK,SAAS,cAAc,GAAG;AACrC,QAAI,WAAW;AACZ,SAAW,YAAY;AAAA,IAC1B;AACA,QAAI,SAAS,UAAa,SAAS,MAAM;AACvC,SAAG,cAAc,OAAO,IAAI;AAAA,IAC9B;AACA,WAAO;AAAA,EACT;AAEA,WAAS,eAAe,KAAU;AAChC,QAAI,CAAC,IAAK,QAAO;AACjB,UAAM,UAAU,OAAO,GAAG,EAAE,KAAA;AAC5B,UAAM,aAAa,QAAQ,QAAQ,GAAG;AACtC,QAAI,eAAe,GAAI,QAAO;AAC9B,WAAO,QAAQ,MAAM,GAAG,UAAU,EAAE,KAAA;AAAA,EACtC;AAEA,WAAS,cAAc,KAAU;AAC/B,UAAM,UAAU,eAAe,GAAG;AAClC,QAAI,CAAC,QAAS,QAAO;AACrB,UAAM,OAAO,cAAc,QAAQ,YAAY,OAAO;AACrD,SAAa,QAAQ,OAAO,GAAG;AAChC,WAAO;AAAA,EACT;AAaA,WAAS,eAAe,OAAc,QAAQ,GAAG;AAC/C,QAAI,CAAC,MAAM,OAAQ,QAAO;AAC1B,UAAM,UAAU,MAAM,IAAI,CAAC,SAAS,OAAO,IAAI,EAAE,KAAA,CAAM,EAAE,OAAO,OAAO;AACvE,UAAM,QAAQ,QAAQ,MAAM,GAAG,KAAK;AACpC,UAAM,SAAS,QAAQ,SAAS,QAAQ,KAAK,QAAQ,SAAS,KAAK,KAAK;AACxE,WAAO,GAAG,MAAM,KAAK,IAAI,CAAC,GAAG,MAAM,GAAG,KAAA;AAAA,EACxC;AAEA,WAAS,YACP,OACA,cACA,SACA,WACA;;AACA,UAAM,KAAK,MAAM,YAAY,CAAA;AAC7B,UAAM,gBACJ,6CAAc,mBACd,6CAAc,aACd,WAAM,UAAN,mBAAa,WACb,CAAA;AACF,UAAM,kBAAiB,6CAAc,oBAAmB;AACxD,UAAM,aAAa,CAAC,EAAE,WAAW;AACjC,UAAM,QAAQ,aAAa,iBAAiB;AAE5C,UAAM,MAAM,aAAa,OAAO,cAAc,WAAW,YAAY,CAAA;AACrE,UAAM,cAAc,OAAO,IAAI,YAAY,CAAC;AAC5C,UAAM,aAAa,OAAO,IAAI,WAAW,CAAC;AAE1C,UAAM,iBAAiB,aACnB;AAAA,UAAa,OAAO,aAAa,0BAA0B,CAAC,EAAE,eAAA,CAAgB,cAC9E;AACJ,UAAM,iBAAiB,aACnB;AAAA,UAAa,OAAO,aAAa,eAAe,CAAC,EAAE,eAAA,CAAgB,UACnE;AACJ,UAAM,kBAAkB,aACpB;AAAA,UAAa,OAAO,aAAa,gBAAgB,CAAC,EAAE,eAAA,CAAgB,WACpE;AAEJ,UAAM,QAAQ;AAAA,MACZ,EAAE,OAAO,YAAY,OAAO,GAAG,YAAY,GAAG,MAAM,WAAA;AAAA,MACpD,EAAE,OAAO,YAAY,OAAO,GAAG,gBAAgB,GAAG,MAAM,QAAA;AAAA,MACxD;AAAA,QACE,OAAO;AAAA,QACP,OAAO,GAAG,uBAAuB;AAAA,QACjC,MAAM;AAAA,MAAA;AAAA,MAER,EAAE,OAAO,aAAa,OAAO,GAAG,aAAa,GAAG,MAAM,UAAA;AAAA,MACtD;AAAA,QACE,OAAO;AAAA,QACP,OAAO;AAAA,QACP,SACE;AAAA,QACF,MAAM;AAAA,MAAA;AAAA,MAER;AAAA,QACE,OAAO;AAAA,QACP,OAAO;AAAA,QACP,SAAS;AAAA,QACT,MAAM;AAAA,MAAA;AAAA,MAER;AAAA,QACE,OAAO,aAAa,8BAA8B;AAAA,QAClD,OAAO,OAAO,MAAM,0BAA0B,CAAC;AAAA,QAC/C,SACE,8GACA;AAAA,QACF,MAAM;AAAA,MAAA;AAAA,MAER;AAAA,QACE,OAAO,aAAa,wBAAwB;AAAA,QAC5C,OAAO,OAAO,MAAM,eAAe,CAAC;AAAA,QACpC,SACE,uDAAuD;AAAA,QACzD,MAAM;AAAA,MAAA;AAAA,MAER;AAAA,QACE,OAAO,aAAa,sBAAsB;AAAA,QAC1C,OAAO,OAAO,MAAM,gBAAgB,CAAC;AAAA,QACrC,SACE,uEACA;AAAA,QACF,MAAM;AAAA,MAAA;AAAA,IACR;AAGF,QAAI,WAAW;AACb,gBAAU,cAAc;AACxB,YAAM,QAAQ,CAAC,SAAS;AACtB,cAAM,OAAO,cAAc,OAAO,MAAM;AACxC,YAAK,KAAa,SAAS;AACxB,eAAa,QAAS,KAAa;AACnC,eAAa,MAAM,SAAS;AAAA,QAC/B;AACA,cAAM,OAAO,SAAS,cAAc,GAAG;AACvC,aAAK,aAAa,eAAgB,KAAa,IAAI;AAClD,aAAa,YAAY;AAC1B,cAAM,UAAU,cAAc,OAAO,cAAc;AACnD,cAAM,QAAQ;AAAA,UACZ;AAAA,UACA;AAAA,UACA,OAAQ,KAAa,SAAS,CAAC,EAAE,eAAA;AAAA,QAAe;AAElD,cAAM,QAAQ,cAAc,OAAO,SAAU,KAAa,KAAK;AAC/D,gBAAQ,OAAO,OAAO,KAAK;AAC3B,aAAK,OAAO,MAAM,OAAO;AACzB,kBAAU,YAAY,IAAI;AAAA,MAC5B,CAAC;AAAA,IACH;AACA,QAAI,OAAQ,WAAmB,WAAW;AACvC,iBAAmB,OAAO,YAAA;AAC7B,UAAM,gBAAgB,UAAU,eAAe,OAAO,KAAK;AAC3D,QAAI,UAAU;AACZ,eAAS,cAAc,OAAO,GAAG,QAAQ,SAAS,MAAM,KAAK;AAAA,SAC1D,GAAG,cAAc,KAAK;AAAA,MAAA,CACxB,MAAM,aAAa;AAAA,IACtB;AAAA,EACF;AAEA,WAAS,gBAAgB,OAAY;AACnC,QAAI,CAAC,MAAO,QAAO;AACnB,UAAM,OAAO,IAAI,KAAK,KAAK;AAC3B,QAAI,OAAO,MAAM,KAAK,QAAA,CAAS,EAAG,QAAO,OAAO,KAAK;AACrD,WAAO,KAAK,eAAA;AAAA,EACd;AAEA,WAAS,cAAc,SAAc;AACnC,UAAM,MAAM,OAAO,WAAW,EAAE;AAChC,QAAI,CAAC,IAAK,QAAO;AACjB,QAAI,SAAS;AACb,QAAI,YAAY;AAChB,UAAM,cAAc,IAAI,MAAM,yBAAyB;AACvD,QAAI,aAAa;AACf,eAAS,YAAY,CAAC;AACtB,kBAAY,YAAY,CAAC,IAAI,YAAY,CAAC;AAAA,IAC5C;AACA,UAAM,WAAW,UAAU,QAAQ,QAAQ,GAAG;AAC9C,WAAO,SAAS,GAAG,MAAM,MAAM,QAAQ,KAAK;AAAA,EAC9C;AAEA,WAAS,iBAAiB,QAAa;AACrC,QAAI,CAAC,eAAgB;AACrB,mBAAe,cAAc;AAC7B,QAAI,CAAC,OAAQ;AAEb,UAAM,QAAQ,OAAO,SAAS,CAAA;AAC9B,UAAM,cAAc,OAAO,QAAQ,CAAA;AACnC,UAAM,cAAc,OAAO,QAAQ,CAAA;AACnC,UAAM,WAAW,OAAO,gBAAgB,OAAO,oBAAoB;AACnE,UAAM,WAAW,YAAY,gBAAgB,OAAO,gBAAgB;AACpE,UAAM,YAAY,OAAO,mBAAmB;AAC5C,UAAM,YAAY,OAAO,mBAAmB;AAC5C,UAAM,UAAU,OAAO,OAAO,WAAW,CAAC;AAE1C,UAAM,QAAQ;AAAA,MACZ,EAAE,OAAO,kBAAkB,OAAO,QAAA;AAAA,MAClC,EAAE,OAAO,aAAa,OAAO,gBAAgB,QAAQ,EAAA;AAAA,MACrD,EAAE,OAAO,aAAa,OAAO,gBAAgB,QAAQ,EAAA;AAAA,MACrD,EAAE,OAAO,SAAS,OAAO,OAAO,KAAK,KAAK,EAAE,OAAA;AAAA,IAAO;AAErD,UAAM,QAAQ,CAAC,SAAS;AACtB,YAAM,QAAQ,cAAc,OAAO,MAAM;AACzC,YAAM,QAAQ,cAAc,OAAO,SAAS,KAAK,KAAK;AACtD,YAAM,QAAQ,cAAc,OAAO,SAAS,KAAK,KAAK;AACtD,YAAM,UAAU,cAAc,OAAO,cAAc;AACnD,cAAQ,OAAO,OAAO,KAAK;AAC3B,YAAM,OAAO,OAAO;AACpB,qBAAe,YAAY,KAAK;AAAA,IAClC,CAAC;AAED,QAAI,aAAa,WAAW;AAC1B,YAAM,QAAQ,cAAc,OAAO,MAAM;AACzC,YAAM,QAAQ,cAAc,OAAO,SAAS,QAAQ;AACpD,YAAM,QAAQ;AAAA,QACZ;AAAA,QACA;AAAA,QACA,CAAC,WAAW,SAAS,EAAE,OAAO,OAAO,EAAE,KAAK,KAAK;AAAA,MAAA;AAEnD,YAAM,UAAU,cAAc,OAAO,cAAc;AACnD,cAAQ,OAAO,OAAO,KAAK;AAC3B,YAAM,OAAO,OAAO;AACpB,qBAAe,YAAY,KAAK;AAAA,IAClC;AAEA,QAAI,eAAe,YAAY,oBAAoB;AACjD,YAAM,QAAQ,cAAc,OAAO,MAAM;AACzC,YAAM,QAAQ;AAAA,QACZ;AAAA,QACA;AAAA,QACA,GAAG,YAAY,kBAAkB;AAAA,MAAA;AAEnC,YAAM,QAAQ,cAAc,OAAO,SAAS,iBAAiB;AAC7D,YAAM,UAAU,cAAc,OAAO,cAAc;AACnD,cAAQ,OAAO,OAAO,KAAK;AAC3B,YAAM,OAAO,OAAO;AACpB,qBAAe,YAAY,KAAK;AAAA,IAClC;AAEA,QAAI,eAAe,YAAY,oBAAoB;AACjD,YAAM,QAAQ,cAAc,OAAO,MAAM;AACzC,YAAM,QAAQ;AAAA,QACZ;AAAA,QACA;AAAA,QACA,GAAG,YAAY,kBAAkB;AAAA,MAAA;AAEnC,YAAM,QAAQ,cAAc,OAAO,SAAS,iBAAiB;AAC7D,YAAM,UAAU,cAAc,OAAO,cAAc;AACnD,cAAQ,OAAO,OAAO,KAAK;AAC3B,YAAM,OAAO,OAAO;AACpB,qBAAe,YAAY,KAAK;AAAA,IAClC;AAAA,EACF;AAEA,WAAS,gBAAgB,OAAc;AACrC,QAAI,CAAC,UAAW;AAChB,cAAU,cAAc;AACxB,QAAI,CAAC,MAAM,QAAQ,KAAK,KAAK,CAAC,MAAM,OAAQ;AAE5C,UAAM,QAAQ,CAAC,SAAS;AACtB,YAAM,OAAO,cAAc,OAAO,WAAW;AAC7C,YAAM,QAAQ,cAAc,OAAO,YAAY;AAC/C,YAAM,SAAS,KAAK,iBAAiB,OAAO,KAAK,cAAc,IAAI;AACnE,YAAM,cAAc,KAAK,SAAS,SAAS,OAAO,MAAM,GAAG,CAAC,IAAI;AAChE,YAAM,OAAO,cAAc,UAAU,MAAM,WAAW;AACtD,UAAI,OAAS,MAAa,QAAQ;AAClC,YAAM,UAAU,cAAc,OAAO,cAAc;AAEnD,YAAM,SAAS,KAAK,UAAU,CAAA;AAC9B,YAAM,aAAa,OAAO,eAAe;AACzC,YAAM,aAAa,OAAO,eAAe;AACzC,YAAM,SAAS,eAAe,QAAQ,eAAe;AACrD,YAAM,cAAc;AAAA,QAClB;AAAA,QACA;AAAA,QACA,SAAS,WAAW;AAAA,MAAA;AAErB,kBAAoB,MAAM,aAAa,SACpC,4BACA;AACH,kBAAoB,MAAM,QAAQ,SAC/B,kBACA;AACJ,WAAK,OAAO,KAAK,WAAW;AAE5B,YAAM,gBAAgB,MAAM,QAAQ,KAAK,SAAS,IAC9C,MAAM,KAAK,IAAI,IAAI,KAAK,UAAU,OAAO,OAAO,CAAC,CAAC,IAClD,CAAA;AACJ,YAAM,cAAc,cAAc,SAC9B,cACG;AAAA,QAAI,CAAC,YACJ,uBAAA,IAA2B,cAAc,OAAO,IAAI;AAAA,MAAA,EAErD,KAAK,KAAK,IACb;AACJ,YAAM,eAAe,cAAc,OAAO,kBAAkB,WAAW;AAEvE,YAAM,aAAa,OAAO,gBAAgB,OAAO,oBAAoB;AACrE,YAAM,aAAa,OAAO,gBAAgB,OAAO,oBAAoB;AACrE,YAAMA,YAAW;AAAA,QACf,aAAa,SAAS,gBAAgB,UAAU,CAAC,KAAK;AAAA,QACtD,aAAa,SAAS,gBAAgB,UAAU,CAAC,KAAK;AAAA,MAAA,EACtD,KAAK,KAAK;AACZ,YAAM,OAAO,cAAc,OAAO,aAAaA,SAAQ;AAEvD,UAAI,cAAc,QAAQ;AACxB,sBAAc,QAAQ,CAAC,YAAoB;AACzC,gBAAM,SAAS;AAAA,YACb;AAAA,YACA;AAAA,YACA;AAAA,UAAA;AAEF,iBAAO,iBAAiB,SAAS,MAAM,QAAQ,OAAO,CAAC;AACvD,kBAAQ,YAAY,MAAM;AAAA,QAC5B,CAAC;AAAA,MACH;AAEA,YAAM,OAAO,MAAM,OAAO;AAC1B,WAAK,OAAO,OAAO,cAAc,IAAI;AACrC,gBAAU,YAAY,IAAI;AAAA,IAC5B,CAAC;AAAA,EACH;AAEA,WAAS,mBAAmB,UAAiB;AAC3C,QAAI,CAAC,aAAc;AACnB,iBAAa,cAAc;AAC3B,QAAI,CAAC,MAAM,QAAQ,QAAQ,KAAK,CAAC,SAAS,OAAQ;AAElD,aAAS,QAAQ,CAAC,YAAY;AAC5B,YAAM,OAAO,cAAc,OAAO,WAAW;AAC7C,YAAM,OAAO,cAAc,OAAO,MAAM;AACxC,YAAM,QAAQ,cAAc,OAAO,OAAO;AAE1C,YAAM,gBAAgB,QAAQ,UAAU;AACxC,YAAM,SAAS,cAAc,OAAO,MAAM,aAAa;AACvD,YAAM,UAAU,QAAQ,UAAU,OAAO,QAAQ,OAAO,IAAI;AAC5D,YAAM,WAAW,uBAAA,IACb,cAAc,OAAO,IACrB;AACJ,YAAM,eAAe,cAAc,OAAO,SAAS,YAAY,KAAK;AACpE,WAAK,OAAO,QAAQ,YAAY;AAEhC,YAAM,OAAO,QAAQ,cAAc,QAAQ,kBAAkB;AAC7D,YAAM,cAAc,OAAO,gBAAgB,IAAI,IAAI;AAEnD,WAAK,OAAO,MAAM,KAAK;AACvB,mBAAa,YAAY,IAAI;AAAA,IAC/B,CAAC;AAAA,EACH;AAEA,WAAS,iBAAiB,YAAiB;AACzC,QAAI,CAAC,eAAgB;AACrB,mBAAe,cAAc;AAC7B,UAAM,SAAS,cAAc,CAAA;AAC7B,UAAM,QAAQ,cAAc,OAAO,MAAM;AACzC,UAAM,QAAQ,cAAc,OAAO,SAAS,OAAO,UAAU,SAAS;AACtE,UAAM,QAAQ,cAAc,OAAO,SAAS,aAAa;AACzD,UAAM,UAAU,cAAc,OAAO,cAAc;AACnD,YAAQ,OAAO,OAAO,KAAK;AAC3B,UAAM,OAAO,OAAO;AACpB,mBAAe,OAAO,KAAK;AAC3B,QAAI,OAAO,SAAS;AAClB,YAAM,SAAS,cAAc,OAAO,MAAM;AAC1C,YAAM,cAAc,cAAc,OAAO,SAAS,OAAO,OAAO;AAChE,YAAM,cAAc,cAAc,OAAO,SAAS,SAAS;AAC3D,YAAM,gBAAgB,cAAc,OAAO,cAAc;AACzD,oBAAc,OAAO,aAAa,WAAW;AAC7C,aAAO,OAAO,aAAa;AAC3B,qBAAe,OAAO,MAAM;AAAA,IAC9B;AAAA,EACF;AAEA,WAAS,cAAc,SAAc;AACnC,QAAI,CAAC,eAAgB;AACrB,QAAI,CAAC,SAAS;AACZ,qBAAe,cAAc;AAC7B,UAAI;AACF,oBAAY,cACV;AACJ;AAAA,IACF;AAEA,UAAM,UAAU,QAAQ,WAAW;AACnC,mBAAe,cAAc,WAAW;AACxC,wBAAoB,WAAW;AAC/B,QAAI,aAAa;AACf,kBAAY,cACV,QAAQ,QAAQ;AAAA,IACpB;AAAA,EACF;AAEA,iBAAe,qBAAqB;AAClC,UAAM,UAAU,sBAAqB,iDAAgB,gBAAe;AACpE,QAAI,CAAC,QAAS;AACd,QAAI;AACF,YAAM,UAAU,UAAU,UAAU,OAAO;AAC3C,UAAI,yBAAyB,cAAc;AAC3C,iBAAW,MAAM;AACf,YAAI,yBAAyB,cAAc;AAAA,MAC7C,GAAG,IAAI;AAAA,IACT,QAAQ;AACN,UAAI,yBAAyB,cAAc;AAAA,IAC7C;AAAA,EACF;AAEA,6CAAa,iBAAiB,SAAS;AAEvC,WAAS,cAAc,MAAW;AAChC,WAAO;AAAA,MACL,KAAK,MACH,KAAK,aACL,KAAK,kBACL,KAAK,cACL,KAAK,kBACL,KAAK,cACL;AAAA,IAAA;AAAA,EAEN;AAIA,WAAS,QAAQ,MAAW;AAC1B,WAAO,GAAG,OAAO,KAAK,QAAQ,EAAE,EAAE,YAAA,CAAa,IAAI,cAAc,IAAI,CAAC;AAAA,EACxE;AAEA,WAAS,aAAa,OAAe;AACnC,WAAO,MACJ,QAAQ,MAAM,GAAG,EACjB,MAAM,GAAG,EACT,IAAI,CAAC,SAAU,OAAO,KAAK,CAAC,EAAE,YAAA,IAAgB,KAAK,MAAM,CAAC,IAAI,IAAK,EACnE,KAAK,GAAG,EACR,KAAA;AAAA,EACL;AAEA,WAAS,iBAAiB,MAAuC;;AAC/D,UAAM,YAAY,6BAAM;AACxB,QAAI,aAAa,OAAO,cAAc,YAAY,CAAC,MAAM,QAAQ,SAAS,GAAG;AAC3E,aAAO;AAAA,IACT;AACA,UAAM,UAAS,kCAAM,YAAN,mBAAe;AAC9B,QAAI,UAAU,OAAO,WAAW,YAAY,CAAC,MAAM,QAAQ,MAAM,GAAG;AAClE,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAEA,WAAS,iBAAiB,MAAW;AACnC,UAAM,OAAO,6BAAM;AACnB,UAAM,OAAO,6BAAM;AACnB,WAAO,OAAO,QAAQ,QAAQ,EAAE,EAAE,KAAA;AAAA,EACpC;AAEA,WAAS,aAAa,MAAW;AAC/B,UAAM,OAAO,QAAO,6BAAM,cAAa,EAAE;AACzC,WAAO,qBAAqB,IAAI;AAAA,EAClC;AAEA,WAAS,oBAAoB,SAAkD;AAC7E,UAAM,YAAY;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAEF,UAAM,OAAO,OAAO,KAAK,WAAW,CAAA,CAAE;AACtC,UAAM,YAAY,KACf,OAAO,CAAC,QAAQ,CAAC,UAAU,SAAS,GAAG,CAAC,EACxC,KAAK,CAAC,GAAG,MAAM,EAAE,cAAc,CAAC,CAAC;AACpC,UAAM,UAAU,CAAC,GAAG,UAAU,OAAO,CAAC,QAAQ,KAAK,SAAS,GAAG,CAAC,GAAG,GAAG,SAAS;AAE/E,UAAM,YAAY,cAAc,OAAO,iBAAiB;AACxD,QAAI,QAAQ;AACZ,YAAQ,QAAQ,CAAC,QAAQ;AACvB,YAAM,MAAO,QAAgB,GAAG;AAChC,YAAM,UAAU,OAAO,OAAO,EAAE,EAAE,KAAA;AAClC,UAAI,CAAC,QAAS;AACd,cAAQ;AACR,YAAM,MAAM,cAAc,OAAO,iBAAiB;AAClD,YAAM,QAAQ,cAAc,OAAO,yBAAyB,aAAa,GAAG,CAAC;AAC7E,YAAM,QAAQ,cAAc,OAAO,2BAA2B,OAAO;AACrE,UAAI,OAAO,OAAO,KAAK;AACvB,gBAAU,YAAY,GAAG;AAAA,IAC3B,CAAC;AACD,WAAO,QAAQ,YAAY;AAAA,EAC7B;AAEA,WAAS,YAAY,OAAqC;AACxD,UAAM,UAAU,MAAM,IAAI,CAAC,SAAS,OAAO,QAAQ,EAAE,EAAE,KAAA,CAAM,EAAE,OAAO,OAAO;AAC7E,QAAI,CAAC,QAAQ,OAAQ,QAAO;AAC5B,UAAM,YAAY,cAAc,OAAO,WAAW;AAClD,UAAM,OAAO,SAAS,cAAc,IAAI;AACxC,YAAQ,QAAQ,CAAC,SAAS;AACxB,YAAM,KAAK,SAAS,cAAc,IAAI;AACtC,SAAG,cAAc;AACjB,WAAK,YAAY,EAAE;AAAA,IACrB,CAAC;AACD,cAAU,YAAY,IAAI;AAC1B,WAAO;AAAA,EACT;AAEA,WAAS,gBAAgB,WAAuC;AAC9D,UAAM,UAAU,OAAO,aAAa,EAAE,EAAE,KAAA;AACxC,QAAI,CAAC,QAAS,QAAO;AACrB,UAAM,OAAO,cAAc,OAAO,WAAW;AAC7C,SAAK,YAAa,WAAmB,OAAO,MAAM,OAAO;AACzD,WAAO;AAAA,EACT;AAEA,WAAS,aAAa,MAAuD;AAC3E,UAAM,QAAoD,CAAA;AAC1D,UAAM,UAAU,iBAAiB,IAAI;AACrC,UAAM,YAAY,UAAU,oBAAoB,OAAO,IAAI;AAC3D,QAAI,WAAW;AACb,YAAM,KAAK,EAAE,IAAI,WAAW,OAAO,WAAW;AAAA,IAChD;AACA,QAAI,YAAY,aAAa,IAAI,CAAC,GAAG;AACnC,YAAM,KAAK,EAAE,IAAI,SAAS,OAAO,SAAS;AAAA,IAC5C;AACA,QAAI,gBAAgB,iBAAiB,IAAI,CAAC,GAAG;AAC3C,YAAM,KAAK,EAAE,IAAI,aAAa,OAAO,aAAa;AAAA,IACpD;AACA,WAAO;AAAA,EACT;AAEA,WAAS,mBACP,OACc;AACd,QAAI,MAAM,KAAK,CAAC,SAAS,KAAK,OAAO,SAAS,EAAG,QAAO;AACxD,QAAI,MAAM,KAAK,CAAC,SAAS,KAAK,OAAO,OAAO,EAAG,QAAO;AACtD,WAAO;AAAA,EACT;AAEA,WAAS,eAAe,MAAW,MAAwC;AACzE,QAAI,SAAS,WAAW;AACtB,YAAM,UAAU,iBAAiB,IAAI;AACrC,aAAO,UAAU,oBAAoB,OAAO,IAAI;AAAA,IAClD;AACA,QAAI,SAAS,SAAS;AACpB,aAAO,YAAY,aAAa,IAAI,CAAC;AAAA,IACvC;AACA,WAAO,gBAAgB,iBAAiB,IAAI,CAAC;AAAA,EAC/C;AAEA,WAAS,qBACP,OACA,QACA,UACoB;AACpB,QAAI,MAAM,UAAU,EAAG,QAAO;AAC9B,UAAM,SAAS,cAAc,OAAO,aAAa;AACjD,UAAM,QAAQ,CAAC,SAAS;AACtB,YAAM,SAAS;AAAA,QACb;AAAA,QACA;AAAA,QACA,KAAK;AAAA,MAAA;AAEP,aAAO,QAAQ,SAAS,KAAK;AAC7B,aAAO,UAAU,OAAO,UAAU,KAAK,OAAO,MAAM;AACpD,aAAO,iBAAiB,SAAS,MAAM,SAAS,KAAK,EAAE,CAAC;AACxD,aAAO,YAAY,MAAM;AAAA,IAC3B,CAAC;AACD,WAAO;AAAA,EACT;AAEA,WAAS,qBAAqB,OAAc;AAC1C,UAAM,QAAQ,MAAM;AAAA,MAClB,CAAC,SACC,GAAG,cAAc,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE,IAAI,KAAK,kBAAkB,KAAK,cAAc,EAAE;AAAA,IAAA;AAE7F,WAAO,GAAG,cAAc,IAAI,cAAc,IAAI,MAAM,KAAK,GAAG,CAAC;AAAA,EAC/D;AAEA,WAAS,WAAW,OAAc;AAChC,QAAI,CAAC,SAAU;AACf,aAAS,cAAc;AACvB,QAAI,CAAC,MAAM,QAAQ,KAAK,KAAK,CAAC,MAAM,QAAQ;AAC1C,YAAM,QAAQ,cAAc,OAAO,SAAS,kBAAkB;AAC9D,eAAS,YAAY,KAAK;AAC1B;AAAA,IACF;AACA,UAAM,QAAQ,CAAC,SAAS;AACtB,YAAM,OAAO;AAAA,QACX;AAAA,QACA,aAAa,OAAO,KAAK,QAAQ,EAAE,EAAE,aAAa,GAAG,KAAA;AAAA,MAAK;AAE3D,WAAa,QAAQ,MAAM,QAAQ,IAAI;AACxC,YAAM,SAAS,cAAc,OAAO,kBAAkB;AACtD,YAAM,YAAY,cAAc,OAAO,aAAa;AACpD,YAAM,QAAQ;AAAA,QACZ;AAAA,QACA;AAAA,QACA,KAAK,SAAS;AAAA,MAAA;AAEhB,YAAM,OAAO;AAAA,QACX;AAAA,QACA,aAAa,OAAO,KAAK,QAAQ,EAAE,EAAE,YAAA,CAAa,GAAG,KAAA;AAAA,QACrD,KAAK,QAAQ;AAAA,MAAA;AAEf,gBAAU,OAAO,OAAO,IAAI;AAE5B,YAAM,YAAY,SAAS,cAAc,KAAK;AAC9C,gBAAU,MAAM,UAAU;AAC1B,gBAAU,MAAM,aAAa;AAC7B,gBAAU,MAAM,MAAM;AACtB,gBAAU,MAAM,aAAa;AAE7B,YAAM,YAAY,WAAW,KAAK,cAAc,KAAK,cAAc;AACnE,YAAM,MAAM,cAAc,OAAO,SAAS,SAAS;AAEnD,YAAM,QAAQ,aAAa,IAAI;AAC/B,YAAM,MAAM,QAAQ,IAAI;AACxB,YAAM,QAAQ,cAAc,IAAI,GAAG;AACnC,YAAM,aAAa,SAAS,mBAAmB,KAAK;AACpD,oBAAc,IAAI,KAAK,UAAU;AAEjC,UAAI,WACF,eAAe,MAAM,UAAU,KAAK,cAAc,OAAO,WAAW;AAEtE,YAAM,SAAS,qBAAqB,OAAO,YAAY,CAAC,SAAS;AAC/D,sBAAc,IAAI,KAAK,IAAI;AAC3B,cAAM,WAAW,eAAe,MAAM,IAAI,KAAK,cAAc,OAAO,WAAW;AAC/E,aAAK,aAAa,UAAU,QAAQ;AACpC,mBAAW;AAEX,YAAI,QAAQ;AACV,gBAAM,UAAU,MAAM,KAAK,OAAO,iBAAiB,gBAAgB,CAAC;AACpE,kBAAQ,QAAQ,CAAC,WAAW;AAC1B,kBAAM,QAAS,OAA6B,QAAQ;AACpD,mBAAO,UAAU,OAAO,UAAU,UAAU,IAAI;AAAA,UAClD,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAED,UAAI,QAAQ;AACV,kBAAU,YAAY,MAAM;AAAA,MAC9B;AACA,gBAAU,YAAY,GAAG;AAEzB,aAAO,OAAO,WAAW,SAAS;AAElC,YAAM,OAAO,cAAc,OAAO,WAAW;AAC7C,YAAM,OAAO,eAAe,KAAK,QAAQ,CAAA,CAAE;AAC3C,YAAM,QAAQ,eAAe,KAAK,SAAS,CAAA,CAAE;AAC7C,YAAM,UAAU,KAAK,WAAW;AAChC,YAAM,aAAa,KAAK,SACpB,MAAM,KAAK,IAAI,CAAC,QAAQ,eAAe,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,KACvD;AACJ,YAAM,cAAc,MAAM,SAAS,MAAM,eAAe,KAAK,CAAC,KAAK;AACnE,YAAM,iBAAiB,UAAU,YAAY,OAAO,KAAK;AACzD,WAAK,cAAc,GAAG,cAAc,GAAG,UAAU,GAAG,WAAW;AAE/D,YAAM,SAAS,cAAc,OAAO,aAAa;AACjD,YAAM,aAAa,cAAc,OAAO,kBAAkB;AAC1D,YAAM,YAAY,cAAc,OAAO,YAAY;AACnD,YAAM,WAAW,cAAc,OAAO,WAAW;AAEjD,YAAM,QAAQ,CAAC,SAAc;AAC3B,cAAM,OAAO,cAAc,QAAQ,aAAa,IAAI;AACpD,kBAAU,YAAY,IAAI;AAAA,MAC5B,CAAC;AAED,WAAK,QAAQ,CAAC,QAAa;AACzB,cAAM,OAAO,cAAc,GAAG;AAC9B,YAAI,KAAM,UAAS,YAAY,IAAI;AAAA,MACrC,CAAC;AAED,UAAI,UAAU,mBAAmB;AAC/B,mBAAW,YAAY,SAAS;AAAA,MAClC;AACA,UAAI,SAAS,mBAAmB;AAC9B,mBAAW,YAAY,QAAQ;AAAA,MACjC;AACA,aAAO,YAAY,UAAU;AAE7B,WAAK,OAAO,QAAQ,MAAM,UAAU,MAAM;AAC1C,eAAS,YAAY,IAAI;AAAA,IAC3B,CAAC;AACD,QAAI,OAAQ,WAAmB,WAAW;AACvC,iBAAmB,OAAO,YAAA;AAAA,EAC/B;AAEA,WAAS,qBAAqB,SAAc;AAC1C,QAAI,CAAC,eAAe,CAAC,YAAa;AAClC,gBAAY,cAAc;AAC1B,QAAI,CAAC,SAAS;AACZ,kBAAY,cAAc;AAC1B;AAAA,IACF;AAEA,UAAM,QAAQ,OAAO,QAAQ,SAAS,CAAC;AACvC,gBAAY,cAAc,QACtB,GAAG,KAAK,uBACR;AAEJ,UAAM,QAAQ;AAAA,MACZ,EAAE,OAAO,YAAY,OAAO,QAAQ,YAAY,EAAA;AAAA,MAChD,EAAE,OAAO,aAAa,OAAO,QAAQ,aAAa,EAAA;AAAA,MAClD,EAAE,OAAO,WAAW,OAAO,QAAQ,WAAW,EAAA;AAAA,MAC9C,EAAE,OAAO,gBAAgB,OAAO,QAAQ,gBAAgB,EAAA;AAAA,IAAE;AAE5D,UAAM,QAAQ,CAAC,SAAS;AACtB,YAAM,QAAQ,cAAc,OAAO,MAAM;AACzC,YAAM,QAAQ;AAAA,QACZ;AAAA,QACA;AAAA,QACA,OAAO,KAAK,SAAS,CAAC,EAAE,eAAA;AAAA,MAAe;AAEzC,YAAM,QAAQ,cAAc,OAAO,SAAS,KAAK,KAAK;AACtD,YAAM,UAAU,cAAc,OAAO,cAAc;AACnD,cAAQ,OAAO,OAAO,KAAK;AAC3B,YAAM,OAAO,OAAO;AACpB,kBAAY,YAAY,KAAK;AAAA,IAC/B,CAAC;AAAA,EACH;AAEA,WAAS,kBAAkB,UAAe,QAAa;AACrD,QAAI,CAAC,YAAY,CAAC,OAAQ;AAC1B,qBAAiB;AACjB,iBAAa,OAAO,QAAQ;AAE5B,UAAM,mBAAmB,OAAO,qBAAqB;AACrD,UAAM,gBAAgB,OAAO,kBAAkB;AAC/C,UAAM,mBAAmB,OAAO,sBAAsB;AACtD,UAAM,uBAAuB,OAAO,0BAA0B;AAC9D,UAAM,mBAAmB,OAAO,sBAAsB;AACtD,UAAM,cAAc,OAAO,gBAAgB;AAC3C,UAAM,WAAW,OAAO,aAAa;AACrC,UAAM,WAAW,OAAO,aAAa;AACrC,UAAM,eAAe,OAAO,yBAAyB;AACrD,UAAM,WAAW,OAAO,aAAa;AAErC,QAAI,6CAA6C,QAAQ;AACzD,QAAI,uCAAuC,QAAQ;AACnD,QAAI,6CAA6C,QAAQ;AACzD,QAAI;AACF,gCAA0B,QAAQ;AACpC,QAAI,6CAA6C,QAAQ;AACzD,QAAI,iBAAkB,kBAAiB,UAAU,QAAQ,WAAW;AACpE,QAAI,6BAA6B,QAAQ;AACzC,QAAI,6BAA6B,QAAQ;AACzC,QAAI,qCAAqC,QAAQ;AACjD,QAAI,cAAe,eAAc,UAAU,QAAQ,QAAQ;AAE3D,QAAI;AACF,mBAAa,cAAc,aACvB,gBAAgB,UAAU,KAC1B;AACN,QAAI,sBAAsB;AACxB,YAAM,gBAAe,iDAAgB,uBAAsB;AAC3D,2BAAqB,cAAc,eAC/B,YAAY,YAAY,KACxB;AAAA,IACN;AACA,QAAI,kBAAmB,mBAAkB,cAAc,OAAO,aAAa;AAAA,EAC7E;AAEA,WAAS,eAAe;AACtB,gBAAA;AACA,QAAI,iBAAmB,kBAAyB,SAAS;AACzD,QAAI,cAAgB,eAAsB,SAAS;AAAA,EACrD;AAEA,WAAS,gBAAgB;AACvB,QAAI,iBAAmB,kBAAyB,SAAS;AACzD,QAAI,cAAgB,eAAsB,SAAS;AACnD,iBAAA;AACA,YAAA;AAAA,EACF;AAEA,mDAAgB,iBAAiB,SAAS;AAC1C,iDAAe,iBAAiB,SAAS;AACzC,uDAAkB,iBAAiB,SAAS;AAE5C,iBAAe,QAAQ,SAAiB;AACtC,QAAI,CAAC,cAAe;AACpB,kBAAc,WAAW;AACzB,kBAAc,cAAc;AAC5B,QAAI;AACF,YAAM,UAAU,UAAU,EAAE,QAAA,IAAY,CAAA;AACxC,YAAM,MAAM,iBAAiB;AAAA,QAC3B,QAAQ;AAAA,QACR,SAAS,EAAE,gBAAgB,mBAAA;AAAA,QAC3B,MAAM,KAAK,UAAU,OAAO;AAAA,MAAA,CAC7B;AACD,cAAA;AAAA,IACF,QAAQ;AAAA,IAER,UAAA;AACE,oBAAc,WAAW;AACzB,oBAAc,cAAc;AAAA,IAC9B;AAAA,EACF;AAEA,iDAAe,iBAAiB,SAAS,MAAM,QAAQ,EAAE;AAEzD,WAAS,2BAA2B,QAAa;AAC/C,QAAI,CAAC,kBAAmB;AACxB,QAAI,iCAAQ,mBAAmB;AAC5B,wBAA0B,SAAS;AAAA,IACtC,OAAO;AACJ,wBAA0B,SAAS;AAAA,IACtC;AAAA,EACF;AAEA,iBAAe,eAAe;AAC5B,QAAI,CAAC,gBAAgB,CAAC,eAAgB;AACrC,iBAAqB,WAAW;AACjC,mBAAe,cAAc;AAC7B,QAAI;AACF,YAAM,UAAU;AAAA,QACd,oBAAmB,+DAAuB,UAAS;AAAA,QACnD,iBAAgB,yDAAoB,UAAS;AAAA,QAC7C,oBAAoB,QAAO,+DAAuB,UAAS,CAAC,KAAK;AAAA,QACjE,wBACE,QAAO,uEAA2B,UAAS,CAAC,KAAK;AAAA,QACnD,oBAAoB,QAAO,+DAAuB,UAAS,CAAC,KAAK;AAAA,QACjE,eAAc,qDAAkB,YAAW;AAAA,QAC3C,YAAW,+CAAe,UAAS;AAAA,QACnC,WAAW,QAAO,+CAAe,UAAS,CAAC,KAAK;AAAA,QAChD,uBAAuB,QAAO,uDAAmB,UAAS,CAAC,KAAK;AAAA,QAChE,YAAW,+CAAe,YAAW;AAAA,MAAA;AAEvC,YAAM,OAAO,MAAM,MAAM,eAAe;AAAA,QACtC,QAAQ;AAAA,QACR,SAAS,EAAE,gBAAgB,mBAAA;AAAA,QAC3B,MAAM,KAAK,UAAU,OAAO;AAAA,MAAA,CAC7B;AACD,UAAI,CAAC,KAAK,IAAI;AACZ,cAAM,UAAU,MAAM,KAAK,KAAA;AAC3B,cAAM,IAAI,MAAM,OAAO;AAAA,MACzB;AACA,qBAAe,cAAc;AAC7B,iBAAW,MAAM;AACf,uBAAe,cAAc;AAAA,MAC/B,GAAG,IAAI;AACP,cAAA;AAAA,IACF,QAAQ;AACN,qBAAe,cAAc;AAAA,IAC/B,UAAA;AACG,mBAAqB,WAAW;AAAA,IACnC;AAAA,EACF;AAEA,+CAAc,iBAAiB,SAAS;AAExC,iBAAe,YAAY;AACzB,QAAI;AACF,YAAM,CAAC,WAAW,WAAW,cAAc,aAAa,IACtD,MAAM,QAAQ,IAAI;AAAA,QAChB,MAAM,YAAY;AAAA,QAClB,MAAM,sBAAsB,mBAAmB,kBAAkB,EAAE,CAAC,EAAE;AAAA,QACtE;AAAA,UACE,wBAAwB,mBAAmB,kBAAkB,EAAE,CAAC;AAAA,QAAA;AAAA,QAElE;AAAA,UACE,2BAA2B,mBAAmB,kBAAkB,EAAE,CAAC;AAAA,QAAA;AAAA,MACrE,CACD;AAEH,YAAM,eAAe,MAAM,UAAU,KAAA;AACrC,YAAM,eAAe,UAAU,KAAK,MAAM,UAAU,KAAA,IAAS,CAAA;AAC7D,YAAM,kBAAkB,aAAa,KAAK,MAAM,aAAa,KAAA,IAAS,CAAA;AACtE,YAAM,mBAAmB,cAAc,KAAK,MAAM,cAAc,KAAA,IAAS,CAAA;AAEzE,YAAM,QAAQ,gBAAgB,CAAA;AAC9B,YAAM,WAAW,mBAAmB,CAAA;AACpC,YAAM,YAAY,oBAAoB,CAAA;AAEtC,kBAAY,OAAO,cAAc,gBAAgB,SAAS;AAC1D,2BAAqB,QAAQ;AAC7B,uBAAiB,MAAM,eAAe,EAAE;AAAA,IAC1C,QAAQ;AACN,UAAI,mBAAmB,cAAc;AAAA,IACvC;AAAA,EACF;AAEA,iBAAe,WAAW;AACxB,QAAI;AACF,YAAM,CAAC,kBAAkB,aAAa,IAAI,MAAM,QAAQ,IAAI;AAAA,QAC1D;AAAA,UACE,yBAAyB,mBAAmB,kBAAkB,EAAE,CAAC;AAAA,QAAA;AAAA,QAEnE;AAAA,UACE,0BAA0B,mBAAmB,kBAAkB,EAAE,CAAC;AAAA,QAAA;AAAA,MACpE,CACD;AAED,YAAM,eAAe,MAAM,iBAAiB,KAAA;AAC5C,YAAM,YAAY,MAAM,cAAc,KAAA;AAEtC,YAAM,eAAe,UAAU,SAAS,CAAA;AACxC,YAAM,mBAAmB,aAAa,SAAS,CAAA;AAC/C,YAAM,uBAAuB,iBAAiB;AAAA,QAC5C,CAAC,SAAc,CAAC,uBAAuB,IAAI;AAAA,MAAA;AAE7C,YAAM,gBAAgB,iBAAiB,SAAS,qBAAqB;AACrE,YAAM,YAAY,CAAC,GAAG,cAAc,GAAG,oBAAoB,EAAE;AAAA,QAC3D,CAAC,GAAG,MAAM;AACR,gBAAM,OAAO,IAAI,KAAK,EAAE,cAAc,CAAC,EAAE,QAAA;AACzC,gBAAM,QAAQ,IAAI,KAAK,EAAE,cAAc,CAAC,EAAE,QAAA;AAC1C,iBAAO,QAAQ;AAAA,QACjB;AAAA,MAAA;AAEF,YAAM,eAAe,gBAAgB,SAAS;AAC9C,YAAM,cAAc,sBAAA;AAEpB,YAAM,YAAY,qBAAqB,YAAY;AACnD,YAAM,UAAU,cAAc;AAC9B,0BAAoB;AAEpB,UAAI,UAAU;AACZ,iBAAS,cAAc,GAAG,aAAa,MAAM,SAAS,WAAW,GAC/D,gBAAgB,QAAQ,gBAAgB,2BAA2B,EACrE;AAAA,MACF;AACA,UAAI,SAAS;AACX,mBAAW,YAAY;AAAA,MACzB;AACA,UAAI,eAAe;AACjB,sBAAc,YACZ,uCAAsC,oBAAI,KAAA,GAAO,mBAAA;AAAA,MACrD;AAAA,IACF,QAAQ;AACN,UAAI,eAAe;AACjB,sBAAc,YAAY;AAAA,MAC5B;AAAA,IACF;AAAA,EACF;AAEA,iBAAe,aAAa;AAC1B,QAAI,kBAAkB;AAEpB;AAAA,IACF;AACA,QAAI;AACF,YAAM,OAAO,MAAM,MAAM,aAAa;AACtC,UAAI,CAAC,KAAK,GAAI;AACd,YAAM,UAAU,MAAM,KAAK,KAAA;AAC3B,wBAAkB,QAAQ,YAAY,CAAA,GAAI,QAAQ,UAAU,EAAE;AAC9D,iCAA2B,QAAQ,UAAU,EAAE;AAAA,IACjD,QAAQ;AAAA,IAER;AAAA,EACF;AAEA,iBAAe,iBAAiB;AAC9B,QAAI;AACF,YAAM,OAAO,sBAAA;AACb,YAAM,YAAY,OAAO,0BAA0B;AACnD,YAAM,OAAO,MAAM,MAAM,mBAAmB,SAAS,EAAE;AACvD,UAAI,CAAC,KAAK,GAAI;AACd,YAAM,UAAU,MAAM,KAAK,KAAA;AAC3B,uBAAiB,QAAQ,UAAU;AACnC,sBAAgB,QAAQ,SAAS,CAAA;AACjC,yBAAmB,QAAQ,YAAY,CAAA;AACvC,uBAAiB,cAAc;AAC/B,sBAAgB,aAAa;AAC7B,yBAAmB,gBAAgB;AACnC,UAAI,UAAU;AACZ,cAAM,QACJ,iDAAgB,kBAAgB,iDAAgB,qBAAoB;AACtE,iBAAS,cAAc,OACnB,cAAc,gBAAgB,IAAI,CAAC,KACnC;AAAA,MACN;AACA,uBAAiB;AAAA,QACf,SAAQ,iDAAgB,iBAAgB;AAAA,QACxC,UAAS,iDAAgB,kBAAiB,UAAU,iBAAiB;AAAA,MAAA,CACtE;AAAA,IACH,QAAQ;AACN,UAAI,mBAAmB,cAAc;AAAA,IACvC;AAAA,EACF;AAEA,iBAAe,cAAc;AAC3B,QAAI;AACF,YAAM,OAAO,sBAAA;AACb,YAAM,YAAY,OAAO,0BAA0B;AACnD,YAAM,OAAO,MAAM,MAAM,oBAAoB,SAAS,EAAE;AACxD,UAAI,CAAC,KAAK,GAAI;AACd,YAAM,UAAU,MAAM,KAAK,KAAA;AAC3B,0BAAoB,WAAW;AAC/B,oBAAc,WAAW,IAAI;AAAA,IAC/B,QAAQ;AACN,oBAAc,IAAI;AAAA,IACpB;AAAA,EACF;AAEA,iBAAe,eAAe;AAC5B,QAAI;AACF,YAAM,OAAO,MAAM,MAAM,eAAe;AACxC,UAAI,CAAC,KAAK,GAAI;AACd,YAAM,UAAU,MAAM,KAAK,KAAA;AAC3B,YAAM,WAAW,QAAQ,YAAY,CAAA;AACrC,UAAI,CAAC,cAAe;AACpB,oBAAc,cAAc;AAC5B,YAAM,YAAY;AAAA,QAChB;AAAA,QACA;AAAA,QACA;AAAA,MAAA;AAEF,gBAAU,QAAQ;AAClB,oBAAc,YAAY,SAAS;AACnC,eAAS,QAAQ,CAAC,YAAoB;AACpC,cAAM,SAAS;AAAA,UACb;AAAA,UACA;AAAA,UACA;AAAA,QAAA;AAEF,eAAO,QAAQ;AACf,sBAAc,YAAY,MAAM;AAAA,MAClC,CAAC;AAAA,IACH,QAAQ;AAAA,IAER;AAAA,EACF;AAEA,iDAAe,iBAAiB,UAAU,MAAM;AAC9C,qBAAiB,cAAc,SAAS;AACxC,YAAA;AAAA,EACF;AAEA,iBAAe,UAAU;AACvB,QAAI,iBAAiB;AACnB,sBAAgB;AAChB;AAAA,IACF;AACA,sBAAkB;AAClB,QAAI;AACF,YAAM,QAAQ,IAAI;AAAA,QAChB,UAAA;AAAA,QACA,SAAA;AAAA,QACA,WAAA;AAAA,QACA,eAAA;AAAA,MAAe,CAChB;AAED,UAAI,qBAAqB;AACvB,oBAAA;AAAA,MACF,OAAO;AACL,4BAAoB;AACpB,4BAAoB;AACpB,YAAI,YAAc,aAAoB,SAAS;AAAA,MACjD;AAAA,IACF,UAAA;AACE,wBAAkB;AAClB,UAAI,eAAe;AACjB,wBAAgB;AAChB,gBAAA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,eAAA;AACA,UAAA;AACA,eAAA;;"}