{"id":"codemem-838","title":"Establish plugin reliability baseline metrics gate","description":"Define and enforce baseline reliability metrics gate for plugin event processing and session integrity.","notes":"Success criteria: (1) Baseline metrics are documented with exact formulas and thresholds (event ingestion success rate, dropped-event rate, session boundary accuracy). (2) CI or pre-merge check fails when thresholds are violated. (3) A reproducible command/report shows current baseline values from a clean run.","status":"closed","priority":0,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T10:20:42Z","work_type":"mutex","dependency_count":0,"dependent_count":2,"comment_count":0}
{"id":"codemem-chf","title":"feat(mcp): add memory.explain for retrieval and pack rationale","description":"Add MCP tool memory_explain to expose per-memory retrieval rationale so clients can answer why an item was selected or injected.","acceptance_criteria":"Tool is registered and discoverable via MCP schema; response returns per-item rationale fields (retrieval source, score components, recency, kind bonus, project match) for deterministic seeded queries; missing IDs and out-of-scope project filters return graceful structured errors; deterministic integration test passes on seeded DB.","notes":"Likely files: codemem/mcp_server.py, codemem/store/search.py, optional codemem/store/packs.py. Test plan: MCP contract registration test in tests/test_contracts.py plus new tests/test_mcp_explain.py for payload shape and deterministic values.","status":"open","priority":1,"issue_type":"feature","owner":"kunickiaj@gmail.com","estimated_minutes":240,"created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","updated_at":"2026-03-02T02:20:11Z","labels":["audit","feature-gap","mcp"],"dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-de4","title":"feat(search): extend kind-aware scoring to all typed memory kinds","description":"Expand retrieval kind weighting so every allowed typed kind can participate in deterministic ranking bonuses instead of only legacy kinds.","acceptance_criteria":"Kind bonus mapping covers every value in ALLOWED_MEMORY_KINDS; missing or unknown kinds default safely to zero bonus; existing hybrid and baseline ranking tests continue to pass; seeded fixture test demonstrates deterministic ordering with new typed kinds.","notes":"Likely files: codemem/store/search.py and potentially codemem/memory_kinds.py if moving shared mapping. Test plan: targeted unit coverage in tests/test_store.py plus ranking regression checks in tests/test_hybrid_eval.py.","status":"open","priority":1,"issue_type":"feature","owner":"kunickiaj@gmail.com","estimated_minutes":120,"created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","updated_at":"2026-03-02T02:20:11Z","labels":["audit","feature-gap","search"],"dependency_count":0,"dependent_count":1,"comment_count":0}
{"id":"codemem-r91.7","title":"Implement event-driven trigger detector from generic tool streams","description":"Build trigger inference based on discrete tool events (especially bash command streams) using normalized command parsing and scoped matching instead of per-token prompt analysis.","acceptance_criteria":"- Trigger detector runs on discrete events only\\n- Generic trigger families mapped from command/event signals\\n- Duplicate-event cache and cooldown keys reduce repeated evaluations","status":"open","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:15:53Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:15:53Z","labels":["feature","lka","runtime","trigger-inference"],"dependencies":[{"issue_id":"codemem-r91.7","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:15:52Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.7","depends_on_id":"codemem-r91.1","type":"blocks","created_at":"2026-02-28T20:16:13Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.7","depends_on_id":"codemem-r91.5","type":"blocks","created_at":"2026-02-28T20:16:14Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":2,"dependent_count":1,"comment_count":0}
{"id":"codemem-r91.5","title":"Add LKA feature flags and runtime kill-switches","description":"Introduce configuration flags for procedure LKA modes and runtime controls so the feature can be safely enabled, compared, and disabled without code changes.","acceptance_criteria":"- Flags include procedure_lka_enabled and procedure_lka_mode (off|advisory|soft_gate)\\n- Runtime kill-switch and debug-perf toggle documented\\n- Default config keeps existing behavior unchanged","notes":"Implemented runtime controls in codemem/config.py and viewer config API: procedure_lka_enabled, procedure_lka_mode (off|advisory|soft_gate), procedure_lka_trigger_inference_enabled, procedure_lka_debug_perf. Added env overrides and validation/coercion. Added tests in tests/test_config.py covering defaults, file loading, env overrides, and invalid mode fallback. Updated RFC MVP section with these flags.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:15:52Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:23:33Z","closed_at":"2026-03-01T04:23:33Z","close_reason":"LKA feature flags and kill-switch settings added with config/env parsing, viewer config API support, and test coverage.","labels":["config","feature","lka","safety"],"dependencies":[{"issue_id":"codemem-r91.5","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:15:51Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":0,"dependent_count":2,"comment_count":0}
{"id":"codemem-r91.6","title":"Instrument plugin overhead and latency SLO metrics","description":"Measure plugin-added overhead for trigger inference and rule injection paths, with clear deltas for off/static/inferred modes.","acceptance_criteria":"- Metrics include detect_ms, lookup_ms, rank_ms, total_ms\\n- Mode comparison reports off vs static vs inferred overhead\\n- SLO thresholds defined and emitted in reports","notes":"Implemented LKA perf instrumentation and reporting: plugin emits lka_detect_ms/lka_rule_lookup_ms/lka_rank_ms/lka_total_ms with mode off|static|inferred; added codemem/lka_perf.py parser/aggregation/percentiles+SLO status; added lka-perf-report CLI command and tests. Addressed review findings by redacting query in inject.pack.error logs, removing stray DEBUG print, and handling UNKNOWN SLO explicitly. Reviewer re-checks found no blocking/high issues.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:15:52Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T05:00:16Z","closed_at":"2026-03-01T05:00:16Z","close_reason":"Plugin overhead instrumentation and mode-comparison reporting implemented with tests and reviewer approval.","labels":["lka","metrics","performance"],"dependencies":[{"issue_id":"codemem-r91.6","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:15:52Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.6","depends_on_id":"codemem-r91.5","type":"blocks","created_at":"2026-02-28T20:16:13Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":1,"dependent_count":1,"comment_count":0}
{"id":"codemem-r91.4","title":"Persist inferred rules and add review workflow","description":"Create storage model for inferred and accepted rules with TTL/decay metadata and a review loop to accept/reject/suppress proposed rules before runtime use.","acceptance_criteria":"- Persistent schema for rules + evidence + outcomes exists\\n- Manual review operations support accept/reject/suppress\\n- Only accepted rules are eligible for runtime injection","status":"in_progress","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:14:51Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T05:01:42Z","labels":["feature","lka","storage","workflow"],"dependencies":[{"issue_id":"codemem-r91.4","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:14:50Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.4","depends_on_id":"codemem-r91.3","type":"blocks","created_at":"2026-02-28T20:16:12Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":1,"dependent_count":2,"comment_count":0}
{"id":"codemem-r91.1","title":"Define trigger ontology and inferred-trigger schema","description":"Design a small project-agnostic trigger family set (for example before_state_change, risky_operation, quality_risk, artifact_drift, repeated_failure_loop) and rule schema including inferred trigger predicates, evidence, confidence, and enforcement suggestion.","acceptance_criteria":"- Trigger ontology documented with examples across at least 3 project types\\n- Rule JSON schema includes trigger_family + trigger_predicate + evidence + confidence + suggested_enforcement\\n- Review confirms no hardcoded repo-specific trigger dependence","notes":"Completed by extending docs/rfcs/procedure-lka-onepager.md with: (1) project-agnostic trigger ontology v1, (2) inferred trigger schema with evidence/confidence/enforcement fields, and (3) runtime trigger event schema. Includes guidance to infer project-specific predicates instead of hardcoding repo-specific triggers.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:14:50Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:20:18Z","closed_at":"2026-03-01T04:20:18Z","close_reason":"Trigger ontology and inferred-trigger schema documented in procedure-lka-onepager RFC with examples and JSON schemas.","labels":["design","lka","trigger-inference"],"dependencies":[{"issue_id":"codemem-r91.1","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:14:49Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":0,"dependent_count":2,"comment_count":0}
{"id":"codemem-r91.2","title":"Document #112 disposition and extract reusable pieces","description":"Record why PR #112 remains draft/superseded and list reusable components (metrics plumbing, toast cooldown patterns, cache/failure handling) for reuse in LKA MVP.","acceptance_criteria":"- RFC/notes include explicit keep vs discard list from #112\\n- PR #112 marked draft with superseded note\\n- Follow-up implementation references only approved reusable pieces","notes":"Captured explicit keep/discard decision for PR #112 in docs/rfcs/procedure-lka-onepager.md under 'Status of PR #112 (Exploratory Baseline)'. Documented reusable pieces (anti-spam, cache backoff, metrics) and non-carried-forward pieces (pack-only nudge mechanism, repo-specific trigger assumptions).","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:14:50Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:21:00Z","closed_at":"2026-03-01T04:21:00Z","close_reason":"PR #112 disposition and reusable component list documented in procedure-lka-onepager RFC.","labels":["lka","planning","pr-hygiene"],"dependencies":[{"issue_id":"codemem-r91.2","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:14:50Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":0,"dependent_count":1,"comment_count":0}
{"id":"codemem-r91.3","title":"Implement procedures derive command with inferred triggers","description":"Add manual invocation path to derive likely procedures from historical memories over a configurable time window and output rule, trigger, evidence, confidence, and suggested enforcement level.","acceptance_criteria":"- CLI/MCP derive command supports --days and --project filters\\n- Output includes inferred trigger fields and evidence memory IDs\\n- Results are deterministic for same input window and seed configuration","notes":"Implemented procedures derivation end-to-end (core derivation module, CLI command procedures-derive, MCP tool procedures_derive, and tests). Reviewer pass: no blocking/high severity issues. Non-blocking medium noted: scan_limit truncation should be exposed/observable in output in a follow-up.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:14:50Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:47:21Z","closed_at":"2026-03-01T04:47:21Z","close_reason":"Procedures derive command and MCP tool shipped with deterministic output and passing scoped validations; no blocking/high review issues.","labels":["cli","feature","lka","mcp"],"dependencies":[{"issue_id":"codemem-r91.3","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:14:50Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.3","depends_on_id":"codemem-r91.1","type":"blocks","created_at":"2026-02-28T20:16:11Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.3","depends_on_id":"codemem-r91.2","type":"blocks","created_at":"2026-02-28T20:16:12Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":2,"dependent_count":1,"comment_count":0}
{"id":"codemem-r91","title":"Procedure LKA: memory-informed rule inference and triggerable guidance","description":"Plan and deliver a project-agnostic Procedure LKA MVP where codemem infers likely procedural rules/triggers from history and skills/tooling enforce deterministic gates. Keep codemem as inference/ranking layer, not a full policy engine.","acceptance_criteria":"- Clear architecture split documented (codemem inference vs skills enforcement)\\n- MVP tasks and dependencies created\\n- Success metrics and ship/no-ship rubric defined","status":"open","priority":1,"issue_type":"epic","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:14:32Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:14:32Z","labels":["codemem","lka","planning"],"dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-2kn","title":"Viewer redesign: tabbed navigation + design token system + module split","description":"Redesign the codemem web viewer from a monolithic single-page scroll into a tabbed multi-view layout (Feed/Health/Sync). Restructure the 2441-line app.ts into modular TS files under viewer_ui/src/. Introduce a semantic CSS token system, replace Space Grotesk with Satoshi, consolidate dark mode CSS duplication, and apply visual hierarchy improvements. No backend changes needed.","status":"closed","priority":1,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-20T23:07:49Z","created_by":"Adam Kunicki","updated_at":"2026-02-20T23:18:59Z","closed_at":"2026-02-20T23:18:59Z","close_reason":"Implemented tabbed viewer redesign with module split, new CSS token system, and DM Sans typography","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-0tx","title":"Define sync health semantics for offline peers","description":"Lock state semantics for sync health: offline peers should not mark system unhealthy; distinguish offline, stale, degraded, and error states with precise acceptance criteria for backend and UI.","notes":"Delegation: TaskManager to finalize state taxonomy + acceptance criteria.\nExecution phase: 0 (spec baseline). Must define offline/degraded/error/stale taxonomy and acceptance table before semantic-sensitive backend edits.","status":"closed","priority":1,"issue_type":"task","assignee":"TaskManager","owner":"kunickiaj@gmail.com","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","updated_at":"2026-02-15T17:18:28Z","closed_at":"2026-02-15T17:18:28Z","work_type":"mutex","dependency_count":0,"dependent_count":1,"comment_count":0}
{"id":"codemem-3ev","title":"Add regression tests for offline/degraded/error sync states","description":"Add/adjust tests covering offline-only peers (healthy), live-peer failures (degraded), and daemon/runtime faults (error).","notes":"Delegation target: TestEngineer (regression coverage).\nExecution phase: 2 (parallel with codemem-431) after codemem-3ya.\nTest impacts identified in tests/test_sync_viewer_api.py: recent timeout + stale/offline peer assertion currently expects error; will need update/new coverage.","status":"closed","priority":1,"issue_type":"task","assignee":"TestEngineer","owner":"kunickiaj@gmail.com","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","updated_at":"2026-02-15T17:30:32Z","closed_at":"2026-02-15T17:30:32Z","dependencies":[{"issue_id":"codemem-3ev","depends_on_id":"codemem-3ya","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":1,"comment_count":0}
{"id":"codemem-3ya","title":"Reclassify offline peer failures in sync status backend","description":"Update sync status classification so all-peers-offline timeout/refused outcomes are informational/non-unhealthy while true daemon/runtime faults remain unhealthy.","notes":"Delegation target: CoderAgent (backend classification).\nExecution phase: 1. Begin codepath analysis now; hold final semantic mapping until codemem-0tx is finalized.\nCodepath analysis complete: unhealthy flip occurs in codemem/viewer_routes/sync.py latest_failed_recently branch; minimal fix point identified without schema changes.","status":"closed","priority":1,"issue_type":"task","assignee":"CoderAgent","owner":"kunickiaj@gmail.com","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","updated_at":"2026-02-15T17:30:32Z","closed_at":"2026-02-15T17:30:32Z","dependencies":[{"issue_id":"codemem-3ya","depends_on_id":"codemem-0tx","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":2,"comment_count":0}
{"id":"codemem-jdi","title":"PR #43: fallback-policy-off enforcement bug","notes":"Approved scope changed from policy gate to full CLI ingest removal from plugin (stream-only path only).","status":"closed","priority":1,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T15:15:53Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T15:53:29Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-r5u","title":"PR #42: stale-queue starvation bug","notes":"Scope: reproduce stale-queue starvation path, constrain queue drain/fairness logic for active PR #42, and add regression coverage to prevent starvation under sustained backlog.","status":"closed","priority":1,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T15:15:53Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T15:53:29Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-27s","title":"Implement idle-time capture worker from persisted events","description":"Implement a worker that processes persisted events during idle windows to complete deferred capture tasks.","notes":"Success criteria: (1) Worker only consumes persisted events and records checkpoints. (2) Idle-time runs are resumable after restart without data loss. (3) End-to-end test verifies backlog drains to zero.","status":"closed","priority":1,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T11:47:53Z","dependencies":[{"issue_id":"codemem-27s","depends_on_id":"codemem-bfe","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":2,"comment_count":0}
{"id":"codemem-4td","title":"Add hook lifecycle conformance tests for session boundaries","description":"Add automated conformance tests validating hook lifecycle behavior at session start/end boundaries.","notes":"Success criteria: (1) Tests cover normal start/stop, rapid restart, and interrupted session edge cases. (2) Expected boundary transitions are asserted explicitly. (3) Tests pass reliably in CI across at least two consecutive runs.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T10:20:42Z","dependencies":[{"issue_id":"codemem-4td","depends_on_id":"codemem-838","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":3,"comment_count":0}
{"id":"codemem-bfe","title":"Add durable post-tool processing queue with claim states","description":"Implement a durable post-tool event processing queue with explicit claim and completion states.","notes":"Success criteria: (1) Queue state model includes pending, claimed, completed, failed. (2) Claims are recoverable after process crash/restart. (3) No duplicate completion under concurrent workers in tests.","status":"closed","priority":1,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T11:22:49Z","dependencies":[{"issue_id":"codemem-bfe","depends_on_id":"codemem-ddd","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":3,"comment_count":0}
{"id":"codemem-ddd","title":"Unify raw-event handler ownership and responsibility boundaries","description":"Refactor raw-event handling so ownership and responsibilities are clearly defined and non-overlapping.","notes":"Success criteria: (1) Each raw-event path has a single owning component. (2) Responsibility boundaries are documented in code-level docs. (3) Duplicate/competing handlers are removed and regression tests remain green.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T10:49:48Z","dependencies":[{"issue_id":"codemem-ddd","depends_on_id":"codemem-4td","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":1,"comment_count":0}
{"id":"codemem-148","title":"Harden pidfile identity checks for codemem sync daemon","description":"Replace broad substring matching with explicit codemem sync-daemon identity rules (including wrapper-safe allowlist) before treating a PID as owned by codemem.","notes":"Implementation starting: tightening pidfile command identity checks and adding regression tests. PID command identity hardening PR opened.","status":"closed","priority":1,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T23:32:54Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T00:07:55Z","closed_at":"2026-02-12T00:07:55Z","dependencies":[{"issue_id":"codemem-148","depends_on_id":"codemem-4td","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":2,"comment_count":0}
{"id":"codemem-heu","title":"Post-rename repo URL and metadata sweep","description":"Update old repository URLs and badges across code, workflows, npm/PyPI metadata, and docs after GitHub repo rename.","notes":"Completed post-rename URL sweep in tracked source/docs. Updated old GitHub repo references to kunickiaj/codemem in README badges and install snippets, and updated plugin default uvx runner source in .opencode/plugin/opencode-mem.js. Updated local git origin to git@github.com:kunickiaj/codemem.git. Verified no remaining tracked references to kunickiaj/opencode-mem via grep scan.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T15:16:31Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T15:18:42Z","dependencies":[{"issue_id":"codemem-heu","depends_on_id":"codemem-7p1","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-6hq","title":"Unify npm and PyPI versioning policy for CodeMem","description":"Adopt a single semver stream across @kunickiaj/codemem and codemem Python releases and enforce compatibility checks.","notes":"Implemented shared-versioning scaffolding: added root npm package.json for @kunickiaj/codemem aligned to version 0.9.20, added docs/versioning.md policy (single semver stream across npm/PyPI), and added plugin runtime compatibility warning in .opencode/plugin/opencode-mem.js using OPENCODE_MEM_MIN_VERSION (default 0.9.20) with upgrade guidance. Added npm publish job to .github/workflows/release.yml and validated package contents via npm pack --dry-run.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T15:16:23Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T15:25:12Z","dependencies":[{"issue_id":"codemem-6hq","depends_on_id":"codemem-7p1","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-du6","title":"Set up PyPI Trusted Publisher for codemem releases","description":"Configure PyPI Trusted Publisher (OIDC) so GitHub Actions can publish codemem/codemem-core without API tokens.","notes":"Rename/distribution implementation is in PR #33 (https://github.com/kunickiaj/codemem/pull/33), including workflow_dispatch TestPyPI publish path and trusted publisher docs. Pending final close: successful publish verification run with codemem artifacts on TestPyPI/PyPI after merge.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T15:16:15Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T22:03:18Z","dependencies":[{"issue_id":"codemem-du6","depends_on_id":"codemem-7p1","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-z0g","title":"Define rename migration and compatibility plan","description":"Plan and execute migration from opencode-mem naming to the new brand/package names with backward compatibility.","notes":"Defined migration/compatibility plan in docs/rename-migration.md with canonical names (repo/npm/PyPI), two-release compatibility policy for opencode-mem command, plugin config migration examples, release-note communication template, and completion criteria. This establishes deprecation timeline and user-facing guidance for transition.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T14:11:27Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T15:26:02Z","dependencies":[{"issue_id":"codemem-z0g","depends_on_id":"codemem-7p1","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-4ry","title":"Publish npm package scaffold for plugin distribution","description":"Create and publish an npm package entrypoint for the OpenCode plugin so users can install via package name in opencode config.","notes":"Publish completed successfully from repo root: @kunickiaj/codemem@0.9.20 is now live on npm. Verified with npm view @kunickiaj/codemem version -\u003e 0.9.20.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T14:11:21Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T17:17:17Z","dependencies":[{"issue_id":"codemem-4ry","depends_on_id":"codemem-7p1","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-7p1","title":"Finalize product rename and reserve package names","description":"Choose canonical product/package names and reserve them across npm/PyPI/GitHub to avoid collisions and future squatting risk.","notes":"Name reservation completed across npm and PyPI. Claimed npm packages: codemem@0.1.0 and @kunickiaj/codemem@0.1.0. Claimed PyPI packages: codemem==0.0.1 (https://pypi.org/project/codemem/0.0.1/) and codemem-core==0.0.1 (https://pypi.org/project/codemem-core/0.0.1/). Next: implement real npm plugin scaffold and rename migration plan in dependent issues.","status":"closed","priority":1,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T14:11:12Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T15:16:48Z","work_type":"mutex","dependency_count":0,"dependent_count":5,"comment_count":0}
{"id":"codemem-8gh","title":"Write one-command install docs for CLI + plugin","description":"Provide copy-paste install paths that avoid manual repository setup for both CLI and plugin users.","notes":"Document recommended install commands, upgrade path, rollback, and troubleshooting once PyPI/npm distribution decisions are finalized. Depends on opencode-mem-vhy and downstream implementation issues.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T13:11:17Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T22:10:35Z","dependencies":[{"issue_id":"codemem-8gh","depends_on_id":"codemem-vhy","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-ec7","title":"Automate PyPI publishing for opencode-mem CLI","description":"Publish the Python package to PyPI from tagged releases so users can install without manual repo cloning.","notes":"Add/verify CI release job for PyPI publish (trusted publisher or token), define version/tag rules, test against TestPyPI first, and document install commands (uvx/pipx/pip). Depends on strategy issue opencode-mem-vhy.","status":"closed","priority":1,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T13:10:58Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T22:09:57Z","dependencies":[{"issue_id":"codemem-ec7","depends_on_id":"codemem-vhy","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-vhy","title":"Define distribution strategy for opencode-mem (PyPI and npm)","description":"Decide and document the supported distribution channels for opencode-mem, including Python CLI packaging (PyPI) and plugin packaging (npm) for minimal-friction installs.","notes":"Distribution strategy finalized: npm is primary installation front door for OpenCode plugin users (canonical package @kunickiaj/codemem, unscoped codemem reserved), Python CLI/runtime published on PyPI (codemem, codemem-core reserved). Keep Python core architecture; npm plugin performs runtime/version checks and provides guided bootstrap/upgrade messaging. Repo renamed to codemem and post-rename URL sweep completed.","status":"closed","priority":1,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T13:10:53Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T15:20:25Z","work_type":"mutex","dependency_count":0,"dependent_count":4,"comment_count":0}
{"id":"codemem-3rt","title":"[Audit] Harden missing-Origin handling for mutating viewer APIs","description":"Require explicit trusted Origin handling for state-changing viewer endpoints and reject unsafe missing-Origin cases in viewer.py and viewer_http.py. Keep behavior deterministic for browser and non-browser callers.","notes":"Hardened missing-Origin behavior for mutating sync routes in opencode_mem/viewer.py: POST/DELETE sync endpoints now require explicit Origin and reject when missing; non-sync POST paths use reject_if_unsafe policy to preserve non-browser raw-events ingest. Added tests for missing-Origin rejection on sync rename/delete in tests/test_sync_viewer_api.py plus missing-origin policy tests in tests/test_viewer_http.py. Validation command same as above (26 passed + ruff clean).","status":"closed","priority":1,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T12:08:42Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-5ej","title":"[Audit] Add body size limit for raw-events ingest endpoint","description":"Enforce a request body size cap on ingest routes in viewer_routes/raw_events.py to prevent oversized payload abuse and resource exhaustion. Wire limit handling through viewer.py with clear client errors.","notes":"Implemented OPENCODE_MEM_RAW_EVENTS_MAX_BODY_BYTES guard (default 1048576) in opencode_mem/viewer_routes/raw_events.py with 413 payload-too-large response before store init. Added tests/test_viewer_routes_raw_events.py for oversized rejection and within-limit acceptance; ensured viewer raw-events route still accepts normal POST without Origin via test_store.py::test_viewer_accepts_raw_events. Validation command same as above (26 passed + ruff clean).","status":"closed","priority":1,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T12:08:42Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-a7n","title":"[Audit] Fix spoofable origin validation in viewer cross-origin protection","description":"Strengthen origin checks in viewer_http.py so deceptive hostnames (for example localhost.evil) cannot bypass cross-origin protections, with strict host and scheme validation. Add regression coverage in tests/test_viewer_http.py.","notes":"Implemented strict parsed Origin validation in opencode_mem/viewer_http.py (no prefix matching), rejecting spoofed loopback origins like localhost.evil and malformed origins. Added regression coverage in tests/test_viewer_http.py and tests/test_sync_viewer_api.py for spoofed-loopback cases. Validation: uv run pytest tests/test_viewer_http.py tests/test_sync_viewer_api.py tests/test_viewer_routes_raw_events.py tests/test_store.py::test_viewer_accepts_raw_events (26 passed); uv run ruff check opencode_mem/viewer.py opencode_mem/viewer_http.py opencode_mem/viewer_routes/raw_events.py tests/test_viewer_http.py tests/test_sync_viewer_api.py tests/test_viewer_routes_raw_events.py (passed).","status":"closed","priority":1,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T12:08:42Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-mb0","title":"Fix pairing payload redaction hiding addresses needed for pairing","description":"Sensitive-info redaction in Web UI also redacts pairing payload addresses shown in code/copy command. This prevents successful pairing unless diagnostics redaction is disabled.","notes":"Expected: pairing copy command remains usable while still redacting truly sensitive fields. Investigate selective redaction for pairing payload fields.","status":"closed","priority":1,"issue_type":"bug","owner":"adam.kunicki@airbnb.com","created_at":"2026-02-09T22:31:01Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-09T23:38:30Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-10p","title":"Investigate 401 when fresh install pushes to peer machine","description":"Sync from reporter machine to coworker works, but coworker's fresh install gets HTTP 401 when pushing to reporter machine. Need reproducible steps and root-cause analysis.","notes":"Added 401 diagnostics in sync API responses. Unauthorized now returns JSON reason codes: missing_headers, unknown_peer, peer_record_incomplete, fingerprint_mismatch, signature_verification_error, invalid_signature, nonce_replay. Added tests in test_sync_auth for unknown_peer, nonce_replay, fingerprint_mismatch; sync auth/api/security suite passing. 401 reason-code diagnostics PR opened with sync-pass detail propagation.","status":"closed","priority":1,"issue_type":"bug","owner":"adam.kunicki@airbnb.com","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T00:07:55Z","closed_at":"2026-02-12T00:07:55Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-hu0","title":"Fix missing embeddings/tags in synced memories after include-filter sync","description":"Memories synced for included project (e.g., --include greenroom), but embeddings and tags were missing and required backfill.","notes":"Determine if sync payload omits fields, if this is expected behavior, and assess whether previously synced memories are affected.","status":"closed","priority":1,"issue_type":"bug","owner":"adam.kunicki@airbnb.com","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-09T23:54:41Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-53y","title":"feat(search): add bounded working-set signal to ranking","description":"Introduce optional working-set file/path hints into ranking so memories tied to currently edited files receive a bounded boost.","acceptance_criteria":"Search APIs accept optional working-set hints without changing results when unset; scoring applies a bounded overlap boost against memory file metadata and related text/tags; ranking shifts are measurable and deterministic in seeded tests; plugin passes hints from session modified files.","notes":"Likely files: codemem/store/search.py, codemem/store/packs.py, .opencode/plugin/codemem.js. Test plan: unit tests for overlap scoring and integration tests in tests/test_hybrid_eval.py for rank-shift expectations.","status":"open","priority":2,"issue_type":"feature","owner":"kunickiaj@gmail.com","estimated_minutes":240,"created_at":"2026-03-02T02:20:12Z","created_by":"Adam Kunicki","updated_at":"2026-03-02T02:20:12Z","labels":["audit","feature-gap","search"],"dependencies":[{"issue_id":"codemem-53y","depends_on_id":"codemem-de4","type":"blocks","created_at":"2026-03-01T18:20:37Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-51a","title":"feat(pack): emit delta metadata for successive injection packs","description":"Add pack-delta metadata so consecutive injections can show what changed between pack generations.","acceptance_criteria":"When prior pack state is available, pack metrics include added_ids removed_ids retained_ids and pack_token_delta; behavior is deterministic for unchanged packs and bounded when prior state is missing; plugin surfaces concise new/dropped counts without runtime failures.","notes":"Likely files: codemem/store/packs.py and .opencode/plugin/codemem.js. Test plan: pack delta unit tests in new pack-focused test module plus plugin toast formatting coverage in .opencode tests.","status":"open","priority":2,"issue_type":"feature","owner":"kunickiaj@gmail.com","estimated_minutes":180,"created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","updated_at":"2026-03-02T02:20:11Z","labels":["audit","feature-gap","pack"],"dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-o6v","title":"feat(mcp): add memory.expand helper for index-to-details workflow","description":"Add MCP tool memory_expand to reduce client orchestration overhead by expanding search IDs into timeline context and optional observation payloads.","acceptance_criteria":"Tool accepts ids plus depth_before/depth_after/include_observations/project options; response returns anchor items plus expanded timeline and optional observation details in a normalized structure; duplicate IDs are deduped and invalid IDs are reported non-fatally; project scoping matches existing MCP tools.","notes":"Likely files: codemem/mcp_server.py and store query helpers in codemem/store/search.py. Test plan: contract tests in tests/test_contracts.py and new tests/test_mcp_expand.py covering mixed valid/invalid IDs and project-scoped behavior.","status":"open","priority":2,"issue_type":"feature","owner":"kunickiaj@gmail.com","estimated_minutes":180,"created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","updated_at":"2026-03-02T02:20:11Z","labels":["audit","feature-gap","mcp"],"dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-r91.12","title":"Expose procedure derivation scan truncation metadata","description":"Avoid silent bias from derive scan_limit cap by surfacing truncation metadata (and/or configurable scan_limit) in CLI and MCP output.","acceptance_criteria":"- Derive output includes scan_limit and truncation indicator (or equivalent observability)\\n- CLI/MCP signatures document the behavior\\n- Tests cover truncated vs non-truncated cases","status":"open","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:47:35Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:47:35Z","labels":["followup","lka","quality"],"dependencies":[{"issue_id":"codemem-r91.12","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:47:35Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-r91.11","title":"Implement skills bridge for accepted procedure rules","description":"Map accepted codemem-derived procedure rules into deterministic skill/checklist inputs so enforcement remains explicit and codemem stays inference-first.","acceptance_criteria":"- Accepted rules can be exported/consumed by skill layer\\n- Enforcement mapping supports advisory and soft-gate in MVP\\n- Documentation clarifies codemem inference vs skills enforcement boundary","status":"open","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:16:00Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:16:00Z","labels":["integration","lka","skills"],"dependencies":[{"issue_id":"codemem-r91.11","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:16:00Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.11","depends_on_id":"codemem-r91.4","type":"blocks","created_at":"2026-02-28T20:16:15Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.11","depends_on_id":"codemem-r91.9","type":"blocks","created_at":"2026-02-28T20:16:15Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":2,"dependent_count":1,"comment_count":0}
{"id":"codemem-r91.10","title":"Add evaluation harness and ship/no-ship checkpoint","description":"Create evaluation pass comparing off/static/inferred modes and assess precision, missed-step reduction, fatigue, and latency before deciding to ship.","acceptance_criteria":"- Evaluation runbook exists with target thresholds\\n- Comparative metrics captured for off/static/inferred modes\\n- Explicit ship/no-ship decision issue is updated with results","status":"open","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:15:54Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:15:54Z","labels":["decision","evaluation","lka"],"dependencies":[{"issue_id":"codemem-r91.10","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:15:53Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.10","depends_on_id":"codemem-r91.11","type":"blocks","created_at":"2026-02-28T20:16:17Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.10","depends_on_id":"codemem-r91.6","type":"blocks","created_at":"2026-02-28T20:16:16Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.10","depends_on_id":"codemem-r91.8","type":"blocks","created_at":"2026-02-28T20:16:16Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":3,"dependent_count":0,"comment_count":0}
{"id":"codemem-r91.8","title":"Implement intervention policy and anti-spam controls","description":"Apply ranked rule hints at trigger time with advisory/soft-gate interventions and strict anti-spam controls (cooldowns, escalation-only warnings, top-k limits).","acceptance_criteria":"- Advisory and soft-gate paths implemented\\n- Cooldown and escalation behavior validated\\n- Intervention volume controls prevent repetitive toasts/reminders","status":"open","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:15:53Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:15:53Z","labels":["feature","lka","policy","ux"],"dependencies":[{"issue_id":"codemem-r91.8","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:15:53Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.8","depends_on_id":"codemem-r91.7","type":"blocks","created_at":"2026-02-28T20:16:14Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.8","depends_on_id":"codemem-r91.9","type":"blocks","created_at":"2026-02-28T20:16:14Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":2,"dependent_count":1,"comment_count":0}
{"id":"codemem-r91.9","title":"Build procedures review and promote workflow","description":"Provide manual workflow to inspect derived procedures and accept/reject/suppress them before runtime injection.","acceptance_criteria":"- Review command lists rule, trigger, evidence, confidence, enforcement suggestion\\n- Accept/reject/suppress actions persisted\\n- Runtime path uses accepted rules only","status":"open","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-03-01T04:15:53Z","created_by":"Adam Kunicki","updated_at":"2026-03-01T04:15:53Z","labels":["cli","feature","lka","workflow"],"dependencies":[{"issue_id":"codemem-r91.9","depends_on_id":"codemem-r91","type":"parent-child","created_at":"2026-02-28T20:15:53Z","created_by":"Adam Kunicki","metadata":"{}"},{"issue_id":"codemem-r91.9","depends_on_id":"codemem-r91.4","type":"blocks","created_at":"2026-02-28T20:16:12Z","created_by":"Adam Kunicki","metadata":"{}"}],"dependency_count":1,"dependent_count":2,"comment_count":0}
{"id":"codemem-om6","title":"Sync: skip offline peers when triggering manual sync","description":"When clicking 'Sync now' or when the daemon runs its periodic cycle, it attempts to sync with all configured peers including those known to be offline, which generates error log entries. Should detect peer online/offline state (likely from last ping status) and skip offline peers, or at minimum not log errors for expected-offline peers. Currently there is no specific online/offline state detection — we just try all peers unconditionally.","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-20T23:49:52Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T00:27:13Z","closed_at":"2026-02-21T00:27:13Z","close_reason":"PR #101 - exponential backoff for offline peers in daemon tick (2min→30min max)","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-x4l","title":"Raw event flush: handle expired/invalid OpenAI auth gracefully","description":"When the observer's OpenAI token expires (401 AuthenticationError), the raw-event queue worker retries repeatedly, spamming the viewer foreground log with stack traces. The flush should detect auth errors as non-retryable, log a clear warning once, and back off instead of retrying every tick. Currently the error path raises RuntimeError('observer failed during raw-event flush') which is caught but immediately retried on the next tick cycle.","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-20T23:28:13Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T00:22:28Z","closed_at":"2026-02-21T00:22:28Z","close_reason":"PR #100 - observer detects auth errors and sweeper backs off 5min instead of retrying every 30s tick","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-vgb","title":"Expand viewer color theme system with additional variants","notes":"Implement semantic theme tokens and add new viewer variants while preserving existing light/dark defaults. Add accessible theme switcher options and persistence. Run CodeReviewer + gordon-ramsay review before PR.","status":"closed","priority":2,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-16T08:25:43Z","created_by":"Adam Kunicki","updated_at":"2026-02-16T08:41:41Z","closed_at":"2026-02-16T08:41:41Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-431","title":"Expose offline-peer signal in sync status API","description":"Add/adjust API fields from sync status endpoint so UI can render offline peers as informational and avoid restart guidance for offline-only conditions.","notes":"Delegation target: CoderAgent (API shape/signal for offline peers).\nExecution phase: 2 (parallel with codemem-3ev) after codemem-3ya.\nImpacted payload fields confirmed: daemon_state and status.daemon_state in /api/sync/status.","status":"closed","priority":2,"issue_type":"task","assignee":"CoderAgent","owner":"kunickiaj@gmail.com","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","updated_at":"2026-02-15T17:30:32Z","closed_at":"2026-02-15T17:30:32Z","dependencies":[{"issue_id":"codemem-431","depends_on_id":"codemem-3ya","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":1,"comment_count":0}
{"id":"codemem-d76","title":"Validate sync health behavior end-to-end","description":"Run targeted tests and confirm UI/API behavior matches new semantics without regressing real error detection.","notes":"Delegation target: BuildAgent (validation run + report).\nExecution phase: 4 after codemem-lhk and codemem-3ev.","status":"closed","priority":2,"issue_type":"task","assignee":"BuildAgent","owner":"kunickiaj@gmail.com","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","updated_at":"2026-02-15T17:30:32Z","closed_at":"2026-02-15T17:30:32Z","dependencies":[{"issue_id":"codemem-d76","depends_on_id":"codemem-3ev","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"},{"issue_id":"codemem-d76","depends_on_id":"codemem-lhk","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":2,"dependent_count":0,"comment_count":0}
{"id":"codemem-lhk","title":"Update viewer health messaging for offline-only sync","description":"Adjust viewer health cards and sync panel copy/actions so offline-only peer state is not shown as unhealthy and does not recommend daemon restart.","notes":"Delegation target: CoderAgent (viewer messaging/actions).\nExecution phase: 3 after codemem-431.","status":"closed","priority":2,"issue_type":"task","assignee":"CoderAgent","owner":"kunickiaj@gmail.com","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","updated_at":"2026-02-15T17:30:32Z","closed_at":"2026-02-15T17:30:32Z","dependencies":[{"issue_id":"codemem-lhk","depends_on_id":"codemem-431","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":1,"comment_count":0}
{"id":"codemem-q8i","title":"Migration window: verify session_import_key adoption across active sync peers","description":"Track rollout for the new session_import_key replication field. Keep this open for the next few releases while mixed-version peers are expected. Close only after confirming active devices are on a version that sends session_import_key in memory_item payloads.","notes":"v0.13.0 is now released. Remaining exit criterion requires operational confirmation from active sync peers that inbound memory_item replication payloads include session_import_key. Keep this issue open until that field is observed across active devices for at least one full release window.","status":"open","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-14T15:28:46Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T03:43:17Z","work_type":"mutex","dependency_count":0,"dependent_count":1,"comment_count":0}
{"id":"codemem-cfo","title":"Remove legacy numeric replication session_id fallback after migration window","description":"After the session_import_key replication migration has been deployed for several releases, remove legacy fallback behavior that maps inbound memory payloads via numeric session_id. Keep this blocked until compatibility window is complete and all active peers are expected to send session_import_key.","status":"open","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-14T15:25:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-14T15:27:13Z","dependencies":[{"issue_id":"codemem-cfo","depends_on_id":"codemem-q8i","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-bd9","title":"Sync diagnostics shows stale peers as online","description":"Viewer sync diagnostics marks peers as Online based on stale last_sync/last_ping. When last successful contact is old and current sync attempts fail, top-level status still shows ok and peer chips remain Online, which is misleading. Add freshness/offline heuristic, recency thresholds, and status aggregation that reflects recent errors.","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-12T22:34:13Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T23:41:45Z","closed_at":"2026-02-12T23:41:45Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-98c","title":"Add CI smoke test for npm plugin install and OpenCode load","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-12T08:28:37Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T16:28:50Z","closed_at":"2026-02-12T16:28:50Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-xyv","title":"Enforce npm/PyPI version match in release workflow","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-12T08:28:37Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T09:05:02Z","closed_at":"2026-02-12T09:05:02Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-z2n","title":"Keep @opencode-ai/plugin dependency aligned between root and .opencode package.json","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-12T08:28:37Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T09:05:02Z","closed_at":"2026-02-12T09:05:02Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-8vz","title":"Improve plugin/CLI upgrade seamlessness when plugin updates first","description":"Improve resilience when the OpenCode plugin version is newer than the local codemem CLI. Scope: detect plugin/CLI version mismatch at runtime, surface actionable upgrade guidance with exact commands, and evaluate an optional safe auto-upgrade path for uv-based installs (explicit opt-in only).","acceptance_criteria":"1) Plugin reliably detects and reports CLI/plugin version mismatch with clear version details. 2) User sees actionable upgrade guidance tailored for common install modes, including uv tool installs. 3) Auto-upgrade path (if implemented) is opt-in, safe, and fails gracefully without blocking core plugin behavior. 4) Behavior is documented and covered by tests for mismatch and guidance paths.","notes":"Risks: false mismatch detection, unsafe or surprising auto-upgrade behavior, environment-specific install edge cases, and degraded UX if guidance is noisy or unclear.","status":"closed","priority":2,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T20:33:43Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T18:37:11Z","closed_at":"2026-02-12T18:37:11Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-w2f","title":"Enable plugin auto-start on launch and update migration docs","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T16:46:11Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T16:47:43Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-94g","title":"Add provider-loop integration tests across OpenAI and Anthropic adapters","description":"Add integration tests validating provider loop behavior across OpenAI and Anthropic adapter implementations.","notes":"Success criteria: (1) Same scenario suite runs against both adapters. (2) Tests assert equivalent lifecycle and retry semantics. (3) CI matrix reports pass/fail per adapter with no flaky retries needed.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T20:56:02Z","closed_at":"2026-02-12T20:56:02Z","dependencies":[{"issue_id":"codemem-94g","depends_on_id":"codemem-4td","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-c6p","title":"Introduce hybrid retrieval scoring behind feature flag","description":"Introduce hybrid retrieval scoring controlled by a feature flag for safe rollout and comparison.","notes":"Success criteria: (1) Feature flag toggles hybrid scoring at runtime. (2) Disabled mode preserves existing ranking behavior exactly. (3) Evaluation script reports measurable precision/recall delta when enabled.","status":"closed","priority":2,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T20:56:02Z","closed_at":"2026-02-12T20:56:02Z","dependencies":[{"issue_id":"codemem-c6p","depends_on_id":"codemem-838","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-dte","title":"Add prompt-memory linkage fields and timeline API exposure","description":"Add schema fields linking prompts to memories and expose linkage through timeline APIs.","notes":"Success criteria: (1) Schema migration adds linkage fields without breaking existing records. (2) Timeline API returns linkage fields in documented responses. (3) Query tests validate forward and reverse linkage lookup.","status":"closed","priority":2,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T00:07:55Z","closed_at":"2026-02-12T00:07:55Z","dependencies":[{"issue_id":"codemem-dte","depends_on_id":"codemem-27s","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-ehp","title":"Define stream-only reliability contract and fallback behavior","description":"Define reliability contract for stream-only mode and specify fallback behavior for degraded conditions.","notes":"Success criteria: (1) Contract defines guarantees, non-goals, and failure semantics. (2) Fallback triggers and actions are explicit and testable. (3) Runtime behavior matches documented contract in validation tests.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-11T13:26:23Z","dependencies":[{"issue_id":"codemem-ehp","depends_on_id":"codemem-bfe","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-1b3","title":"Add end-to-end runtime test for pid identity and stop flow","description":"Add an integration-style test that exercises real process command detection and verifies status/stop behavior with valid and invalid PID ownership.","notes":"Acceptance: (1) test covers owned-process stop path, (2) test covers non-owned PID no-kill path, (3) test is stable in CI and not purely monkeypatched internals.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T23:32:54Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T08:23:20Z","closed_at":"2026-02-12T08:23:20Z","dependencies":[{"issue_id":"codemem-1b3","depends_on_id":"codemem-148","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-23r","title":"Make no-ps pid verification behavior explicit in sync status/stop","description":"When process identity cannot be verified because ps is unavailable, return explicit diagnostics and guidance instead of ambiguous pidfile-cleared behavior.","notes":"Acceptance: (1) sync status surfaces a clear unverified-pid reason, (2) sync stop reports why PID was not signaled, (3) tests cover missing-ps path and user-visible output.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T23:32:54Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T07:51:23Z","closed_at":"2026-02-12T07:51:23Z","dependencies":[{"issue_id":"codemem-23r","depends_on_id":"codemem-148","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-jhl","title":"Demote git-based uvx install to fallback docs","description":"Move git+uvx install instructions out of primary onboarding and treat them as developer/advanced fallback once npm and PyPI distribution are fully live.","notes":"Deliverables: docs IA update, primary install paths use registry packages, retain git-based uvx only in fallback section with troubleshooting context.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T15:20:07Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T22:10:38Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-4j1","title":"Validate opencode.jsonc plugin install-from-npm flow","description":"Confirm whether opencode.jsonc supports plugin resolution by npm package name and capture the exact supported configuration format.","notes":"Build a minimal reproducible config, verify install/update behavior, and document constraints/fallbacks if npm-name install is unsupported. Depends on strategy issue opencode-mem-vhy.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T13:11:11Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T22:51:11Z","dependencies":[{"issue_id":"codemem-4j1","depends_on_id":"codemem-vhy","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-lb7","title":"Package and publish OpenCode plugin to npm","description":"Publish the OpenCode plugin as an npm package so plugin installs can use package names rather than local file paths.","notes":"Define npm package structure for .opencode/plugin/opencode-mem.js, versioning policy, release automation, and semver compatibility guarantees. Depends on strategy issue opencode-mem-vhy.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T13:11:05Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T08:28:32Z","closed_at":"2026-02-12T08:28:32Z","dependencies":[{"issue_id":"codemem-lb7","depends_on_id":"codemem-vhy","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-2oh","title":"[Audit] Add viewer origin spoofing tests for localhost.evil cases","description":"Add focused regression tests in tests/test_viewer_http.py for localhost.evil and related origin-spoofing patterns. Validate hardened checks in viewer_http.py.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T07:51:57Z","closed_at":"2026-02-12T07:51:57Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-3qz","title":"[Audit] Add robust exception handling for /v1/ops GET handler","description":"Add defensive exception handling in sync_api.py for the /v1/ops GET path so unexpected errors return safe responses and useful diagnostics. Avoid leaking internals to clients.","notes":"Added defensive exception envelope for GET /v1/ops in opencode_mem/sync_api.py: unexpected runtime errors now return JSON {error: internal_error} with 500 while still closing store handles in finally. Added regression test tests/test_sync_api.py::test_sync_ops_get_returns_internal_error_on_unexpected_exception by monkeypatching load_replication_ops_since to raise. Validation: uv run pytest tests/test_sync_api.py tests/test_sync_api_security.py (7 passed); uv run ruff check opencode_mem/sync_api.py tests/test_sync_api.py (passed).","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T12:14:20Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-b6b","title":"[Audit] Reduce schema-write work in MemoryStore open path","description":"Reduce unnecessary schema-write activity during store initialization in store/_store.py and db.py to lower startup overhead. Keep migration correctness while minimizing write churn.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T22:43:17Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-pkw","title":"[Audit] Add invalid-limit API tests for /api/sync/attempts","description":"Expand tests/test_sync_viewer_api.py with invalid, negative, and oversized limit cases for /api/sync/attempts. Confirm viewer_routes/sync.py returns stable validation errors.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T07:40:41Z","closed_at":"2026-02-12T07:40:41Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-5jp","title":"[Audit] Make install_autostart_quiet report subprocess failures truthfully","description":"Fix commands/sync_service_cmds.py so install_autostart_quiet returns accurate failure status when subprocess calls fail. Ensure logging and return values match actual execution outcomes.","notes":"Fixed truthful failure reporting in install_autostart_quiet and quiet service actions. Added _run_subprocess_quiet helper in opencode_mem/commands/sync_service_cmds.py; install_autostart_quiet now returns False when launchctl/systemctl subprocess steps fail instead of always returning True. Added tests/test_sync_service_cmds.py covering linux success and subprocess-failure paths. Validation: uv run pytest tests/test_sync_service_cmds.py tests/test_sync_cli.py -k \"sync_enable or install_autostart_quiet\" (6 passed); uv run ruff check opencode_mem/commands/sync_service_cmds.py tests/test_sync_service_cmds.py (passed).","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T15:27:40Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-5wj","title":"[Audit] Protect pidfile stop from killing unrelated processes","description":"Harden process identity checks in sync_runtime.py before sending termination signals from pidfile-based stop logic. Avoid killing unrelated processes when PID reuse occurs.","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T22:19:35Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-5zx","title":"[Audit] Ensure plugin_ingest closes store on exceptions","description":"Ensure plugin_ingest.py closes MemoryStore resources on all exception paths to avoid locked DB handles and leaked connections. Verify cleanup behavior around error boundaries.","notes":"Wrapped ingest pipeline in opencode_mem/plugin_ingest.py with try/finally to guarantee MemoryStore.close() on success, early return, and exceptions. Removed ad-hoc close-only-on-happy-path behavior. Added regression test tests/test_plugin_ingest.py::test_ingest_closes_store_on_observer_exception to assert store close executes when observer raises. Validation: uv run pytest tests/test_plugin_ingest.py (11 passed); uv run ruff check opencode_mem/plugin_ingest.py tests/test_plugin_ingest.py (passed).","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T16:11:29Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-agv","title":"[Audit] Harden ingest arg-shape validation in event_to_tool_event","description":"Tighten input shape validation in ingest/events.py for event_to_tool_event so malformed arg payloads are rejected predictably. Preserve robust parsing for valid historical event variants.","notes":"Hardened opencode_mem/ingest/events.py event_to_tool_event arg handling: args now accepted only when dict; non-dict args are coerced to {} so args.get('cwd') cannot crash. Added tests/test_ingest_events.py covering non-dict args safety and dict-cwd behavior. Validation: uv run pytest tests/test_ingest_events.py tests/test_ingest_tool_events.py (9 passed); uv run ruff check opencode_mem/ingest/events.py tests/test_ingest_events.py (passed).","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T12:12:39Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-azy","title":"[Audit] Ensure sync HTTP client always closes connection on failure","description":"Guarantee response/connection cleanup in sync/http_client.py when request setup, read, or decode paths fail. Prevent leaked sockets across retry and error paths.","notes":"Updated opencode_mem/sync/http_client.py so request_json always closes HTTP(S) connections via try/finally, including request/getresponse/read failure paths. Added tests/test_sync_http_client.py to assert close() is called when request() raises and when response.read() raises. Validation: uv run pytest tests/test_sync_http_client.py tests/test_sync_daemon.py -k \"request_json or sync_once\" (8 passed); uv run ruff check opencode_mem/sync/http_client.py tests/test_sync_http_client.py (passed).","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T12:11:32Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-juh","title":"[Audit] Validate /api/sync/attempts limit parsing","description":"Harden query parsing in viewer_routes/sync.py so invalid or extreme limit values are rejected safely before database access. Add coverage in tests/test_sync_viewer_api.py for malformed limits.","notes":"Updated /api/sync/attempts limit parsing in opencode_mem/viewer_routes/sync.py: invalid/non-int and non-positive limits now return 400 {error: invalid_limit}; very large limits are clamped to 500. Added tests in tests/test_sync_viewer_api.py for invalid limit rejection and high-limit clamping. Validation: uv run pytest tests/test_sync_viewer_api.py -k \"sync_attempts or sync_rejects_spoofed_loopback_origin or missing_origin\" (5 passed); uv run ruff check opencode_mem/viewer_routes/sync.py tests/test_sync_viewer_api.py (passed).","status":"closed","priority":2,"issue_type":"bug","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T12:10:38Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-ba2","title":"Fix sync deadlock when project include filters skip first page","description":"When project include/exclude filters are active, the sync API can return ops=[] for a page where every candidate op is filtered out. In that case the client cannot advance last_applied_cursor, so repeated sync passes can deadlock on the same window. Expected: server should return a next_cursor that advances past the scanned window (even if all ops were skipped), so clients can progress until they reach allowed ops.","status":"closed","priority":2,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T00:15:20Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-10T00:17:03Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-1yg","title":"Clarify pairing accept-filter semantics in CLI and GUI","description":"Make directional behavior explicit: accept filters limit what is pushed from local machine to others.","notes":"Clarified pairing filter directionality in CLI and GUI text: filters on --accept are outbound-only from the accepting device. Explicitly note incoming receiver-side project filtering is not yet enforced. Updated sync pair help text, pairing hint payload/UI strings, and tests (sync CLI + sync viewer API). Focused tests passed: uv run pytest tests/test_sync_cli.py -k sync_pair; uv run pytest tests/test_sync_viewer_api.py::test_sync_pairing_payload.","status":"closed","priority":2,"issue_type":"feature","owner":"adam.kunicki@airbnb.com","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-09T23:38:30Z","work_type":"mutex","dependency_count":0,"dependent_count":1,"comment_count":0}
{"id":"codemem-4gh","title":"Improve CLI pairing output for concise copy/paste across shells","description":"Current pairing command output is redundant and not copy/paste friendly.","notes":"Ensure generated commands are concise and shell-compatible (fish and zsh at minimum).","status":"closed","priority":2,"issue_type":"feature","owner":"adam.kunicki@airbnb.com","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-09T23:47:00Z","dependencies":[{"issue_id":"codemem-4gh","depends_on_id":"codemem-1yg","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":1,"dependent_count":0,"comment_count":0}
{"id":"codemem-qr1","title":"Include VPN interfaces (utun*) in pairing IP discovery","description":"Pairing command detects LAN and Tailscale IPs, but misses work VPN interface IP (utun4), making coworker pairing harder.","notes":"Implemented VPN-aware pairing IP discovery: added interface-based IPv4 candidates with allow/block interface prefix filters (includes utun/tun/tap/wg while excluding loopback/docker/awdl). Preserved auto ordering (LAN first, Tailscale fallback). Added tests in tests/test_net.py for interface filtering and host selection. Verified with: uv run pytest tests/test_net.py and uv run pytest tests/test_sync_cli.py -k pair (all passing).","status":"closed","priority":2,"issue_type":"bug","owner":"adam.kunicki@airbnb.com","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","updated_at":"2026-02-11T20:41:37Z","closed_at":"2026-02-09T23:38:30Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-xo9","title":"spike(integrations): design first-class bash/zsh/fish integration path","description":"Run a discovery spike for non-OpenCode shell integration, defining install model, hooks, safety constraints, and phased implementation plan before shipping code.","acceptance_criteria":"Deliver design doc with shell-specific hook approach for bash zsh fish, failure-mode and startup-latency analysis, idempotent install/uninstall contract, and minimum viable rollout plan; include recommendation whether to proceed to implementation and what to defer.","notes":"Expected outputs: docs/rfcs or docs/design note plus concrete follow-up beads if approved. Include test strategy for snippet generation and temp-dotfile smoke tests.","status":"open","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","estimated_minutes":180,"created_at":"2026-03-02T02:20:12Z","created_by":"Adam Kunicki","updated_at":"2026-03-02T02:20:12Z","labels":["audit","feature-gap","integrations","spike"],"dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-7r2","title":"Health tab: make sync-stale recommendation actionable with button","description":"When the health tab shows 'Sync is stale. Run one immediate sync pass.' with a copy command, replace or augment with an actionable button that triggers sync directly (like the existing Sync Now button on the sync tab).","status":"closed","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-20T23:27:25Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T00:38:23Z","closed_at":"2026-02-21T00:38:23Z","close_reason":"PR #102 (stacked on #99) - actionable Sync Now buttons in health tab recommendations","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-b0j","title":"Feed tab: infinite scroll with API pagination","description":"Add cursor/offset pagination to /api/observations and /api/summaries endpoints, then implement infinite scroll in the feed tab to load more items as the user scrolls down. Currently the feed shows ~70 fixed items (20 obs + 50 summaries).","status":"closed","priority":3,"issue_type":"feature","owner":"kunickiaj@gmail.com","created_at":"2026-02-20T23:27:22Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T03:42:31Z","closed_at":"2026-02-21T03:42:31Z","close_reason":"Added offset pagination to /api/observations and /api/summaries with pagination metadata, updated feed API client and tab logic for infinite scroll auto-loading, added backend pagination tests, and rebuilt viewer bundle.","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-8yb","title":"Harden viewer rendering and dialog accessibility","notes":"Address final viewer polish for release: unify System health card styling with section cards, drop subtle light-warm duplicate theme, and add a new dark purple/lavender variant inspired by TuneMyMusic while keeping accessibility and professionalism.","status":"closed","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-16T08:41:37Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T23:03:06Z","closed_at":"2026-02-21T23:03:06Z","close_reason":"Completed viewer polish and accessibility hardening: added dark lavender theme variant, preserved single light theme path, and improved settings dialog accessibility (described dialog semantics, keyboard focus trap, and focus restoration).","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-skq","title":"Harden project label normalization for Windows-style paths","description":"Improve _normalize_project_label in plugin ingest to handle Windows-style paths deterministically on non-Windows runtimes (e.g., PureWindowsPath when backslashes or drive-letter prefixes are detected). Add focused unit tests for mixed-platform path strings and document expected normalization behavior.","status":"closed","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-15T19:51:56Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T03:37:09Z","closed_at":"2026-02-21T03:37:09Z","close_reason":"Implemented deterministic Windows-style project label normalization in plugin ingest, added focused mixed-platform unit tests, and documented normalization behavior in plugin reference.","labels":["cross-platform","ingest","project-resolution"],"work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-j2j","title":"Add ops metrics panel and align docs with runtime hook behavior","description":"Add an operations metrics panel and align public docs with observed runtime hook behavior.","design":"Incremental plan only (no implementation yet).\\n\\nScope:\\n- Build an explicit Ops Metrics presentation in the existing viewer Stats area using current APIs only (no new backend route initially): /api/stats, /api/usage, /api/raw-events, /api/sync/status.\\n- Keep documentation aligned to actual runtime hook behavior and failure semantics.\\n\\nPR stack plan:\\n1) j2j-a (UI/observability):\\n   - Refine Stats panel into explicit ops-oriented cards.\\n   - Add clear units on labels/tooltips (tokens, %, counts, time).\\n   - Add timestamp context (last refresh + sync-derived timestamps where available).\\n   - Ensure project-filter behavior is explicit for filtered vs global values.\\n   - Preserve mobile/desktop readability and existing visual language.\\n2) j2j-b (docs alignment):\\n   - Finalize README.md, docs/architecture.md, docs/plugin-reference.md, docs/user-guide.md updates.\\n   - Match docs wording with final UI card labels and API payload semantics exactly.\\n\\nAcceptance checks:\\n- Reviewer can map each card to one reproducible field from API/CLI outputs.\\n- No new server endpoint required in initial pass.\\n- Existing sync diagnostics/status behavior remains intact.\\n- Tests/lint pass for touched areas.\\n\\nOut of scope for this pass:\\n- New /api/ops aggregation endpoint.\\n- Large dashboard redesign beyond metrics clarity.","notes":"Split work into PRs: #75 (viewer UX/sync health state clarity + tests) and #76 (runtime hook + sync reliability docs wording).","status":"closed","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","updated_at":"2026-02-21T23:03:13Z","closed_at":"2026-02-21T23:03:13Z","close_reason":"Scope completed via merged PRs #75 and #76: ops metrics surfaced in viewer health/stats UX and public docs aligned with runtime hook behavior and sync reliability semantics.","dependencies":[{"issue_id":"codemem-j2j","depends_on_id":"codemem-27s","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"},{"issue_id":"codemem-j2j","depends_on_id":"codemem-bfe","type":"blocks","created_at":"2026-02-16T11:27:27Z","created_by":"import","metadata":"{}"}],"work_type":"mutex","dependency_count":2,"dependent_count":0,"comment_count":0}
{"id":"codemem-0uu","title":"Support JSONC config files","description":"Allow codemem config parsing from JSONC (comments/trailing commas) while keeping strict JSON compatibility.","notes":"Scope as follow-up: parser update, tests for comments/trailing commas, docs update for config filename and behavior.","status":"closed","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T19:31:16Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T22:11:00Z","closed_at":"2026-02-12T22:11:00Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-j5r","title":"[Audit] Improve per-address sync failure diagnostics","description":"Improve error attribution in sync/sync_pass.py so failures are reported per remote address with actionable context. Use sync/http_client.py signal details to aid triage.","status":"closed","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T22:54:06Z","closed_at":"2026-02-12T22:54:06Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
{"id":"codemem-ugs","title":"[Audit] Add tests for autostart failure reporting and pidfile safety","description":"Add tests covering subprocess failure truthfulness in commands/sync_service_cmds.py and PID reuse safety in sync_runtime.py. Validate guardrails around autostart and stop behavior.","status":"closed","priority":3,"issue_type":"task","owner":"kunickiaj@gmail.com","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","updated_at":"2026-02-12T22:54:06Z","closed_at":"2026-02-12T22:54:06Z","work_type":"mutex","dependency_count":0,"dependent_count":0,"comment_count":0}
