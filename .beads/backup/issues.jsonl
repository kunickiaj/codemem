{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"TaskManager","await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-15T17:18:28Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6b7b988823d4fbfc11ba13e323a22835f566ee83ec05bbe217f64d91fb4f7bdb","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Lock state semantics for sync health: offline peers should not mark system unhealthy; distinguish offline, stale, degraded, and error states with precise acceptance criteria for backend and UI.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-0tx","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Delegation: TaskManager to finalize state taxonomy + acceptance criteria.\nExecution phase: 0 (spec baseline). Must define offline/degraded/error/stale taxonomy and acceptance table before semantic-sensitive backend edits.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Define sync health semantics for offline peers","updated_at":"2026-02-15T17:18:28Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T22:11:00Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"938267a84a6dec0ff7d4dce565e51c1218ab9835f07e0bef36df1737e1b9cf53","created_at":"2026-02-10T19:31:16Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Allow codemem config parsing from JSONC (comments/trailing commas) while keeping strict JSON compatibility.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-0uu","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Scope as follow-up: parser update, tests for comments/trailing commas, docs update for config filename and behavior.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Support JSONC config files","updated_at":"2026-02-12T22:11:00Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T00:07:55Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a86c1cab70166808a4ac58af62172d2f4a62ddd8068a0e6c31388de964bed5ac","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Sync from reporter machine to coworker works, but coworker's fresh install gets HTTP 401 when pushing to reporter machine. Need reproducible steps and root-cause analysis.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-10p","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Added 401 diagnostics in sync API responses. Unauthorized now returns JSON reason codes: missing_headers, unknown_peer, peer_record_incomplete, fingerprint_mismatch, signature_verification_error, invalid_signature, nonce_replay. Added tests in test_sync_auth for unknown_peer, nonce_replay, fingerprint_mismatch; sync auth/api/security suite passing. 401 reason-code diagnostics PR opened with sync-pass detail propagation.","original_size":null,"owner":"adam.kunicki@airbnb.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Investigate 401 when fresh install pushes to peer machine","updated_at":"2026-02-12T00:07:55Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T00:07:55Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a210dc00a10b31da05c97e8177eaf78fce94f77ec19f2da3b34f7ef8866f7e7d","created_at":"2026-02-10T23:32:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Replace broad substring matching with explicit codemem sync-daemon identity rules (including wrapper-safe allowlist) before treating a PID as owned by codemem.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-148","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implementation starting: tightening pidfile command identity checks and adding regression tests. PID command identity hardening PR opened.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Harden pidfile identity checks for codemem sync daemon","updated_at":"2026-02-12T00:07:55Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T08:23:20Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"29acc9f603efbafa135046298376e4a1c5383928c7b6491780526ebc7cc0a21a","created_at":"2026-02-10T23:32:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add an integration-style test that exercises real process command detection and verifies status/stop behavior with valid and invalid PID ownership.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-1b3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Acceptance: (1) test covers owned-process stop path, (2) test covers non-owned PID no-kill path, (3) test is stable in CI and not purely monkeypatched internals.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add end-to-end runtime test for pid identity and stop flow","updated_at":"2026-02-12T08:23:20Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-09T23:38:30Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6346fa4edcae549eae32fb2b735e0ebec8f2efd4f595e90edb72f204d3443d2b","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Make directional behavior explicit: accept filters limit what is pushed from local machine to others.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-1yg","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Clarified pairing filter directionality in CLI and GUI text: filters on --accept are outbound-only from the accepting device. Explicitly note incoming receiver-side project filtering is not yet enforced. Updated sync pair help text, pairing hint payload/UI strings, and tests (sync CLI + sync viewer API). Focused tests passed: uv run pytest tests/test_sync_cli.py -k sync_pair; uv run pytest tests/test_sync_viewer_api.py::test_sync_pairing_payload.","original_size":null,"owner":"adam.kunicki@airbnb.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Clarify pairing accept-filter semantics in CLI and GUI","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T07:51:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"23035c7bf4f7f62f913ae842261fb0cd649524153cf4fce3ff7cabe36d8c8472","created_at":"2026-02-10T23:32:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"When process identity cannot be verified because ps is unavailable, return explicit diagnostics and guidance instead of ambiguous pidfile-cleared behavior.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-23r","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Acceptance: (1) sync status surfaces a clear unverified-pid reason, (2) sync stop reports why PID was not signaled, (3) tests cover missing-ps path and user-visible output.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Make no-ps pid verification behavior explicit in sync status/stop","updated_at":"2026-02-12T07:51:23Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T11:47:53Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"feea34bafa3259230c92a340acf8027cc1d5802caaf6ed223aabd8ccb0fbde4d","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Implement a worker that processes persisted events during idle windows to complete deferred capture tasks.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-27s","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Worker only consumes persisted events and records checkpoints. (2) Idle-time runs are resumable after restart without data loss. (3) End-to-end test verifies backlog drains to zero.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement idle-time capture worker from persisted events","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented tabbed viewer redesign with module split, new CSS token system, and DM Sans typography","closed_at":"2026-02-20T23:18:59Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"24ad192041458aac938667fe44ff542e0f4da39fe1affea324c89cac5331fbb8","created_at":"2026-02-20T23:07:49Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Redesign the codemem web viewer from a monolithic single-page scroll into a tabbed multi-view layout (Feed/Health/Sync). Restructure the 2441-line app.ts into modular TS files under viewer_ui/src/. Introduce a semantic CSS token system, replace Space Grotesk with Satoshi, consolidate dark mode CSS duplication, and apply visual hierarchy improvements. No backend changes needed.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-2kn","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Viewer redesign: tabbed navigation + design token system + module split","updated_at":"2026-02-20T23:18:59Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T07:51:57Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"09b10ff1699472c6df5c72c9f543c54495122e1dcd83982636e2602a0b86e5e6","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add focused regression tests in tests/test_viewer_http.py for localhost.evil and related origin-spoofing patterns. Validate hardened checks in viewer_http.py.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-2oh","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Add viewer origin spoofing tests for localhost.evil cases","updated_at":"2026-02-12T07:51:57Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"All child beads are linked under this epic; dependencies enforce safe implementation order; first implementation bead is claimed and moved to in_progress.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"31b0cf8bca50d025de27625815989616afe1c9b3db545ffdba8cbf3d55b9fc05","created_at":"2026-03-02T02:26:21Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Track implementation of validated gaps from docs/feature-gap-audit.md with clear sequencing, dependencies, and acceptance criteria.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-2wn","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"Source audit: docs/feature-gap-audit.md (commit 39d9dc91). Focus areas: MCP explainability/expand, ranking quality, pack deltas, and shell integration discovery.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Epic: implement feature-gap audit follow-ups","updated_at":"2026-03-02T02:26:21Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"TestEngineer","await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-15T17:30:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"61d9f7b2a6eb365bf62fc57f688391bc2428c38876cd0463523fe9fd47a34df5","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add/adjust tests covering offline-only peers (healthy), live-peer failures (degraded), and daemon/runtime faults (error).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-3ev","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Delegation target: TestEngineer (regression coverage).\nExecution phase: 2 (parallel with codemem-431) after codemem-3ya.\nTest impacts identified in tests/test_sync_viewer_api.py: recent timeout + stale/offline peer assertion currently expects error; will need update/new coverage.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add regression tests for offline/degraded/error sync states","updated_at":"2026-02-15T17:30:32Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T12:14:20Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"58e2900db73e419931c860af6912f6a858f5b872e7a7b5b97ceb8465928dcc46","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add defensive exception handling in sync_api.py for the /v1/ops GET path so unexpected errors return safe responses and useful diagnostics. Avoid leaking internals to clients.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-3qz","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Added defensive exception envelope for GET /v1/ops in opencode_mem/sync_api.py: unexpected runtime errors now return JSON {error: internal_error} with 500 while still closing store handles in finally. Added regression test tests/test_sync_api.py::test_sync_ops_get_returns_internal_error_on_unexpected_exception by monkeypatching load_replication_ops_since to raise. Validation: uv run pytest tests/test_sync_api.py tests/test_sync_api_security.py (7 passed); uv run ruff check opencode_mem/sync_api.py tests/test_sync_api.py (passed).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Add robust exception handling for /v1/ops GET handler","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T12:08:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fe46cc16f25859ceabde1e2acd4fb2a8007ad137c14998dde25057baec0385c3","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Require explicit trusted Origin handling for state-changing viewer endpoints and reject unsafe missing-Origin cases in viewer.py and viewer_http.py. Keep behavior deterministic for browser and non-browser callers.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-3rt","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Hardened missing-Origin behavior for mutating sync routes in opencode_mem/viewer.py: POST/DELETE sync endpoints now require explicit Origin and reject when missing; non-sync POST paths use reject_if_unsafe policy to preserve non-browser raw-events ingest. Added tests for missing-Origin rejection on sync rename/delete in tests/test_sync_viewer_api.py plus missing-origin policy tests in tests/test_viewer_http.py. Validation command same as above (26 passed + ruff clean).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Harden missing-Origin handling for mutating viewer APIs","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"CoderAgent","await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-15T17:30:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cf97364a4c096c06f8fba056d9b822c6af1daad0bf7f3745502fcbae61ab2252","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Update sync status classification so all-peers-offline timeout/refused outcomes are informational/non-unhealthy while true daemon/runtime faults remain unhealthy.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-3ya","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Delegation target: CoderAgent (backend classification).\nExecution phase: 1. Begin codepath analysis now; hold final semantic mapping until codemem-0tx is finalized.\nCodepath analysis complete: unhealthy flip occurs in codemem/viewer_routes/sync.py latest_failed_recently branch; minimal fix point identified without schema changes.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Reclassify offline peer failures in sync status backend","updated_at":"2026-02-15T17:30:32Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"CoderAgent","await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-15T17:30:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e6b41a43f4cecf8acd9401d16444a43a1e08ffa4746fb568971d0c73f4c362c7","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add/adjust API fields from sync status endpoint so UI can render offline peers as informational and avoid restart guidance for offline-only conditions.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-431","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Delegation target: CoderAgent (API shape/signal for offline peers).\nExecution phase: 2 (parallel with codemem-3ev) after codemem-3ya.\nImpacted payload fields confirmed: daemon_state and status.daemon_state in /api/sync/status.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Expose offline-peer signal in sync status API","updated_at":"2026-02-15T17:30:32Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-09T23:47:00Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4c899354fae5304e22b7ae79ae13af48e6db38bcb428c1c4ce40ed8498d37856","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Current pairing command output is redundant and not copy/paste friendly.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-4gh","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Ensure generated commands are concise and shell-compatible (fish and zsh at minimum).","original_size":null,"owner":"adam.kunicki@airbnb.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Improve CLI pairing output for concise copy/paste across shells","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T22:51:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"bc407bb1442ce65dff7119f0f5583ede061a32078989a6c208e848eb87bfcb6d","created_at":"2026-02-10T13:11:11Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Confirm whether opencode.jsonc supports plugin resolution by npm package name and capture the exact supported configuration format.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-4j1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Build a minimal reproducible config, verify install/update behavior, and document constraints/fallbacks if npm-name install is unsupported. Depends on strategy issue opencode-mem-vhy.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Validate opencode.jsonc plugin install-from-npm flow","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T17:17:17Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"cbc68a1db30ff8b7fc867735dcd0a8e48b7aef11af64117244748b879d706f90","created_at":"2026-02-10T14:11:21Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Create and publish an npm package entrypoint for the OpenCode plugin so users can install via package name in opencode config.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-4ry","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Publish completed successfully from repo root: @kunickiaj/codemem@0.9.20 is now live on npm. Verified with npm view @kunickiaj/codemem version -\u003e 0.9.20.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Publish npm package scaffold for plugin distribution","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T10:20:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4da0c49e2c6f7913f49effab9107d38211f0f0ac1365ba3d92a39991b2340af3","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add automated conformance tests validating hook lifecycle behavior at session start/end boundaries.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-4td","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Tests cover normal start/stop, rapid restart, and interrupted session edge cases. (2) Expected boundary transitions are asserted explicitly. (3) Tests pass reliably in CI across at least two consecutive runs.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add hook lifecycle conformance tests for session boundaries","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"When prior pack state is available, pack metrics include added_ids removed_ids retained_ids and pack_token_delta; behavior is deterministic for unchanged packs and bounded when prior state is missing; plugin surfaces concise new/dropped counts without runtime failures.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f28d604a4fee97a190ce43cd17802d44626b19061a9b45f7086af1f346fa5995","created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add pack-delta metadata so consecutive injections can show what changed between pack generations.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":180,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-51a","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: codemem/store/packs.py and .opencode/plugin/codemem.js. Test plan: pack delta unit tests in new pack-focused test module plus plugin toast formatting coverage in .opencode tests.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"epic(pack): delta metadata for successive injections","updated_at":"2026-03-02T02:35:27Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Delta contract documented in bead notes and reflected in tests; fallback path produces stable empty/zero values when no previous pack exists.","actor":"","agent_state":"","assignee":"Adam Kunicki","await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9f4bd588be5b5b739a733705fe3adacd1a20c97a8e93c622f4195e0b81ea8968","created_at":"2026-03-02T02:35:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Define deterministic delta fields (added_ids, removed_ids, retained_ids, pack_token_delta) and behavior when prior state is unavailable.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":90,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-51a.1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Touchpoints: codemem/store/packs.py metrics payload.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"in_progress","target":"","timeout_ns":0,"title":"task(pack): define pack delta model and fallback behavior","updated_at":"2026-03-02T05:39:17Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Metrics include added/removed/retained IDs and token delta when prior pack exists; unchanged packs yield zero/empty deltas; implementation is deterministic.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"bb41e2006b4ac63415f92149a1999baba4a6903f858ae206b02b02751aebc214","created_at":"2026-03-02T02:35:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Implement computation and emission of pack delta metadata for consecutive pack generations.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":120,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-51a.2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely file: codemem/store/packs.py","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"task(pack): implement successive-pack delta computation","updated_at":"2026-03-02T02:35:55Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Plugin displays added/removed summary when available and gracefully degrades when absent; no uncaught exceptions in hook paths.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"408ef9b68bfc4755465d5231b162145ea7849bee1055b224b109d06a80a46720","created_at":"2026-03-02T02:35:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Display concise pack delta counts in plugin notifications/logging without introducing runtime risk.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":90,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-51a.3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely file: .opencode/plugin/codemem.js","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"task(plugin): surface delta counts in injection UX","updated_at":"2026-03-02T02:35:55Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Store tests cover first-pack fallback, unchanged pack, and changed pack scenarios; plugin tests verify concise formatting and safe fallback behavior.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c6f9089e2dbad1f394d6e7e0dedafb5f82938fed880357f92ab1f85990366f77","created_at":"2026-03-02T02:35:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add deterministic tests for delta computation and plugin rendering behavior.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":120,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-51a.4","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: tests pack module and plugin tests","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"task(test): add pack delta unit and plugin formatting tests","updated_at":"2026-03-02T02:35:55Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Search APIs accept optional working-set hints without changing results when unset; scoring applies a bounded overlap boost against memory file metadata and related text/tags; ranking shifts are measurable and deterministic in seeded tests; plugin passes hints from session modified files.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"efcc6734740b313bd1f072bab6a8f85ec6a59343486c02d1337f9981e6332723","created_at":"2026-03-02T02:20:12Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Introduce optional working-set file/path hints into ranking so memories tied to currently edited files receive a bounded boost.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":240,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-53y","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: codemem/store/search.py, codemem/store/packs.py, .opencode/plugin/codemem.js. Test plan: unit tests for overlap scoring and integration tests in tests/test_hybrid_eval.py for rank-shift expectations.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"epic(search): bounded working-set ranking signal","updated_at":"2026-03-02T02:35:27Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Input contract specifies accepted fields, limits, and default behavior when unset; invalid hints are ignored safely; no ranking change when hints absent.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1939d16bf73ac760f54770a0805830d99ff6347c07d193558605d72b12b30c51","created_at":"2026-03-02T02:35:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Define optional working-set hint format for search and pack paths, including normalization and bounds.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":90,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-53y.1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Touchpoints: store search/build-pack APIs and plugin payload format.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"task(search): define working-set hint input contract","updated_at":"2026-03-02T02:35:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Boost is deterministic and capped; overlap logic is unit-tested; baseline ranking remains unchanged when no hints are passed.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4fff75aa786367271cd0c1c36411c16482134076469fa21cd2fbe4ff39977ab6","created_at":"2026-03-02T02:35:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Implement bounded score boost based on overlap between working-set hints and memory metadata/text.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":150,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-53y.2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely file: codemem/store/search.py","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"task(search): implement bounded overlap scoring","updated_at":"2026-03-02T02:35:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Plugin sends bounded hint payload, handles missing file activity gracefully, and preserves existing behavior when hints unavailable.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8eb53ab7ea11009bee103c327021ee561b051e466ed87fbd99b9026b7f6fb2fb","created_at":"2026-03-02T02:35:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Plumb recently modified files and related context from plugin into retrieval calls using the new hint contract.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":120,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-53y.3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely file: .opencode/plugin/codemem.js","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"task(plugin): pass normalized working-set hints to retrieval","updated_at":"2026-03-02T02:35:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Tests assert deterministic rank movement when hints overlap and unchanged output when hints omitted; hybrid eval regressions remain green.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"609a96db7b8c36c5da2d363ed8758e74fa1e71fd0ae13cb4a19f51dcf5e36bb8","created_at":"2026-03-02T02:35:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add seeded tests validating expected ranking shifts with hints and no-op behavior without hints.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":120,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-53y.4","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: tests/test_hybrid_eval.py and/or new focused search ranking tests.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"task(test): add rank-shift and regression coverage for working-set boost","updated_at":"2026-03-02T02:35:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T12:08:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"642e173b06244ad3f3a4616868346f2b7afa10254067d9e36a54eb0e5b2b27ad","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Enforce a request body size cap on ingest routes in viewer_routes/raw_events.py to prevent oversized payload abuse and resource exhaustion. Wire limit handling through viewer.py with clear client errors.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-5ej","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implemented OPENCODE_MEM_RAW_EVENTS_MAX_BODY_BYTES guard (default 1048576) in opencode_mem/viewer_routes/raw_events.py with 413 payload-too-large response before store init. Added tests/test_viewer_routes_raw_events.py for oversized rejection and within-limit acceptance; ensured viewer raw-events route still accepts normal POST without Origin via test_store.py::test_viewer_accepts_raw_events. Validation command same as above (26 passed + ruff clean).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Add body size limit for raw-events ingest endpoint","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T15:27:40Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"13430f4658ae4109e26501d0f9e66c77d299aff7a93fff70bf94908b423de7ed","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Fix commands/sync_service_cmds.py so install_autostart_quiet returns accurate failure status when subprocess calls fail. Ensure logging and return values match actual execution outcomes.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-5jp","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Fixed truthful failure reporting in install_autostart_quiet and quiet service actions. Added _run_subprocess_quiet helper in opencode_mem/commands/sync_service_cmds.py; install_autostart_quiet now returns False when launchctl/systemctl subprocess steps fail instead of always returning True. Added tests/test_sync_service_cmds.py covering linux success and subprocess-failure paths. Validation: uv run pytest tests/test_sync_service_cmds.py tests/test_sync_cli.py -k \"sync_enable or install_autostart_quiet\" (6 passed); uv run ruff check opencode_mem/commands/sync_service_cmds.py tests/test_sync_service_cmds.py (passed).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Make install_autostart_quiet report subprocess failures truthfully","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T22:19:35Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"99f05c936e9a41cce2406506fd70099739db5a3ca47a31b217c6568f266dec0b","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Harden process identity checks in sync_runtime.py before sending termination signals from pidfile-based stop logic. Avoid killing unrelated processes when PID reuse occurs.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-5wj","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Protect pidfile stop from killing unrelated processes","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T16:11:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"fc5c06f510fd15ed11cd5905d621a227dfcaf8fafe541bec64c04905f0ed62d0","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Ensure plugin_ingest.py closes MemoryStore resources on all exception paths to avoid locked DB handles and leaked connections. Verify cleanup behavior around error boundaries.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-5zx","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Wrapped ingest pipeline in opencode_mem/plugin_ingest.py with try/finally to guarantee MemoryStore.close() on success, early return, and exceptions. Removed ad-hoc close-only-on-happy-path behavior. Added regression test tests/test_plugin_ingest.py::test_ingest_closes_store_on_observer_exception to assert store close executes when observer raises. Validation: uv run pytest tests/test_plugin_ingest.py (11 passed); uv run ruff check opencode_mem/plugin_ingest.py tests/test_plugin_ingest.py (passed).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Ensure plugin_ingest closes store on exceptions","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T15:25:12Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d05831fc21b87474c52084d69af3ae5d4c835ad3131f13bcc468ac3a01f0671f","created_at":"2026-02-10T15:16:23Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Adopt a single semver stream across @kunickiaj/codemem and codemem Python releases and enforce compatibility checks.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-6hq","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implemented shared-versioning scaffolding: added root npm package.json for @kunickiaj/codemem aligned to version 0.9.20, added docs/versioning.md policy (single semver stream across npm/PyPI), and added plugin runtime compatibility warning in .opencode/plugin/opencode-mem.js using OPENCODE_MEM_MIN_VERSION (default 0.9.20) with upgrade guidance. Added npm publish job to .github/workflows/release.yml and validated package contents via npm pack --dry-run.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Unify npm and PyPI versioning policy for CodeMem","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T15:16:48Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"37f2acad4dea2c44e4a8d8212d4e26d68efde7e7b3d498067af10d0d7f0a7ae7","created_at":"2026-02-10T14:11:12Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Choose canonical product/package names and reserve them across npm/PyPI/GitHub to avoid collisions and future squatting risk.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-7p1","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Name reservation completed across npm and PyPI. Claimed npm packages: codemem@0.1.0 and @kunickiaj/codemem@0.1.0. Claimed PyPI packages: codemem==0.0.1 (https://pypi.org/project/codemem/0.0.1/) and codemem-core==0.0.1 (https://pypi.org/project/codemem-core/0.0.1/). Next: implement real npm plugin scaffold and rename migration plan in dependent issues.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Finalize product rename and reserve package names","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"PR #102 (stacked on #99) - actionable Sync Now buttons in health tab recommendations","closed_at":"2026-02-21T00:38:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6a0b4aba1f7140fc3b362bce0ddc75f14af73e80e0bca2411b9694fb30855d1e","created_at":"2026-02-20T23:27:25Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"When the health tab shows 'Sync is stale. Run one immediate sync pass.' with a copy command, replace or augment with an actionable button that triggers sync directly (like the existing Sync Now button on the sync tab).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-7r2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Health tab: make sync-stale recommendation actionable with button","updated_at":"2026-02-21T00:38:23Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T10:20:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"37186c5c348d1d11858fa0077c4266bf8068028170a30199728c08bdc5aac52b","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Define and enforce baseline reliability metrics gate for plugin event processing and session integrity.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-838","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Baseline metrics are documented with exact formulas and thresholds (event ingestion success rate, dropped-event rate, session boundary accuracy). (2) CI or pre-merge check fails when thresholds are violated. (3) A reproducible command/report shows current baseline values from a clean run.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":0,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Establish plugin reliability baseline metrics gate","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T22:10:35Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f8891cbdbf9d7558dbf2226f9ad821e930438d7022526e22f84472e2d56d4d2d","created_at":"2026-02-10T13:11:17Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Provide copy-paste install paths that avoid manual repository setup for both CLI and plugin users.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-8gh","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Document recommended install commands, upgrade path, rollback, and troubleshooting once PyPI/npm distribution decisions are finalized. Depends on opencode-mem-vhy and downstream implementation issues.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Write one-command install docs for CLI + plugin","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"1) Plugin reliably detects and reports CLI/plugin version mismatch with clear version details. 2) User sees actionable upgrade guidance tailored for common install modes, including uv tool installs. 3) Auto-upgrade path (if implemented) is opt-in, safe, and fails gracefully without blocking core plugin behavior. 4) Behavior is documented and covered by tests for mismatch and guidance paths.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T18:37:11Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"31d74b584185c3995f4056ee1dbc01fd8d4658aca3de28047615f1c04dc05709","created_at":"2026-02-11T20:33:43Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Improve resilience when the OpenCode plugin version is newer than the local codemem CLI. Scope: detect plugin/CLI version mismatch at runtime, surface actionable upgrade guidance with exact commands, and evaluate an optional safe auto-upgrade path for uv-based installs (explicit opt-in only).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-8vz","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Risks: false mismatch detection, unsafe or surprising auto-upgrade behavior, environment-specific install edge cases, and degraded UX if guidance is noisy or unclear.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Improve plugin/CLI upgrade seamlessness when plugin updates first","updated_at":"2026-02-12T18:37:11Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Completed viewer polish and accessibility hardening: added dark lavender theme variant, preserved single light theme path, and improved settings dialog accessibility (described dialog semantics, keyboard focus trap, and focus restoration).","closed_at":"2026-02-21T23:03:06Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"890fff7cccc42747d2a85ce429850d678595f48a6af24d3b1fe903d55ec003fe","created_at":"2026-02-16T08:41:37Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-8yb","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Address final viewer polish for release: unify System health card styling with section cards, drop subtle light-warm duplicate theme, and add a new dark purple/lavender variant inspired by TuneMyMusic while keeping accessibility and professionalism.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Harden viewer rendering and dialog accessibility","updated_at":"2026-02-21T23:03:06Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T20:56:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b8435d00e334b28dfe021a315c004a793dc38113dee4bf5e7d612d43f46e1589","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add integration tests validating provider loop behavior across OpenAI and Anthropic adapter implementations.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-94g","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Same scenario suite runs against both adapters. (2) Tests assert equivalent lifecycle and retry semantics. (3) CI matrix reports pass/fail per adapter with no flaky retries needed.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add provider-loop integration tests across OpenAI and Anthropic adapters","updated_at":"2026-02-12T20:56:02Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T16:28:50Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"079dea349b1be33227c0f2c277d77c0fd8d944e28d0158ca5f5af86c5af91a39","created_at":"2026-02-12T08:28:37Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-98c","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add CI smoke test for npm plugin install and OpenCode load","updated_at":"2026-02-12T16:28:50Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T12:08:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"37db36ebf9773a7b8c13b9dcb90fca924e185d1b1d1cdc7458af61ec5e8d4e65","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Strengthen origin checks in viewer_http.py so deceptive hostnames (for example localhost.evil) cannot bypass cross-origin protections, with strict host and scheme validation. Add regression coverage in tests/test_viewer_http.py.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-a7n","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implemented strict parsed Origin validation in opencode_mem/viewer_http.py (no prefix matching), rejecting spoofed loopback origins like localhost.evil and malformed origins. Added regression coverage in tests/test_viewer_http.py and tests/test_sync_viewer_api.py for spoofed-loopback cases. Validation: uv run pytest tests/test_viewer_http.py tests/test_sync_viewer_api.py tests/test_viewer_routes_raw_events.py tests/test_store.py::test_viewer_accepts_raw_events (26 passed); uv run ruff check opencode_mem/viewer.py opencode_mem/viewer_http.py opencode_mem/viewer_routes/raw_events.py tests/test_viewer_http.py tests/test_sync_viewer_api.py tests/test_viewer_routes_raw_events.py (passed).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Fix spoofable origin validation in viewer cross-origin protection","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T12:12:39Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"bd1e3e1a0a65b57d355688ff28067ae5e487c7f9827d399450f75570a293c347","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Tighten input shape validation in ingest/events.py for event_to_tool_event so malformed arg payloads are rejected predictably. Preserve robust parsing for valid historical event variants.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-agv","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Hardened opencode_mem/ingest/events.py event_to_tool_event arg handling: args now accepted only when dict; non-dict args are coerced to {} so args.get('cwd') cannot crash. Added tests/test_ingest_events.py covering non-dict args safety and dict-cwd behavior. Validation: uv run pytest tests/test_ingest_events.py tests/test_ingest_tool_events.py (9 passed); uv run ruff check opencode_mem/ingest/events.py tests/test_ingest_events.py (passed).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Harden ingest arg-shape validation in event_to_tool_event","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T12:11:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"3df3c14054b022afb524ab28b7c176444353c0a93b40f73916e57491021002c4","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Guarantee response/connection cleanup in sync/http_client.py when request setup, read, or decode paths fail. Prevent leaked sockets across retry and error paths.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-azy","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Updated opencode_mem/sync/http_client.py so request_json always closes HTTP(S) connections via try/finally, including request/getresponse/read failure paths. Added tests/test_sync_http_client.py to assert close() is called when request() raises and when response.read() raises. Validation: uv run pytest tests/test_sync_http_client.py tests/test_sync_daemon.py -k \"request_json or sync_once\" (8 passed); uv run ruff check opencode_mem/sync/http_client.py tests/test_sync_http_client.py (passed).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Ensure sync HTTP client always closes connection on failure","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Added offset pagination to /api/observations and /api/summaries with pagination metadata, updated feed API client and tab logic for infinite scroll auto-loading, added backend pagination tests, and rebuilt viewer bundle.","closed_at":"2026-02-21T03:42:31Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"0797a03b81e2bd5425a154e346a7a18d92446a7be5b13523324c32ce7447daf4","created_at":"2026-02-20T23:27:22Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add cursor/offset pagination to /api/observations and /api/summaries endpoints, then implement infinite scroll in the feed tab to load more items as the user scrolls down. Currently the feed shows ~70 fixed items (20 obs + 50 summaries).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-b0j","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Feed tab: infinite scroll with API pagination","updated_at":"2026-02-21T03:42:31Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T22:43:17Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6dec043a467f7f8c8c436b6c99b9e9268d38f94661dbfae23886d2612d623696","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Reduce unnecessary schema-write activity during store initialization in store/_store.py and db.py to lower startup overhead. Keep migration correctness while minimizing write churn.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-b6b","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Reduce schema-write work in MemoryStore open path","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T00:17:03Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"65a5227878695fcd74e5756b8de93d277adea469f9b5f7747f0d3728f0bb06cc","created_at":"2026-02-10T00:15:20Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"When project include/exclude filters are active, the sync API can return ops=[] for a page where every candidate op is filtered out. In that case the client cannot advance last_applied_cursor, so repeated sync passes can deadlock on the same window. Expected: server should return a next_cursor that advances past the scanned window (even if all ops were skipped), so clients can progress until they reach allowed ops.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-ba2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix sync deadlock when project include filters skip first page","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T23:41:45Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"44ba4f8a32a5ddd97a81ece77279070ba9061e63067512526a8f67d4d0dd27a2","created_at":"2026-02-12T22:34:13Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Viewer sync diagnostics marks peers as Online based on stale last_sync/last_ping. When last successful contact is old and current sync attempts fail, top-level status still shows ok and peer chips remain Online, which is misleading. Add freshness/offline heuristic, recency thresholds, and status aggregation that reflects recent errors.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-bd9","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Sync diagnostics shows stale peers as online","updated_at":"2026-02-12T23:41:45Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T11:22:49Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"22200e987b15d2c0390ff456826cc46fea924f732ce1975fe88d4a1452659150","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Implement a durable post-tool event processing queue with explicit claim and completion states.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-bfe","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Queue state model includes pending, claimed, completed, failed. (2) Claims are recoverable after process crash/restart. (3) No duplicate completion under concurrent workers in tests.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add durable post-tool processing queue with claim states","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T20:56:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"049c216c5faf544b30de29e9b43f19c7f2059aedf47a2027e27e01462e74baa7","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Introduce hybrid retrieval scoring controlled by a feature flag for safe rollout and comparison.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-c6p","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Feature flag toggles hybrid scoring at runtime. (2) Disabled mode preserves existing ranking behavior exactly. (3) Evaluation script reports measurable precision/recall delta when enabled.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Introduce hybrid retrieval scoring behind feature flag","updated_at":"2026-02-12T20:56:02Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e5e368635ee7907e94ac29add9045f140b79f26c05d9b6e160fb50ed3b495445","created_at":"2026-02-14T15:25:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"After the session_import_key replication migration has been deployed for several releases, remove legacy fallback behavior that maps inbound memory payloads via numeric session_id. Keep this blocked until compatibility window is complete and all active peers are expected to send session_import_key.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-cfo","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Remove legacy numeric replication session_id fallback after migration window","updated_at":"2026-02-14T15:27:13Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"Tool is registered and discoverable via MCP schema; response returns per-item rationale fields (retrieval source, score components, recency, kind bonus, project match) for deterministic seeded queries; missing IDs and out-of-scope project filters return graceful structured errors; deterministic integration test passes on seeded DB.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"All child tasks chf.1-chf.4 implemented with stacked PRs #118, #120, #121, #122; acceptance criteria covered by contract + store + MCP + test layers.","closed_at":"2026-03-02T03:58:17Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"38ab169d6be19b7a9fb8e57ea8f132e4bdd036e47cda29f31e6d8918cc5655f0","created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add MCP tool memory_explain to expose per-memory retrieval rationale so clients can answer why an item was selected or injected.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":240,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-chf","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: codemem/mcp_server.py, codemem/store/search.py, optional codemem/store/packs.py. Test plan: MCP contract registration test in tests/test_contracts.py plus new tests/test_mcp_explain.py for payload shape and deterministic values.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"epic(mcp): memory.explain retrieval and pack rationale","updated_at":"2026-03-02T03:58:17Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Response contract documented in bead notes and reflected in tests; includes deterministic field names/types and nullability rules; unknown or unavailable components are represented safely without crashing clients.","actor":"","agent_state":"","assignee":"Adam Kunicki","await_id":"","await_type":"","close_reason":"Contract doc and test matrix completed in docs/plans/2026-03-01-memory-explain-contract.md","closed_at":"2026-03-02T03:06:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"ff167961123424cb679ba80bf9a8bd657986f5815110b3926ff9c8bf925eb4ff","created_at":"2026-03-02T02:35:27Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Define stable response schema for memory.explain including retrieval source, score components, recency contribution, kind bonus, and project scope metadata.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":90,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-chf.1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Touchpoints: codemem/mcp_server.py tool shape plus any store helper payload typing.\n\nKickoff plan:\n1) Define request args: query (optional), ids (optional), filters.project (optional), include_pack_context (bool, default false).\n2) Define response envelope: {items: [...], missing_ids: [...], errors: [...], metadata: {...}}.\n3) Per-item explain payload candidate fields: retrieval_source, score_total, score_components {fts, semantic, recency, kind_bonus, project_bonus?}, matched_query_terms, matched_tags, matched_project, rank_position.\n4) Define deterministic null/default rules and non-fatal error semantics for unknown IDs and project-filter mismatches.\n5) Lock contract in tests before implementation in chf.2/chf.3.\nContract finalized in docs/plans/2026-03-01-memory-explain-contract.md.\nKey decisions locked:\n- Request args: query|ids (+project, include_pack_context, limit) with deterministic validation rules.\n- Response envelope: items, missing_ids, errors, metadata.\n- Per-item rationale fields: retrieval source/rank, score total + component breakdown, match metadata, optional pack_context.\n- Null/default guarantees and non-fatal structured error semantics.\n- Explicit test matrix for codemem-chf.4.\nOpened PR: https://github.com/kunickiaj/codemem/pull/118 (branch 03-01-feature-gap-memory-explain-contract-v2).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"task(mcp): define memory.explain response contract","updated_at":"2026-03-02T03:07:33Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Store returns per-item rationale payload with deterministic score components; supports missing IDs and project mismatch handling; no behavioral changes to existing search ordering when explain mode is unused.","actor":"","agent_state":"","assignee":"Adam Kunicki","await_id":"","await_type":"","close_reason":"Implemented in commit 2d50d86 with tests and triple-review GO","closed_at":"2026-03-02T03:34:35Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d355d9ad01cb7fa6c1c8a7d4552b92e63011753a18c1a26dc3790809e1ba258b","created_at":"2026-03-02T02:35:27Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Implement store-side logic to assemble explainability details for selected memory IDs and retrieval contexts.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":150,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-chf.2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: codemem/store/search.py and/or codemem/store/packs.py.\nKickoff for store-side explainability assembly:\n1) Add a store helper that resolves candidate items from query and/or ids with project scope applied.\n2) Build deterministic per-item explain payload (retrieval source/rank, score total/components, match metadata).\n3) Return non-fatal missing_ids/errors envelope matching contract doc.\n4) Keep existing search/ranking behavior unchanged unless explain helper is explicitly called.\nImplemented in commit 2d50d86.\nDelivered store-side explainability assembly with deterministic envelope and error semantics:\n- Added MemoryStore.explain delegating to store_search.explain.\n- Added explain pipeline combining query and id_lookup sources with per-item rationale fields (retrieval source/rank, score components, query term matches, project match, optional pack_context placeholder).\n- Added strict/defensive id parsing (reject bool/float/non-digit/non-positive/out-of-range) with structured INVALID_ARGUMENT errors.\n- Added project-scope mismatch and not-found separation with ordered missing_ids.\n- Added stable FTS tie-break ordering in search SQL for deterministic ranking order under ties.\n\nValidation:\n- uv run pytest tests/test_store.py -k \"explain or stable_tiebreaker\"\n- uv run pytest tests/test_store.py -k \"merge_ranked_results or search_index_and_timeline\"\n- uv run ruff check codemem/store/search.py codemem/store/_store.py tests/test_store.py\n\nTriple review consensus after fixes:\n- CodeReviewer: GO\n- gordon-ramsay: GO\n- code-quality-pragmatist: GO","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"task(store): implement explainability payload assembly","updated_at":"2026-03-02T03:34:35Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Tool appears in MCP schema and returns contract-compliant payload; invalid input and missing IDs return structured non-fatal errors; project filter semantics match other memory tools.","actor":"","agent_state":"","assignee":"Adam Kunicki","await_id":"","await_type":"","close_reason":"Implemented in commit 4b3c026 and opened PR #121","closed_at":"2026-03-02T03:53:08Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e3acb0f9a4d6609ba066586230d3a2cdf12c58632f960b295ea582e1898b915d","created_at":"2026-03-02T02:35:28Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Register MCP memory_explain tool and implement handler wiring to store explainability logic.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":120,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-chf.3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely file: codemem/mcp_server.py\nImplemented in commit 4b3c026 on branch 03-01-feature-gap-memory-explain-mcp-v1.\nDelivered MCP wiring for memory_explain:\n- Added `memory_explain` MCP tool registration and handler in codemem/mcp_server.py.\n- Wired args query/ids/limit/project/include_pack_context through to store.explain with existing project default semantics.\n- Added MCP-level tests in tests/test_mcp_explain.py for tool registration, query+ids behavior, missing+project mismatch errors, and required-input validation.\n\nValidation:\n- uv run pytest tests/test_mcp_explain.py\n- uv run pytest tests/test_store.py -k \"explain\"\n- uv run ruff check codemem/mcp_server.py tests/test_mcp_explain.py\n\nTriple review consensus:\n- CodeReviewer: GO\n- gordon-ramsay: GO\n- code-quality-pragmatist: GO\n\nPR: https://github.com/kunickiaj/codemem/pull/121 (base: 03-01-feature-gap-memory-explain-store-v2)","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"task(mcp): wire memory.explain tool and error handling","updated_at":"2026-03-02T03:53:08Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Tests cover schema registration, happy path, missing IDs, and project-scoped behavior; deterministic seeded assertions included; existing MCP tests remain green.","actor":"","agent_state":"","assignee":"Adam Kunicki","await_id":"","await_type":"","close_reason":"Implemented in commit bef4677 and opened PR #122","closed_at":"2026-03-02T03:58:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"245288f0cb2df6b9fddcbc371476d276f557c10193a4e5a6b5a2ebbf38ac2aa3","created_at":"2026-03-02T02:35:28Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add focused tests for memory.explain registration, payload shape, and deterministic outputs.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":120,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-chf.4","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: tests/test_contracts.py and tests/test_mcp_explain.py\nImplemented in commit bef4677 on branch 03-01-feature-gap-memory-explain-tests-v1.\nAdded MCP-level contract/integration coverage in tests/test_mcp_explain.py:\n- include_pack_context passthrough shape + metadata flag assertions\n- default project fallback scoping via CODEMEM_PROJECT when project argument is omitted\n- project mismatch error id assertions\n\nValidation:\n- uv run pytest tests/test_mcp_explain.py\n- uv run ruff check tests/test_mcp_explain.py\n\nTriple review consensus:\n- CodeReviewer: GO\n- gordon-ramsay: GO\n- code-quality-pragmatist: GO\n\nPR: https://github.com/kunickiaj/codemem/pull/122 (base: 03-01-feature-gap-memory-explain-mcp-v1)","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"task(test): add contract and integration tests for memory.explain","updated_at":"2026-03-02T03:58:02Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"BuildAgent","await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-15T17:30:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4581b0eff9d478b5e8fd7f85e687e7a26206d11232d00f216aa90163e2cb5575","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Run targeted tests and confirm UI/API behavior matches new semantics without regressing real error detection.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-d76","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Delegation target: BuildAgent (validation run + report).\nExecution phase: 4 after codemem-lhk and codemem-3ev.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Validate sync health behavior end-to-end","updated_at":"2026-02-15T17:30:32Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T10:49:48Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c1688e6f4126139d82ba658ed53d962d841bfdc07951e1c9d6584b7ff25151b8","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Refactor raw-event handling so ownership and responsibilities are clearly defined and non-overlapping.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-ddd","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Each raw-event path has a single owning component. (2) Responsibility boundaries are documented in code-level docs. (3) Duplicate/competing handlers are removed and regression tests remain green.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Unify raw-event handler ownership and responsibility boundaries","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"Kind bonus mapping covers every value in ALLOWED_MEMORY_KINDS; missing or unknown kinds default safely to zero bonus; existing hybrid and baseline ranking tests continue to pass; seeded fixture test demonstrates deterministic ordering with new typed kinds.","actor":"","agent_state":"","assignee":"Adam Kunicki","await_id":"","await_type":"","close_reason":"Implemented in commit 420b7aa: centralized kind bonus map for all ALLOWED_MEMORY_KINDS, wired search scoring to shared map, and added deterministic test coverage.","closed_at":"2026-03-02T02:40:52Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"778486f681502993be9b7141eeb35aba87fd1d9772bcd36bfa711a263ba5bb7e","created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Expand retrieval kind weighting so every allowed typed kind can participate in deterministic ranking bonuses instead of only legacy kinds.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":120,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-de4","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: codemem/store/search.py and potentially codemem/memory_kinds.py if moving shared mapping. Test plan: targeted unit coverage in tests/test_store.py plus ranking regression checks in tests/test_hybrid_eval.py.\nImplementation started and completed locally: added MEMORY_KIND_BONUS coverage for all ALLOWED_MEMORY_KINDS, wired search _kind_bonus to shared map, and added tests in tests/test_search_kind_bonus.py. Validation passed: uv run pytest tests/test_search_kind_bonus.py; uv run pytest tests/test_hybrid_eval.py; uv run ruff check codemem/memory_kinds.py codemem/store/search.py tests/test_search_kind_bonus.py.\nReview pass (pre-PR) completed with triple-review consensus:\n- CodeReviewer: GO (no required fixes).\n- gordon-ramsay: GO (no blockers).\n- code-quality-pragmatist: GO (no required fixes).\n\nOptional follow-ups identified (deferred, non-blocking):\n1) Consider normalizing `kind` inside `_kind_bonus` defensively to avoid silent 0.0 for mixed-case legacy values.\n2) Consider making `MEMORY_KIND_BONUS` read-only to avoid accidental runtime mutation.\n3) Consider adding one ranking-impact regression test for non-legacy kinds in rerank path.\nFollow-up commit 3438ef8 addressed review concerns before PR:\n- Normalized `_kind_bonus` lookup via `normalize_memory_kind` to avoid mixed-case/whitespace silent misses.\n- Added behavioral rerank tests for baseline and hybrid tie-break paths in tests/test_search_kind_bonus.py.\n\nFinal triple-review consensus on PR branch (03-01-feature-gap-kind-bonus):\n- CodeReviewer: GO\n- gordon-ramsay: GO\n- code-quality-pragmatist: GO\nOpened PR: https://github.com/kunickiaj/codemem/pull/117 (branch 03-01-feature-gap-kind-bonus).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"feat(search): extend kind-aware scoring to all typed memory kinds","updated_at":"2026-03-02T02:58:34Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T00:07:55Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c37009f35405083de30b4d12f8a20b7275272810b91c0f5031c81ecdd77434b4","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add schema fields linking prompts to memories and expose linkage through timeline APIs.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-dte","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Schema migration adds linkage fields without breaking existing records. (2) Timeline API returns linkage fields in documented responses. (3) Query tests validate forward and reverse linkage lookup.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add prompt-memory linkage fields and timeline API exposure","updated_at":"2026-02-12T00:07:55Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T22:03:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"5cabd95203d9a751b0821faab6b210aacfaa1dee10c3044e781b02afe2597fa3","created_at":"2026-02-10T15:16:15Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Configure PyPI Trusted Publisher (OIDC) so GitHub Actions can publish codemem/codemem-core without API tokens.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-du6","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Rename/distribution implementation is in PR #33 (https://github.com/kunickiaj/codemem/pull/33), including workflow_dispatch TestPyPI publish path and trusted publisher docs. Pending final close: successful publish verification run with codemem artifacts on TestPyPI/PyPI after merge.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Set up PyPI Trusted Publisher for codemem releases","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T22:09:57Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"5d7f6149980aadd8e14438c4ed2a0999a095eec496bb3ba35dd71e7edf1d17bd","created_at":"2026-02-10T13:10:58Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Publish the Python package to PyPI from tagged releases so users can install without manual repo cloning.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-ec7","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Add/verify CI release job for PyPI publish (trusted publisher or token), define version/tag rules, test against TestPyPI first, and document install commands (uvx/pipx/pip). Depends on strategy issue opencode-mem-vhy.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Automate PyPI publishing for opencode-mem CLI","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T13:26:23Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4b458f4692d418affab66703bf297b6e7b92fc778affd3f3c16a65bdd9fed2ff","created_at":"2026-02-11T07:31:17Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Define reliability contract for stream-only mode and specify fallback behavior for degraded conditions.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-ehp","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Success criteria: (1) Contract defines guarantees, non-goals, and failure semantics. (2) Fallback triggers and actions are explicit and testable. (3) Runtime behavior matches documented contract in validation tests.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Define stream-only reliability contract and fallback behavior","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T15:18:42Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a41b12c1986a17bc34810a8d37e191744058e527156f4a1aabfbd5890348848b","created_at":"2026-02-10T15:16:31Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Update old repository URLs and badges across code, workflows, npm/PyPI metadata, and docs after GitHub repo rename.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-heu","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Completed post-rename URL sweep in tracked source/docs. Updated old GitHub repo references to kunickiaj/codemem in README badges and install snippets, and updated plugin default uvx runner source in .opencode/plugin/opencode-mem.js. Updated local git origin to git@github.com:kunickiaj/codemem.git. Verified no remaining tracked references to kunickiaj/opencode-mem via grep scan.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Post-rename repo URL and metadata sweep","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-09T23:54:41Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"40a9fc1c484dbf30df97958e89ba395eb397e3f5156b7205720c58705d8f7a9f","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Memories synced for included project (e.g., --include greenroom), but embeddings and tags were missing and required backfill.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-hu0","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Determine if sync payload omits fields, if this is expected behavior, and assess whether previously synced memories are affected.","original_size":null,"owner":"adam.kunicki@airbnb.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix missing embeddings/tags in synced memories after include-filter sync","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Scope completed via merged PRs #75 and #76: ops metrics surfaced in viewer health/stats UX and public docs aligned with runtime hook behavior and sync reliability semantics.","closed_at":"2026-02-21T23:03:13Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"316baa860ecbf25393f0bdfa28106ddf3a4e8c3cd5a1b0398ba156e0cf342b80","created_at":"2026-02-11T07:31:18Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add an operations metrics panel and align public docs with observed runtime hook behavior.","design":"Incremental plan only (no implementation yet).\\n\\nScope:\\n- Build an explicit Ops Metrics presentation in the existing viewer Stats area using current APIs only (no new backend route initially): /api/stats, /api/usage, /api/raw-events, /api/sync/status.\\n- Keep documentation aligned to actual runtime hook behavior and failure semantics.\\n\\nPR stack plan:\\n1) j2j-a (UI/observability):\\n   - Refine Stats panel into explicit ops-oriented cards.\\n   - Add clear units on labels/tooltips (tokens, %, counts, time).\\n   - Add timestamp context (last refresh + sync-derived timestamps where available).\\n   - Ensure project-filter behavior is explicit for filtered vs global values.\\n   - Preserve mobile/desktop readability and existing visual language.\\n2) j2j-b (docs alignment):\\n   - Finalize README.md, docs/architecture.md, docs/plugin-reference.md, docs/user-guide.md updates.\\n   - Match docs wording with final UI card labels and API payload semantics exactly.\\n\\nAcceptance checks:\\n- Reviewer can map each card to one reproducible field from API/CLI outputs.\\n- No new server endpoint required in initial pass.\\n- Existing sync diagnostics/status behavior remains intact.\\n- Tests/lint pass for touched areas.\\n\\nOut of scope for this pass:\\n- New /api/ops aggregation endpoint.\\n- Large dashboard redesign beyond metrics clarity.","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-j2j","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Split work into PRs: #75 (viewer UX/sync health state clarity + tests) and #76 (runtime hook + sync reliability docs wording).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add ops metrics panel and align docs with runtime hook behavior","updated_at":"2026-02-21T23:03:13Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T22:54:06Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"adb1705e897c297c112f7850c9dfe8a04035461ba9cd2f67bd981261f0e827f7","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Improve error attribution in sync/sync_pass.py so failures are reported per remote address with actionable context. Use sync/http_client.py signal details to aid triage.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-j5r","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Improve per-address sync failure diagnostics","updated_at":"2026-02-12T22:54:06Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T15:53:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f4329c14c96a018de6c30f3c0269870a69913838c643dd8e65a9042939d71eb0","created_at":"2026-02-11T15:15:53Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-jdi","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Approved scope changed from policy gate to full CLI ingest removal from plugin (stream-only path only).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"PR #43: fallback-policy-off enforcement bug","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T22:10:38Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"021df8060d7e90c8ade5176511345d27dc8590e56f6979f38a02a9f585857402","created_at":"2026-02-10T15:20:07Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Move git+uvx install instructions out of primary onboarding and treat them as developer/advanced fallback once npm and PyPI distribution are fully live.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-jhl","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Deliverables: docs IA update, primary install paths use registry packages, retain git-based uvx only in fallback section with troubleshooting context.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Demote git-based uvx install to fallback docs","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T12:10:38Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"c75f9f66f9be0123aa8b0f373a2e99c5364e34312c5592a2af9d914d6f515342","created_at":"2026-02-10T09:41:41Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Harden query parsing in viewer_routes/sync.py so invalid or extreme limit values are rejected safely before database access. Add coverage in tests/test_sync_viewer_api.py for malformed limits.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-juh","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Updated /api/sync/attempts limit parsing in opencode_mem/viewer_routes/sync.py: invalid/non-int and non-positive limits now return 400 {error: invalid_limit}; very large limits are clamped to 500. Added tests in tests/test_sync_viewer_api.py for invalid limit rejection and high-limit clamping. Validation: uv run pytest tests/test_sync_viewer_api.py -k \"sync_attempts or sync_rejects_spoofed_loopback_origin or missing_origin\" (5 passed); uv run ruff check opencode_mem/viewer_routes/sync.py tests/test_sync_viewer_api.py (passed).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Validate /api/sync/attempts limit parsing","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T08:28:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"adce9fe42d5708a9c712d832af877b0662aa6e58593bf8e497bf09e7af45b8fb","created_at":"2026-02-10T13:11:05Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Publish the OpenCode plugin as an npm package so plugin installs can use package names rather than local file paths.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-lb7","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Define npm package structure for .opencode/plugin/opencode-mem.js, versioning policy, release automation, and semver compatibility guarantees. Depends on strategy issue opencode-mem-vhy.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Package and publish OpenCode plugin to npm","updated_at":"2026-02-12T08:28:32Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":"CoderAgent","await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-15T17:30:32Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"dd0a50075f8a5ad6684c3d6b662d8cb7ee944e453c3c3f2f47e95ec1225b550d","created_at":"2026-02-15T17:12:55Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Adjust viewer health cards and sync panel copy/actions so offline-only peer state is not shown as unhealthy and does not recommend daemon restart.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-lhk","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Delegation target: CoderAgent (viewer messaging/actions).\nExecution phase: 3 after codemem-431.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Update viewer health messaging for offline-only sync","updated_at":"2026-02-15T17:30:32Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-09T23:38:30Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"96c6de713fe1d8fa2b9fc98e7282453e339170eba75390406d65380ea7556acd","created_at":"2026-02-09T22:31:01Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Sensitive-info redaction in Web UI also redacts pairing payload addresses shown in code/copy command. This prevents successful pairing unless diagnostics redaction is disabled.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-mb0","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Expected: pairing copy command remains usable while still redacting truly sensitive fields. Investigate selective redaction for pairing payload fields.","original_size":null,"owner":"adam.kunicki@airbnb.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Fix pairing payload redaction hiding addresses needed for pairing","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"Tool accepts ids plus depth_before/depth_after/include_observations/project options; response returns anchor items plus expanded timeline and optional observation details in a normalized structure; duplicate IDs are deduped and invalid IDs are reported non-fatally; project scoping matches existing MCP tools.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"4cc53e736aebfb17553a2883a6ffa3eb812495117fd5a1b95155391e37db341c","created_at":"2026-03-02T02:20:11Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add MCP tool memory_expand to reduce client orchestration overhead by expanding search IDs into timeline context and optional observation payloads.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":180,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-o6v","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Likely files: codemem/mcp_server.py and store query helpers in codemem/store/search.py. Test plan: contract tests in tests/test_contracts.py and new tests/test_mcp_expand.py covering mixed valid/invalid IDs and project-scoped behavior.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"feat(mcp): add memory.expand helper for index-to-details workflow","updated_at":"2026-03-02T02:20:11Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"PR #101 - exponential backoff for offline peers in daemon tick (2min30min max)","closed_at":"2026-02-21T00:27:13Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"32d0d83706b7b196fae0aaf5a544b1c84a9eac08522bef3a797557fc1e0782bc","created_at":"2026-02-20T23:49:52Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"When clicking 'Sync now' or when the daemon runs its periodic cycle, it attempts to sync with all configured peers including those known to be offline, which generates error log entries. Should detect peer online/offline state (likely from last ping status) and skip offline peers, or at minimum not log errors for expected-offline peers. Currently there is no specific online/offline state detection  we just try all peers unconditionally.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-om6","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Sync: skip offline peers when triggering manual sync","updated_at":"2026-02-21T00:27:13Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T07:40:41Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"50a84a22ebadc1b82e3aaf35d4c7581298dfb73728a87b589a18e0eefecad9fa","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Expand tests/test_sync_viewer_api.py with invalid, negative, and oversized limit cases for /api/sync/attempts. Confirm viewer_routes/sync.py returns stable validation errors.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-pkw","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Add invalid-limit API tests for /api/sync/attempts","updated_at":"2026-02-12T07:40:41Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"208f3d4900c916f3b1e0a656e010597c9816bac3b527fff28770cac4e7263ad3","created_at":"2026-02-14T15:28:46Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Track rollout for the new session_import_key replication field. Keep this open for the next few releases while mixed-version peers are expected. Close only after confirming active devices are on a version that sends session_import_key in memory_item payloads.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-q8i","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"v0.13.0 is now released. Remaining exit criterion requires operational confirmation from active sync peers that inbound memory_item replication payloads include session_import_key. Keep this issue open until that field is observed across active devices for at least one full release window.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Migration window: verify session_import_key adoption across active sync peers","updated_at":"2026-02-21T03:43:17Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-09T23:38:30Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a462e1e7ade0fa97a438dc3fb8fe8a2dca6eb7221890d447136cdd4615a253b6","created_at":"2026-02-09T22:05:05Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Pairing command detects LAN and Tailscale IPs, but misses work VPN interface IP (utun4), making coworker pairing harder.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-qr1","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implemented VPN-aware pairing IP discovery: added interface-based IPv4 candidates with allow/block interface prefix filters (includes utun/tun/tap/wg while excluding loopback/docker/awdl). Preserved auto ordering (LAN first, Tailscale fallback). Added tests in tests/test_net.py for interface filtering and host selection. Verified with: uv run pytest tests/test_net.py and uv run pytest tests/test_sync_cli.py -k pair (all passing).","original_size":null,"owner":"adam.kunicki@airbnb.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Include VPN interfaces (utun*) in pairing IP discovery","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T15:53:29Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"a81d0a2cd879d907a26e30bebecbf1937d87df6ab0e98eff633a6437bea825c1","created_at":"2026-02-11T15:15:53Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r5u","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"Scope: reproduce stale-queue starvation path, constrain queue drain/fairness logic for active PR #42, and add regression coverage to prevent starvation under sustained backlog.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"PR #42: stale-queue starvation bug","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"- Clear architecture split documented (codemem inference vs skills enforcement)\\n- MVP tasks and dependencies created\\n- Success metrics and ship/no-ship rubric defined","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1b9a3264b1e5c77bd3f8948db7f6b10dcee3f2c75863ca1a127e5a9ca3157614","created_at":"2026-03-01T04:14:32Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Plan and deliver a project-agnostic Procedure LKA MVP where codemem infers likely procedural rules/triggers from history and skills/tooling enforce deterministic gates. Keep codemem as inference/ranking layer, not a full policy engine.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91","is_template":0,"issue_type":"epic","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Procedure LKA: memory-informed rule inference and triggerable guidance","updated_at":"2026-03-01T04:14:32Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Trigger ontology documented with examples across at least 3 project types\\n- Rule JSON schema includes trigger_family + trigger_predicate + evidence + confidence + suggested_enforcement\\n- Review confirms no hardcoded repo-specific trigger dependence","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Trigger ontology and inferred-trigger schema documented in procedure-lka-onepager RFC with examples and JSON schemas.","closed_at":"2026-03-01T04:20:18Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b8e58553a65b0d1e74cf584af721aef7d29f97e97d1695580d42ced38e401315","created_at":"2026-03-01T04:14:50Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Design a small project-agnostic trigger family set (for example before_state_change, risky_operation, quality_risk, artifact_drift, repeated_failure_loop) and rule schema including inferred trigger predicates, evidence, confidence, and enforcement suggestion.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.1","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Completed by extending docs/rfcs/procedure-lka-onepager.md with: (1) project-agnostic trigger ontology v1, (2) inferred trigger schema with evidence/confidence/enforcement fields, and (3) runtime trigger event schema. Includes guidance to infer project-specific predicates instead of hardcoding repo-specific triggers.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Define trigger ontology and inferred-trigger schema","updated_at":"2026-03-01T04:20:18Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Evaluation runbook exists with target thresholds\\n- Comparative metrics captured for off/static/inferred modes\\n- Explicit ship/no-ship decision issue is updated with results","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"6f5b828a57480e8203153802a3a398eef9a674443189dd6fde782e2c56720244","created_at":"2026-03-01T04:15:54Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Create evaluation pass comparing off/static/inferred modes and assess precision, missed-step reduction, fatigue, and latency before deciding to ship.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.10","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Add evaluation harness and ship/no-ship checkpoint","updated_at":"2026-03-01T04:15:54Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Accepted rules can be exported/consumed by skill layer\\n- Enforcement mapping supports advisory and soft-gate in MVP\\n- Documentation clarifies codemem inference vs skills enforcement boundary","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e01e4ae45c7b7b1b01ff31ee1b23999e047a4af591183cb18a8c054bef2eb13e","created_at":"2026-03-01T04:16:00Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Map accepted codemem-derived procedure rules into deterministic skill/checklist inputs so enforcement remains explicit and codemem stays inference-first.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.11","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Implement skills bridge for accepted procedure rules","updated_at":"2026-03-01T04:16:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Derive output includes scan_limit and truncation indicator (or equivalent observability)\\n- CLI/MCP signatures document the behavior\\n- Tests cover truncated vs non-truncated cases","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"ea06c5f0732e4e63323b50046ce789a6d3ef376e35fedc822df129f0831f04b7","created_at":"2026-03-01T04:47:35Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Avoid silent bias from derive scan_limit cap by surfacing truncation metadata (and/or configurable scan_limit) in CLI and MCP output.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.12","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Expose procedure derivation scan truncation metadata","updated_at":"2026-03-01T04:47:35Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- RFC/notes include explicit keep vs discard list from #112\\n- PR #112 marked draft with superseded note\\n- Follow-up implementation references only approved reusable pieces","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"PR #112 disposition and reusable component list documented in procedure-lka-onepager RFC.","closed_at":"2026-03-01T04:21:00Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"23b3ee4716e5b1160f8580224ba01b661e81b55646ca27c08c2cd9fcb8dd87b6","created_at":"2026-03-01T04:14:50Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Record why PR #112 remains draft/superseded and list reusable components (metrics plumbing, toast cooldown patterns, cache/failure handling) for reuse in LKA MVP.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.2","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Captured explicit keep/discard decision for PR #112 in docs/rfcs/procedure-lka-onepager.md under 'Status of PR #112 (Exploratory Baseline)'. Documented reusable pieces (anti-spam, cache backoff, metrics) and non-carried-forward pieces (pack-only nudge mechanism, repo-specific trigger assumptions).","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Document #112 disposition and extract reusable pieces","updated_at":"2026-03-01T04:21:00Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- CLI/MCP derive command supports --days and --project filters\\n- Output includes inferred trigger fields and evidence memory IDs\\n- Results are deterministic for same input window and seed configuration","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Procedures derive command and MCP tool shipped with deterministic output and passing scoped validations; no blocking/high review issues.","closed_at":"2026-03-01T04:47:21Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"aade9e288b4c969bde221dfa902f3ab913b45d0875850725baf63ffb27373809","created_at":"2026-03-01T04:14:50Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add manual invocation path to derive likely procedures from historical memories over a configurable time window and output rule, trigger, evidence, confidence, and suggested enforcement level.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.3","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implemented procedures derivation end-to-end (core derivation module, CLI command procedures-derive, MCP tool procedures_derive, and tests). Reviewer pass: no blocking/high severity issues. Non-blocking medium noted: scan_limit truncation should be exposed/observable in output in a follow-up.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Implement procedures derive command with inferred triggers","updated_at":"2026-03-01T04:47:21Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Persistent schema for rules + evidence + outcomes exists\\n- Manual review operations support accept/reject/suppress\\n- Only accepted rules are eligible for runtime injection","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"ca9ddd596f1b01d5e5e7e094a05ffac4bbf3a4bd0663d899b1c47f529bc15443","created_at":"2026-03-01T04:14:51Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Create storage model for inferred and accepted rules with TTL/decay metadata and a review loop to accept/reject/suppress proposed rules before runtime use.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.4","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"in_progress","target":"","timeout_ns":0,"title":"Persist inferred rules and add review workflow","updated_at":"2026-03-01T05:01:42Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Flags include procedure_lka_enabled and procedure_lka_mode (off|advisory|soft_gate)\\n- Runtime kill-switch and debug-perf toggle documented\\n- Default config keeps existing behavior unchanged","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"LKA feature flags and kill-switch settings added with config/env parsing, viewer config API support, and test coverage.","closed_at":"2026-03-01T04:23:33Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d837944c0b3e0c67478ed0b706ea907199223e88db68d8226c3c297f5a014597","created_at":"2026-03-01T04:15:52Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Introduce configuration flags for procedure LKA modes and runtime controls so the feature can be safely enabled, compared, and disabled without code changes.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.5","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implemented runtime controls in codemem/config.py and viewer config API: procedure_lka_enabled, procedure_lka_mode (off|advisory|soft_gate), procedure_lka_trigger_inference_enabled, procedure_lka_debug_perf. Added env overrides and validation/coercion. Added tests in tests/test_config.py covering defaults, file loading, env overrides, and invalid mode fallback. Updated RFC MVP section with these flags.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Add LKA feature flags and runtime kill-switches","updated_at":"2026-03-01T04:23:33Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Metrics include detect_ms, lookup_ms, rank_ms, total_ms\\n- Mode comparison reports off vs static vs inferred overhead\\n- SLO thresholds defined and emitted in reports","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Plugin overhead instrumentation and mode-comparison reporting implemented with tests and reviewer approval.","closed_at":"2026-03-01T05:00:16Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"9bc063c84c3fcb7cd4a8e550bce48b63c34e54310c69eb9c873026a333826032","created_at":"2026-03-01T04:15:52Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Measure plugin-added overhead for trigger inference and rule injection paths, with clear deltas for off/static/inferred modes.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.6","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implemented LKA perf instrumentation and reporting: plugin emits lka_detect_ms/lka_rule_lookup_ms/lka_rank_ms/lka_total_ms with mode off|static|inferred; added codemem/lka_perf.py parser/aggregation/percentiles+SLO status; added lka-perf-report CLI command and tests. Addressed review findings by redacting query in inject.pack.error logs, removing stray DEBUG print, and handling UNKNOWN SLO explicitly. Reviewer re-checks found no blocking/high issues.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Instrument plugin overhead and latency SLO metrics","updated_at":"2026-03-01T05:00:16Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Trigger detector runs on discrete events only\\n- Generic trigger families mapped from command/event signals\\n- Duplicate-event cache and cooldown keys reduce repeated evaluations","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"998f6b80acf67c617330dcc7843951aab75f5f7ba501a8e50d0573869a7426c5","created_at":"2026-03-01T04:15:53Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Build trigger inference based on discrete tool events (especially bash command streams) using normalized command parsing and scoped matching instead of per-token prompt analysis.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.7","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Implement event-driven trigger detector from generic tool streams","updated_at":"2026-03-01T04:15:53Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Advisory and soft-gate paths implemented\\n- Cooldown and escalation behavior validated\\n- Intervention volume controls prevent repetitive toasts/reminders","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"244ac27d7ddf09e62360293671ca08a0132778689f290be23a7533fb2f8dea63","created_at":"2026-03-01T04:15:53Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Apply ranked rule hints at trigger time with advisory/soft-gate interventions and strict anti-spam controls (cooldowns, escalation-only warnings, top-k limits).","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.8","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Implement intervention policy and anti-spam controls","updated_at":"2026-03-01T04:15:53Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"- Review command lists rule, trigger, evidence, confidence, enforcement suggestion\\n- Accept/reject/suppress actions persisted\\n- Runtime path uses accepted rules only","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"efbaaa243638d4c28688f8bcc9d4d6290b5eebf3d1b566381394a6ee0cea95b8","created_at":"2026-03-01T04:15:53Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Provide manual workflow to inspect derived procedures and accept/reject/suppress them before runtime injection.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-r91.9","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"Build procedures review and promote workflow","updated_at":"2026-03-01T04:15:53Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"Implemented deterministic Windows-style project label normalization in plugin ingest, added focused mixed-platform unit tests, and documented normalization behavior in plugin reference.","closed_at":"2026-02-21T03:37:09Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"f906a3eff912b8a146d876d001237e1b857497ec02d869d82351b7fa8beac8fb","created_at":"2026-02-15T19:51:56Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Improve _normalize_project_label in plugin ingest to handle Windows-style paths deterministically on non-Windows runtimes (e.g., PureWindowsPath when backslashes or drive-letter prefixes are detected). Add focused unit tests for mixed-platform path strings and document expected normalization behavior.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-skq","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Harden project label normalization for Windows-style paths","updated_at":"2026-02-21T03:37:09Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T22:54:06Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"dd942bb0e02016c9f2b5bfc06801e7da62d121e33b7132ebbab5fafcdbbfe23a","created_at":"2026-02-10T09:41:42Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Add tests covering subprocess failure truthfulness in commands/sync_service_cmds.py and PID reuse safety in sync_runtime.py. Validate guardrails around autostart and stop behavior.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-ugs","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"[Audit] Add tests for autostart failure reporting and pidfile safety","updated_at":"2026-02-12T22:54:06Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-16T08:41:41Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d4466644de85434c9b2a24d805c1a5df4041b207185de9edd4fdc48ba82b5cfb","created_at":"2026-02-16T08:25:43Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-vgb","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Implement semantic theme tokens and add new viewer variants while preserving existing light/dark defaults. Add accessible theme switcher options and persistence. Run CodeReviewer + gordon-ramsay review before PR.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Expand viewer color theme system with additional variants","updated_at":"2026-02-16T08:41:41Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T15:20:25Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"1005a1f194a2be9acf0417f59a03e121332b9c0f2f4cd5fed62524242de5fa0d","created_at":"2026-02-10T13:10:53Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Decide and document the supported distribution channels for opencode-mem, including Python CLI packaging (PyPI) and plugin packaging (npm) for minimal-friction installs.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-vhy","is_template":0,"issue_type":"feature","last_activity":null,"metadata":"{}","mol_type":"","notes":"Distribution strategy finalized: npm is primary installation front door for OpenCode plugin users (canonical package @kunickiaj/codemem, unscoped codemem reserved), Python CLI/runtime published on PyPI (codemem, codemem-core reserved). Keep Python core architecture; npm plugin performs runtime/version checks and provides guided bootstrap/upgrade messaging. Repo renamed to codemem and post-rename URL sweep completed.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Define distribution strategy for opencode-mem (PyPI and npm)","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-11T16:47:43Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"8e017d507924a1147f9a2582ee6191f4f9d718724b6e7f63e840ae23b16c4491","created_at":"2026-02-11T16:46:11Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-w2f","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Enable plugin auto-start on launch and update migration docs","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"PR #100 - observer detects auth errors and sweeper backs off 5min instead of retrying every 30s tick","closed_at":"2026-02-21T00:22:28Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"d45f59d78fcd93994cc43f39f7d833a380eaa0d04061d8a32a397e6be8ff84be","created_at":"2026-02-20T23:28:13Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"When the observer's OpenAI token expires (401 AuthenticationError), the raw-event queue worker retries repeatedly, spamming the viewer foreground log with stack traces. The flush should detect auth errors as non-retryable, log a clear warning once, and back off instead of retrying every tick. Currently the error path raises RuntimeError('observer failed during raw-event flush') which is caught but immediately retried on the next tick cycle.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-x4l","is_template":0,"issue_type":"bug","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Raw event flush: handle expired/invalid OpenAI auth gracefully","updated_at":"2026-02-21T00:22:28Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"Deliver design doc with shell-specific hook approach for bash zsh fish, failure-mode and startup-latency analysis, idempotent install/uninstall contract, and minimum viable rollout plan; include recommendation whether to proceed to implementation and what to defer.","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":null,"closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"dca8ccc4fdc064cab48b93fec28307e7d651bc653eb0b272f772882fe066c1e3","created_at":"2026-03-02T02:20:12Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Run a discovery spike for non-OpenCode shell integration, defining install model, hooks, safety constraints, and phased implementation plan before shipping code.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":180,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-xo9","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Expected outputs: docs/rfcs or docs/design note plus concrete follow-up beads if approved. Include test strategy for snippet generation and temp-dotfile smoke tests.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":3,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"open","target":"","timeout_ns":0,"title":"spike(integrations): design first-class bash/zsh/fish integration path","updated_at":"2026-03-02T02:20:12Z","waiters":"","wisp_type":"","work_type":""}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T09:05:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"e7bc4127f1b6497898689419ea674f866987340b4554bec291c9b7edead6f70e","created_at":"2026-02-12T08:28:37Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-xyv","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Enforce npm/PyPI version match in release workflow","updated_at":"2026-02-12T09:05:02Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-10T15:26:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"b344af6dedd3b703a01cb18e9d6b102f15cd7b744cd7dbe6409268467b68d1ec","created_at":"2026-02-10T14:11:27Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"Plan and execute migration from opencode-mem naming to the new brand/package names with backward compatibility.","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-z0g","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"Defined migration/compatibility plan in docs/rename-migration.md with canonical names (repo/npm/PyPI), two-release compatibility policy for opencode-mem command, plugin config migration examples, release-note communication template, and completion criteria. This establishes deprecation timeline and user-facing guidance for transition.","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":1,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Define rename migration and compatibility plan","updated_at":"2026-02-11T20:41:37Z","waiters":"","wisp_type":"","work_type":"mutex"}
{"acceptance_criteria":"","actor":"","agent_state":"","assignee":null,"await_id":"","await_type":"","close_reason":"","closed_at":"2026-02-12T09:05:02Z","closed_by_session":"","compacted_at":null,"compacted_at_commit":null,"compaction_level":0,"content_hash":"67f49a63f635ee4d43886a8b3e7b1b78ce9889b98c84c179c5513305e501cb19","created_at":"2026-02-12T08:28:37Z","created_by":"Adam Kunicki","crystallizes":0,"defer_until":null,"description":"","design":"","due_at":null,"ephemeral":0,"estimated_minutes":null,"event_kind":"","external_ref":null,"hook_bead":"","id":"codemem-z2n","is_template":0,"issue_type":"task","last_activity":null,"metadata":"{}","mol_type":"","notes":"","original_size":null,"owner":"kunickiaj@gmail.com","payload":"","pinned":0,"priority":2,"quality_score":null,"rig":"","role_bead":"","role_type":"","sender":"","source_repo":"","source_system":"","spec_id":"","status":"closed","target":"","timeout_ns":0,"title":"Keep @opencode-ai/plugin dependency aligned between root and .opencode package.json","updated_at":"2026-02-12T09:05:02Z","waiters":"","wisp_type":"","work_type":"mutex"}
